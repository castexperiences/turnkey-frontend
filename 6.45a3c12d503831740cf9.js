(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+izf":function(n,e,i){},"/wnf":function(n,e,i){"use strict";i.d(e,"a",(function(){return a}));var t=i("fXoL"),c=i("ofXK");function o(n,e){if(1&n){var i=t.hc();t.gc(0,"button",2),t.rc("click",(function(){return t.Pc(i),t.vc().showConfirmAction()})),t.bc(1,"span",3),t.fc()}if(2&n){var c=t.vc();t.Cc("disabled",c.state.disabled)}}function s(n,e){if(1&n){var i=t.hc();t.gc(0,"button",4),t.rc("click",(function(){return t.Pc(i),t.vc().confirmed()})),t.bc(1,"span",3),t.fc()}}var a=function(){function n(){this.state={confirming:!1,disabled:!1},this.confirmedAction=new t.q}return Object.defineProperty(n.prototype,"disabledState",{set:function(n){this.state.disabled=n},enumerable:!1,configurable:!0}),n.prototype.confirmed=function(){this.state.confirming=!1,this.confirmedAction.emit()},n.prototype.showConfirmAction=function(){var n=this;this.state.confirming=!0,setTimeout((function(){n.state.confirming=!1}),3e3)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["confirm-delete-no-modal"]],inputs:{disabledState:"disabledState"},outputs:{confirmedAction:"confirmedAction"},decls:2,vars:2,consts:[["class","small-button btn-outline-danger round",3,"disabled","click",4,"ngIf"],["class","small-button btn-outline-warning round",3,"click",4,"ngIf"],[1,"small-button","btn-outline-danger","round",3,"disabled","click"],[1,"fa","fa-trash-alt"],[1,"small-button","btn-outline-warning","round",3,"click"]],template:function(n,e){1&n&&(t.bd(0,o,2,1,"button",0),t.bd(1,s,2,0,"button",1)),2&n&&(t.Cc("ngIf",!e.state.confirming),t.Mb(1),t.Cc("ngIf",e.state.confirming))},directives:[c.u],encapsulation:2}),n}()},"9WpQ":function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n,e){if(!n)return"";var i=e.length>0?parseInt(e[0],10):20,t=e.length>1?e[1]:"...";return n.length>i?n.substring(0,i)+t:n},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Zb({name:"truncate",type:n,pure:!0}),n}()},BaBC:function(n,e,i){"use strict";i.d(e,"a",(function(){return f}));var t,c,o,s,a=i("lTCR"),r=i.n(a),d=r()(t||(o=["\n    query suppliersList (\n        $isManufacturer: Boolean\n    ) {\n        suppliers (\n            isManufacturer: $isManufacturer\n        ) {\n            edges  {\n                node {\n                    id\n                    company\n                    contactName\n                    email\n                    telephone\n                    parent {\n                        id\n                        company\n                    }\n                    isManufacturer\n                }\n            }\n        }\n    }\n"],s=["\n    query suppliersList (\n        $isManufacturer: Boolean\n    ) {\n        suppliers (\n            isManufacturer: $isManufacturer\n        ) {\n            edges  {\n                node {\n                    id\n                    company\n                    contactName\n                    email\n                    telephone\n                    parent {\n                        id\n                        company\n                    }\n                    isManufacturer\n                }\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,t=o)),u=r()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createSupplier(\n        $company: String!\n        $contactName: String!\n        $email: String\n        $telephone: String\n        $address: String\n        $notes: String\n        $isManufacturer: Boolean!\n    ) {\n        createSupplier(input: {\n            clientMutationId: ""\n            company: $company\n            contactName: $contactName\n            email: $email\n            telephone: $telephone\n            address: $address\n            notes: $notes\n            isManufacturer: $isManufacturer\n        }) {\n            id\n        }\n    }\n'],['\n    mutation createSupplier(\n        $company: String!\n        $contactName: String!\n        $email: String\n        $telephone: String\n        $address: String\n        $notes: String\n        $isManufacturer: Boolean!\n    ) {\n        createSupplier(input: {\n            clientMutationId: ""\n            company: $company\n            contactName: $contactName\n            email: $email\n            telephone: $telephone\n            address: $address\n            notes: $notes\n            isManufacturer: $isManufacturer\n        }) {\n            id\n        }\n    }\n']))),l=i("fXoL"),g=i("/IUn"),f=function(){function n(n){this.apollo=n}return n.prototype.list=function(n){return this.apollo.query({variables:{isManufacturer:n},query:d})},n.prototype.create=function(n){return this.apollo.mutate({mutation:u,variables:n})},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},D2Fp:function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){this._value="\xa3"}return Object.defineProperty(n.prototype,"value",{set:function(n){this._value=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["input-append"]],inputs:{value:"value"},decls:3,vars:1,consts:[[1,"input-group-append"],[1,"input-group-text"]],template:function(n,e){1&n&&(t.gc(0,"div",0),t.gc(1,"div",1),t.dd(2),t.fc(),t.fc()),2&n&&(t.Mb(2),t.ed(e._value))},encapsulation:2}),n}()},DwNB:function(n,e,i){"use strict";i.d(e,"a",(function(){return s}));var t=i("fXoL"),c=i("ofXK");function o(n,e){if(1&n&&(t.gc(0,"div",1),t.gc(1,"b"),t.dd(2),t.fc(),t.fc()),2&n){var i=t.vc();t.Cc("ngClass","alert-"+i._alertType),t.Mb(2),t.ed(i._text)}}var s=function(){function n(){}return Object.defineProperty(n.prototype,"alertType",{set:function(n){this._alertType=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{set:function(n){this._text=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"display",{set:function(n){this._display=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["modal-alert"]],inputs:{alertType:"alertType",text:"text",display:"display"},decls:1,vars:1,consts:[["class","modal-alert",3,"ngClass",4,"ngIf"],[1,"modal-alert",3,"ngClass"]],template:function(n,e){1&n&&t.bd(0,o,3,2,"div",0),2&n&&t.Cc("ngIf",e._display)},directives:[c.u,c.r],encapsulation:2}),n}()},KPdS:function(n,e,i){"use strict";i.d(e,"a",(function(){return d}));var t=i("fXoL"),c=i("ZOsW"),o=i("1QgP"),s=i("3Pt+"),a=i("ofXK");function r(n,e){if(1&n&&(t.gc(0,"ng-option",5),t.dd(1),t.fc()),2&n){var i=e.$implicit;t.Cc("value",i),t.Mb(1),t.ed(i)}}var d=function(){function n(){this.searchEmitter=new t.q}return Object.defineProperty(n.prototype,"searchFields",{set:function(n){this._searchFields=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultField",{set:function(n){this.searchField=n},enumerable:!1,configurable:!0}),n.prototype.clearSearch=function(){this.searchQuery=null},n.prototype.search=function(){var n=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(e){n.searchEmitter.emit({searchField:n.searchField,searchQuery:n.searchQuery})}),500)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["search"]],inputs:{searchFields:"searchFields",defaultField:"defaultField"},outputs:{searchEmitter:"searchEmitter"},decls:5,vars:5,consts:[["role","group",1,"btn-group","table-search"],["appShowErrorInputClass","","id","searchFieldId","name","searchFieldId","placeholder","-- Please Select --",3,"ngModel","searchable","clearable","ngModelChange","change"],["searchFieldId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["appShowErrorInputClass","","id","searchQuery","name","searchQuery","placeholder","Search","type","search","required","",1,"form-control",3,"ngModel","ngModelChange","keyup"],[3,"value"]],template:function(n,e){1&n&&(t.gc(0,"div",0),t.gc(1,"ng-select",1,2),t.rc("ngModelChange",(function(n){return e.searchField=n}))("change",(function(){return e.search()})),t.bd(3,r,2,2,"ng-option",3),t.fc(),t.gc(4,"input",4),t.rc("ngModelChange",(function(n){return e.searchQuery=n}))("keyup",(function(){return e.search()})),t.fc(),t.fc()),2&n&&(t.Mb(1),t.Cc("ngModel",e.searchField)("searchable",!1)("clearable",!1),t.Mb(2),t.Cc("ngForOf",e._searchFields),t.Mb(1),t.Cc("ngModel",e.searchQuery))},directives:[c.a,o.a,s.k,s.n,a.t,s.d,s.u,c.n],encapsulation:2}),n}()},KWY1:function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n){return(100*n).toFixed(2)+"%"},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Zb({name:"percentage",type:n,pure:!0}),n}()},QVjv:function(n,e,i){"use strict";i.d(e,"a",(function(){return M}));var t,c,o,s,a,r,d,u,l=i("lTCR"),g=i.n(l),f=g()(t||(d=["\n    query jobList(\n        $after: String\n        $complete: Boolean\n        $inProduction: Boolean\n        $jobId: Int\n        $submissionId: Int\n        $customerName: String\n        $eventName: String\n        $castingCode: String\n        $incomingBatch: String\n        $outgoingBatch: String\n        $incomingBatched: Boolean\n        $onHold: Boolean\n        $dueOrder: String\n    ) {\n        jobs (\n            after: $after\n            complete: $complete\n            status_inProduction: $inProduction\n            id: $jobId\n            submission_id: $submissionId\n            submission_customer_fullName: $customerName\n            submission_customer_event_name: $eventName\n            submission_castingCode: $castingCode\n            incomingBatch: $incomingBatch\n            outgoingBatch: $outgoingBatch\n            status_incomingBatched: $incomingBatched\n            onHold: $onHold\n            order: {due: $dueOrder},\n        ) {\n            totalCount\n            edges  {\n                node {\n                    id\n                    submission {\n                        id\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            country\n                            postcode\n                            phone\n                            email\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        status {\n                            id\n                            name\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        batch {\n                            id\n                        }\n                        waxWeight\n                        metalWeight\n                        baseMetal {\n                            id\n                            name\n                        }\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        castingCode\n                        kit {\n                            id\n                            regCode\n                        }\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        jumpRing\n                        jumpRingPlacement\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        stoneDescription\n                        customerNotes\n                        internalNotes\n                        totalPrice\n                        submittedAt\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    manufacturer {\n                        id\n                        company\n                    }\n                    currentlyWith {\n                        id\n                        company\n                    }\n                    status {\n                        id\n                        name\n                    }\n                    complete\n                    due\n                    rush\n                    onHold\n                    outgoingBatch {\n                        id\n                    }\n                    incomingBatch {\n                        id\n                    }\n                }\n                cursor\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"],u=["\n    query jobList(\n        $after: String\n        $complete: Boolean\n        $inProduction: Boolean\n        $jobId: Int\n        $submissionId: Int\n        $customerName: String\n        $eventName: String\n        $castingCode: String\n        $incomingBatch: String\n        $outgoingBatch: String\n        $incomingBatched: Boolean\n        $onHold: Boolean\n        $dueOrder: String\n    ) {\n        jobs (\n            after: $after\n            complete: $complete\n            status_inProduction: $inProduction\n            id: $jobId\n            submission_id: $submissionId\n            submission_customer_fullName: $customerName\n            submission_customer_event_name: $eventName\n            submission_castingCode: $castingCode\n            incomingBatch: $incomingBatch\n            outgoingBatch: $outgoingBatch\n            status_incomingBatched: $incomingBatched\n            onHold: $onHold\n            order: {due: $dueOrder},\n        ) {\n            totalCount\n            edges  {\n                node {\n                    id\n                    submission {\n                        id\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            country\n                            postcode\n                            phone\n                            email\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        status {\n                            id\n                            name\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        batch {\n                            id\n                        }\n                        waxWeight\n                        metalWeight\n                        baseMetal {\n                            id\n                            name\n                        }\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        castingCode\n                        kit {\n                            id\n                            regCode\n                        }\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        jumpRing\n                        jumpRingPlacement\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        stoneDescription\n                        customerNotes\n                        internalNotes\n                        totalPrice\n                        submittedAt\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    manufacturer {\n                        id\n                        company\n                    }\n                    currentlyWith {\n                        id\n                        company\n                    }\n                    status {\n                        id\n                        name\n                    }\n                    complete\n                    due\n                    rush\n                    onHold\n                    outgoingBatch {\n                        id\n                    }\n                    incomingBatch {\n                        id\n                    }\n                }\n                cursor\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(d,"raw",{value:u}):d.raw=u,t=d)),b=g()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateJob(\n        $id: ID!,\n        $currentlyWith: String,\n        $due: String,\n        $rush: Boolean,\n        $onHold: Boolean,\n    ) {\n        updateJob(input: {\n            id: $id\n            currentlyWith: $currentlyWith,\n            due: $due,\n            rush: $rush,\n            onHold: $onHold,\n            clientMutationId: "",\n        }) {\n            id\n        }\n    }\n'],['\n    mutation updateJob(\n        $id: ID!,\n        $currentlyWith: String,\n        $due: String,\n        $rush: Boolean,\n        $onHold: Boolean,\n    ) {\n        updateJob(input: {\n            id: $id\n            currentlyWith: $currentlyWith,\n            due: $due,\n            rush: $rush,\n            onHold: $onHold,\n            clientMutationId: "",\n        }) {\n            id\n        }\n    }\n']))),m=g()(o||(o=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateOutgoingBatch(\n        $id: ID!,\n        $outgoingBatch: String\n        $status: String\n    ) {\n        updateJob(input: {\n            id: $id,\n            outgoingBatch: $outgoingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation updateOutgoingBatch(\n        $id: ID!,\n        $outgoingBatch: String\n        $status: String\n    ) {\n        updateJob(input: {\n            id: $id,\n            outgoingBatch: $outgoingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),p=g()(s||(s=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createJob(\n        $submission: String!,\n        $manufacturer: String!,\n        $status: String!,\n        $outgoingBatch: String,\n        $complete: Boolean!,\n        $rush: Boolean!,\n        $onHold: Boolean!,\n        $due: String,\n        $createdAt: String!,\n    ) {\n        createJob(input: {\n            clientMutationId: ""\n            submission: $submission,\n            manufacturer: $manufacturer,\n            status: $status,\n            outgoingBatch: $outgoingBatch,\n            complete: $complete,\n            rush: $rush,\n            onHold: $onHold,\n            due: $due,\n            createdAt: $createdAt,\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation createJob(\n        $submission: String!,\n        $manufacturer: String!,\n        $status: String!,\n        $outgoingBatch: String,\n        $complete: Boolean!,\n        $rush: Boolean!,\n        $onHold: Boolean!,\n        $due: String,\n        $createdAt: String!,\n    ) {\n        createJob(input: {\n            clientMutationId: ""\n            submission: $submission,\n            manufacturer: $manufacturer,\n            status: $status,\n            outgoingBatch: $outgoingBatch,\n            complete: $complete,\n            rush: $rush,\n            onHold: $onHold,\n            due: $due,\n            createdAt: $createdAt,\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),v=g()(a||(a=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query jobsByBatch(\n        $first: Int,\n        $outgoingBatch: String,\n        $incomingBatch: String\n    ) {\n        jobs(\n            first: $first,\n            outgoingBatch: $outgoingBatch,\n            incomingBatch: $incomingBatch,\n            \n        ) {\n            edges  {\n                node {\n                    id\n                    complete\n                    rush\n                    due\n                    createdAt\n                    submission {\n                        id\n                        status {\n                            id\n                            name\n                        }\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            postcode\n                            country\n                            email\n                            phone\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        castingCode\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringSize {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        measuredRingSize {\n                            id\n                            name\n                        }\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        baseMetal {\n                            id\n                            name\n                        }\n                        baseMetalPaid\n                        baseMetalPrice\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        stoneDescription\n                        upsellAdditionalItem\n                        upsellPlating\n                        upsellEngraving\n                        upsellStoneSetting\n                        upsellBaseMetal\n                        upsellEarring\n                        submittedAt\n                        updatedAt\n                        customerNotes\n                        internalNotes\n                        totalPrice\n                        amountPaid\n                        estimatedLaborCost\n                        estimatedMetalCost\n                        waxWeight\n                        metalWeight\n                        jumpRing\n                        jumpRingPlacement\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    jobActions {\n                        edges {\n                            node {\n                                id\n                                action {\n                                    id\n                                    name\n                                }\n                                supplier {\n                                    id\n                                    company\n                                }\n                                started\n                                startedAt\n                                completed\n                                completedAt\n                                estimatedLaborCost\n                                estimatedMetalCost\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"],["\n    query jobsByBatch(\n        $first: Int,\n        $outgoingBatch: String,\n        $incomingBatch: String\n    ) {\n        jobs(\n            first: $first,\n            outgoingBatch: $outgoingBatch,\n            incomingBatch: $incomingBatch,\n            \n        ) {\n            edges  {\n                node {\n                    id\n                    complete\n                    rush\n                    due\n                    createdAt\n                    submission {\n                        id\n                        status {\n                            id\n                            name\n                        }\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            postcode\n                            country\n                            email\n                            phone\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        castingCode\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringSize {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        measuredRingSize {\n                            id\n                            name\n                        }\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        baseMetal {\n                            id\n                            name\n                        }\n                        baseMetalPaid\n                        baseMetalPrice\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        stoneDescription\n                        upsellAdditionalItem\n                        upsellPlating\n                        upsellEngraving\n                        upsellStoneSetting\n                        upsellBaseMetal\n                        upsellEarring\n                        submittedAt\n                        updatedAt\n                        customerNotes\n                        internalNotes\n                        totalPrice\n                        amountPaid\n                        estimatedLaborCost\n                        estimatedMetalCost\n                        waxWeight\n                        metalWeight\n                        jumpRing\n                        jumpRingPlacement\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    jobActions {\n                        edges {\n                            node {\n                                id\n                                action {\n                                    id\n                                    name\n                                }\n                                supplier {\n                                    id\n                                    company\n                                }\n                                started\n                                startedAt\n                                completed\n                                completedAt\n                                estimatedLaborCost\n                                estimatedMetalCost\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),h=g()(r||(r=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateIncomingBatch(\n        $id: ID!,\n        $incomingBatch: String,\n        $status: String,\n        \n    ) {\n        updateJob(input: {\n            id: $id,\n            incomingBatch: $incomingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation updateIncomingBatch(\n        $id: ID!,\n        $incomingBatch: String,\n        $status: String,\n        \n    ) {\n        updateJob(input: {\n            id: $id,\n            incomingBatch: $incomingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),y=i("fXoL"),C=i("/IUn"),M=function(){function n(n){this.apollo=n}return n.prototype.create=function(n){return this.apollo.mutate({mutation:p,variables:n})},n.prototype.list=function(n,e,i,t,c,o,s,a,r,d,u,l,g){return void 0===e&&(e=null),void 0===i&&(i=null),void 0===t&&(t=null),void 0===c&&(c=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===d&&(d=null),void 0===u&&(u=null),void 0===l&&(l=null),void 0===g&&(g="ASC"),this.apollo.watchQuery({query:f,fetchPolicy:"network-only",variables:{after:i,complete:n,inProduction:e,jobId:t,submissionId:c,customerName:o,eventName:s,castingCode:a,incomingBatch:r,outgoingBatch:d,incomingBatched:u,onHold:l,dueOrder:g}}).valueChanges},n.prototype.listByOutgoingBatch=function(n,e){return this.apollo.query({query:v,variables:{first:e,outgoingBatch:n},fetchPolicy:"network-only"})},n.prototype.listByIncomingBatch=function(n,e){return this.apollo.query({query:v,variables:{first:e,incomingBatch:n},fetchPolicy:"network-only"})},n.prototype.update=function(n){return this.apollo.mutate({mutation:b,variables:n})},n.prototype.updateOutgoingBatch=function(n){return this.apollo.mutate({mutation:m,variables:n})},n.prototype.updateIncomingBatch=function(n){return this.apollo.mutate({mutation:h,variables:n})},n.\u0275fac=function(e){return new(e||n)(y.oc(C.b))},n.\u0275prov=y.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},XhFI:function(n,e,i){"use strict";i.d(e,"a",(function(){return S}));var t=i("fXoL"),c=i("1kSV"),o=i("ofXK"),s=i("iUZM"),a=i("aX/C"),r=i("o973"),d=i("wOBz"),u=i("jmmt"),l=i("b44C"),g=i("XXSO"),f=i("SjCM");function b(n,e){if(1&n){var i=t.hc();t.gc(0,"a",3),t.rc("click",(function(n){t.Pc(i);var e=t.vc(),c=t.Mc(3);return e.openModal(c,n)})),t.bc(1,"span",4),t.fc()}}function m(n,e){if(1&n){var i=t.hc();t.gc(0,"button",5),t.rc("click",(function(n){t.Pc(i);var e=t.vc(),c=t.Mc(3);return e.openModal(c,n)})),t.fc()}}function p(n,e){if(1&n&&t.bc(0,"submission-view-stones",23),2&n){var i=t.vc(3);t.Cc("stoneDescription",i._submission.stoneDescription)("stones",i._stones)}}function v(n,e){1&n&&(t.gc(0,"div",24),t.bc(1,"loading-ring",25),t.fc()),2&n&&(t.Mb(1),t.Cc("size",60))}function h(n,e){if(1&n&&(t.gc(0,"div",13),t.gc(1,"div",16),t.bd(2,p,1,2,"submission-view-stones",21),t.bd(3,v,2,1,"div",22),t.fc(),t.fc()),2&n){var i=t.vc(2);t.Mb(2),t.Cc("ngIf",!i._loadingStones&&i._stones.length),t.Mb(1),t.Cc("ngIf",i._loadingStones)}}function y(n,e){if(1&n&&(t.gc(0,"div",26),t.gc(1,"div",16),t.bc(2,"submission-view-photos",27),t.fc(),t.fc()),2&n){var i=t.vc(2);t.Mb(2),t.Cc("photos",i._photos)}}function C(n,e){if(1&n&&(t.gc(0,"div",28),t.gc(1,"div",14),t.gc(2,"h5",29),t.dd(3,"Jobs"),t.fc(),t.bc(4,"app-submission-view-jobs",30),t.fc(),t.fc()),2&n){var i=t.vc(2);t.Mb(4),t.Cc("jobs",i._submission.jobs.edges)}}function M(n,e){if(1&n&&(t.gc(0,"div",6),t.gc(1,"div",7),t.gc(2,"div",8),t.gc(3,"h5",9),t.dd(4,"Submission "),t.gc(5,"a",10),t.wc(6,"numericId"),t.dd(7),t.wc(8,"numericId"),t.fc(),t.fc(),t.fc(),t.gc(9,"div",11),t.gc(10,"div"),t.wc(11,"lowercaseDashes"),t.gc(12,"span"),t.dd(13),t.fc(),t.fc(),t.fc(),t.fc(),t.fc(),t.gc(14,"div",12),t.gc(15,"div",13),t.gc(16,"div",14),t.bc(17,"submission-view-customer",15),t.fc(),t.fc(),t.gc(18,"div",13),t.gc(19,"div",16),t.bc(20,"submission-view-submission",17),t.fc(),t.fc(),t.bd(21,h,4,2,"div",18),t.bd(22,y,3,1,"div",19),t.bd(23,C,5,1,"div",20),t.fc()),2&n){var i=t.vc();t.Mb(5),t.Ec("href","/submission/view/",t.xc(6,20,i._submission.id),"",t.Sc),t.Mb(2),t.fd(" #",t.xc(8,22,i._submission.id),""),t.Mb(3),t.Pb("status-pill status-",t.xc(11,24,i._submission.status.name),""),t.Mb(3),t.ed(i._submission.status.name),t.Mb(4),t.Cc("castingCode",i._submission&&i._submission.castingCode?i._submission.castingCode:null)("customer",i._submission.customer)("isAdmin",i._isAdmin)("loadingCastingCode",i._loadingCastingCode)("originalCastingCode",i._castingCode)("regCode",i._submission.kit?i._submission.kit.regCode:null),t.Mb(3),t.Cc("castingCode",i._castingCode)("isAdmin",i._isAdmin)("loadingCastingCode",i._loadingCastingCode)("originalCastingCode",i._castingCode)("submission",i._submission),t.Mb(1),t.Cc("ngIf",!i._loadingStones&&i._stones.length),t.Mb(1),t.Cc("ngIf",i._photos&&i._photos.length>0),t.Mb(1),t.Cc("ngIf",i._submission.jobs&&i._submission.jobs.edges.length>0)}}var S=function(){function n(n){this.modalService=n,this._isAdmin=!1}return Object.defineProperty(n.prototype,"submission",{set:function(n){this._submission=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"photos",{set:function(n){this._photos=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stones",{set:function(n){this._stones=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingStones",{set:function(n){this._loadingStones=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buttonStyle",{set:function(n){this._buttonStyle=n},enumerable:!1,configurable:!0}),n.prototype.openModal=function(n,e){e.stopPropagation(),this.modalService.open(n,{size:"lg"})},n.\u0275fac=function(e){return new(e||n)(t.ac(c.i))},n.\u0275cmp=t.Ub({type:n,selectors:[["view-submission-modal"]],inputs:{submission:"submission",photos:"photos",stones:"stones",castingCode:"castingCode",loadingStones:"loadingStones",loadingCastingCode:"loadingCastingCode",isAdmin:"isAdmin",buttonStyle:"buttonStyle"},decls:4,vars:2,consts:[["class","discreet-button",3,"click",4,"ngIf"],["class","btn icon-btn-outline mx-1 fas fa-search","type","button",3,"click",4,"ngIf"],["modalViewSubmission",""],[1,"discreet-button",3,"click"],[1,"fas","fa-search"],["type","button",1,"btn","icon-btn-outline","mx-1","fas","fa-search",3,"click"],[1,"modal-header","in-portal"],[1,"d-flex","w-100"],[1,"flex-grow-1"],["id","modal-basic-title",1,"modal-title"],["target","_blank",3,"href"],[1,"status"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"castingCode","customer","isAdmin","loadingCastingCode","originalCastingCode","regCode"],[1,"col-md-12","mt-3"],[3,"castingCode","isAdmin","loadingCastingCode","originalCastingCode","submission"],["class","row",4,"ngIf"],["class","row","id","submissionPhotos",4,"ngIf"],["class","row my-3",4,"ngIf"],[3,"stoneDescription","stones",4,"ngIf"],["class","mt-3 col-12",4,"ngIf"],[3,"stoneDescription","stones"],[1,"mt-3","col-12"],[3,"size"],["id","submissionPhotos",1,"row"],[3,"photos"],[1,"row","my-3"],[1,"card-title"],[3,"jobs"]],template:function(n,e){1&n&&(t.bd(0,b,2,0,"a",0),t.bd(1,m,1,0,"button",1),t.bd(2,M,24,26,"ng-template",null,2,t.cd)),2&n&&(t.Cc("ngIf",!e._buttonStyle),t.Mb(1),t.Cc("ngIf",e._buttonStyle))},directives:[o.u,s.a,a.a,r.a,d.a,u.a,l.a],pipes:[g.a,f.a],encapsulation:2}),n}()},YbyT:function(n,e,i){"use strict";i.d(e,"a",(function(){return o}));var t=i("fXoL"),c=i("jhN1"),o=function(){function n(n){this.sanitizer=n}return Object.defineProperty(n.prototype,"queryParams",{set:function(n){for(var e="",i=0,t=n;i<t.length;i++){var c=t[i];c&&(e+=c+" ")}e=e.replace(/[|&;$%@"<>()+,]/g,""),this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://maps.google.com/maps?q="+e+"&output=embed")},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(t.ac(c.b))},n.\u0275cmp=t.Ub({type:n,selectors:[["embedded-map"]],inputs:{queryParams:"queryParams"},decls:1,vars:1,consts:[["frameborder","0","scrolling","no","marginheight","0","marginwidth","0",3,"src"]],template:function(n,e){1&n&&t.bc(0,"iframe",0),2&n&&t.Cc("src",e.url,t.Rc)},styles:["iframe[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}"]}),n}()},"aX/C":function(n,e,i){"use strict";i.d(e,"a",(function(){return pe}));var t,c,o,s=i("szSY"),a=i("zOkP"),r=i("PC64"),d=i("Rmj+"),u=i("lTCR"),l=(i.n(u)()(t||(c=["\n    query platingList {\n        platings {\n            edges {\n                node {\n                    id\n                    name\n                    price\n                }\n            }\n        }\n    }\n"],o=["\n    query platingList {\n        platings {\n            edges {\n                node {\n                    id\n                    name\n                    price\n                }\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(c,"raw",{value:o}):c.raw=o,t=c)),i("fXoL")),g=(i("/IUn"),i("oZ8P")),f=i("S6Vu"),b=i("5eHb"),m=i("3Pt+"),p=i("ofXK"),v=i("ZOsW"),h=i("1kSV"),y=i("PxxC"),C=i("9tk/"),M=i("zVvu");function S(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Casting Type"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"titlecase"),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(4),l.ed(l.xc(5,1,i._submission.castingType.name))}}function P(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.waxWeight,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Sb("no",!t._submission.waxWeight),l.Mb(1),l.fd(" ",t._submission.waxWeight?t._submission.waxWeight+"g":"Not yet weighed"," ")}}function _(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.waxWeight,n)})),l.gc(2,"input",20,21),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc()._submission.waxWeight=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(2),l.Cc("ngModel",t._submission.waxWeight)}}function k(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Expected Weight"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"number"),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(4),l.fd("",l.yc(5,1,i._submission.expectedFinishWeight,"1.2-3"),"g")}}function w(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Date Received"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"simpleDateTime"),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(4),l.ed(l.xc(5,1,i._submission.dateReceived))}}function I(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Labor Cost"),l.fc(),l.gc(3,"span"),l.gc(4,"strong"),l.dd(5),l.wc(6,"currency"),l.fc(),l.gc(7,"span",24),l.dd(8,"Based on the submission"),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(5),l.ed(l.xc(6,1,i._submission.castingEstimateLaborSubmission))}}function x(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Metal Cost"),l.fc(),l.gc(3,"span"),l.gc(4,"strong"),l.dd(5),l.wc(6,"currency"),l.fc(),l.gc(7,"span",24),l.dd(8,"Based on the submission"),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(5),l.ed(l.xc(6,1,i._submission.castingEstimateMetalSubmission))}}function $(n,e){if(1&n&&(l.gc(0,"span",24),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var i=l.vc(2);l.Mb(1),l.fd("(Diff: ",l.xc(2,1,i._submission.castingEstimateLaborSubmission+i._submission.castingEstimateMetalSubmission-i._originalCastingCode.estimatedCost),")")}}function T(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Cost (Code)"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"currency"),l.gc(6,"span",24),l.dd(7,"Based on the casting code"),l.fc(),l.bd(8,$,3,3,"span",25),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(4),l.fd(" ",i._originalCastingCode||0!==i._originalCastingCode.estimatedCost?l.xc(5,2,i._originalCastingCode.estimatedCost):"Nada"," "),l.Mb(4),l.Cc("ngIf",0!==i._originalCastingCode.estimatedCost)}}function E(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.metalWeight,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",t._submission.metalWeight,"g ")}}function A(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.metalWeight,n)})),l.gc(2,"input",26,27),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.metalWeight=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.metalWeight)}}function O(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Finished Weight"),l.fc(),l.bd(3,E,3,1,"span",7),l.bd(4,A,6,1,"div",9),l.fc()),2&n){var i=l.vc();l.Sb("editable",i.keys.metalWeight&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.metalWeight),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.metalWeight)}}function z(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Casting Paid"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"currency"),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(4),l.fd(" ",l.xc(5,1,i._submission.castingPrice)," ")}}function B(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.baseMetalPaid,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Sb("no",!t._submission.baseMetalPaid)("yes",t._submission.baseMetalPaid),l.Mb(1),l.Pb("fas ",t._submission.baseMetalPaid?"fa-check":"fa-times","")}}function j(n,e){if(1&n){var i=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.baseMetalPaid,n)})),l.gc(1,"input",29),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.baseMetalPaid=n})),l.fc(),l.bc(2,"label",30),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.Cc("ngModel",t._submission.baseMetalPaid)}}function R(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Base Metal Paid"),l.fc(),l.bd(3,B,3,7,"span",11),l.bd(4,j,3,1,"div",12),l.fc()),2&n){var i=l.vc();l.Sb("editable",i.keys.baseMetalPaid&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.baseMetalPaid),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.baseMetalPaid)}}function N(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"currency"),l.wc(3,"currency"),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.baseMetalPrice,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",!0!==t._submission.baseMetalPaid&&t._submission.baseMetalPrice>0?l.xc(2,1,t._submission.baseMetalPrice)+" deposit":l.xc(3,3,t._submission.baseMetalPrice)," ")}}function D(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.baseMetalPrice,n)})),l.gc(2,"input",31,32),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.baseMetalPrice=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.baseMetalPrice)}}function F(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Base Metal Price"),l.fc(),l.bd(3,N,5,5,"span",7),l.bd(4,D,6,1,"div",9),l.fc()),2&n){var i=l.vc();l.Sb("editable",i.keys.totalPrice&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.baseMetalPrice),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.baseMetalPrice)}}function L(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.gc(1,"strong"),l.dd(2),l.wc(3,"currency"),l.fc(),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.totalPrice,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.ed(l.xc(3,1,t._submission.totalPrice))}}function W(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.totalPrice,n)})),l.gc(2,"input",33,34),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.totalPrice=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.totalPrice)}}function U(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.gc(2,"strong"),l.dd(3,"Total Price"),l.fc(),l.fc(),l.bd(4,L,5,3,"span",7),l.bd(5,W,6,1,"div",9),l.fc()),2&n){var i=l.vc();l.Sb("editable",i.keys.totalPrice&&i._editable),l.Mb(4),l.Cc("ngIf",i.currentlyEditing!==i.keys.totalPrice),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.totalPrice)}}function G(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.gc(1,"strong"),l.dd(2),l.wc(3,"currency"),l.fc(),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.amountPaid,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.ed(l.xc(3,1,t._submission.amountPaid))}}function q(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.amountPaid,n)})),l.gc(2,"input",35,36),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.amountPaid=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.amountPaid)}}function X(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.gc(2,"strong"),l.dd(3,"Amount Paid"),l.fc(),l.fc(),l.bd(4,G,5,3,"span",7),l.bd(5,q,6,1,"div",9),l.fc()),2&n){var i=l.vc();l.Sb("editable",i.keys.amountPaid&&i._editable),l.Mb(4),l.Cc("ngIf",i.currentlyEditing!==i.keys.amountPaid),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.amountPaid)}}function H(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.baseMetal,n,e._submission.baseMetal,e._submissionData.baseMetals)})),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(1),l.fd(" ",l.xc(2,1,t._submission.baseMetal.name)," ")}}function Y(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function V(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.baseMetal,n,e._submission.baseMetal,e._submissionData.baseMetals)})),l.gc(2,"ng-select",37),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc()._submission.baseMetal=n})),l.bd(3,Y,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(2),l.Cc("ngModel",t._submission.baseMetal)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.baseMetals)}}function J(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.ringThickness,n,e._submission.ringThickness,e._submissionData.ringThicknesses)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.ringThickness.name," ")}}function K(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function Q(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.ringThickness,n,e._submission.ringThickness,e._submissionData.ringThicknesses)})),l.gc(2,"ng-select",42),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.ringThickness=n})),l.bd(3,K,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.ringThickness)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.ringThicknesses)}}function Z(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Ring Thickness"),l.fc(),l.bd(3,J,3,1,"span",7),l.bd(4,Q,6,3,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.ringThickness&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.ringThickness),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.ringThickness)}}function nn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.originalRingSize,n,e._submission.originalRingSize,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.originalRingSize?l.xc(2,1,t._submission.originalRingSize.name):"N/A"," ")}}function en(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function tn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.originalRingSize,n,e._submission.originalRingSize,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",43),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.originalRingSize=n})),l.bd(3,en,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.originalRingSize)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.ringSizeCustoms)}}function cn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Original Ring Size"),l.fc(),l.bd(3,nn,4,3,"span",7),l.bd(4,tn,6,3,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.originalRingSize&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.originalRingSize),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.originalRingSize)}}function on(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.ringSizeCustom,n,e._submission.ringSizeCustom,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,t._submission.ringSizeCustom.name)," ")}}function sn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function an(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.ringSizeCustom,n,e._submission.ringSizeCustom,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",44),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.ringSizeCustom=n})),l.bd(3,sn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.ringSizeCustom)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.ringSizeCustoms)}}function rn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.measuredRingSize,n,e._submission.measuredRingSize,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Sb("text-muted",!t._submission.measuredRingSize),l.Mb(1),l.fd(" ",t._submission.measuredRingSize?l.xc(2,3,t._submission.measuredRingSize.name):"Not measured"," ")}}function dn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function un(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.measuredRingSize,n,e._submission.measuredRingSize,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",44),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.measuredRingSize=n})),l.bd(3,dn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.measuredRingSize)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.ringSizeCustoms)}}function ln(n,e){if(1&n&&(l.ec(0),l.bd(1,Z,5,4,"li",10),l.bd(2,cn,5,4,"li",10),l.gc(3,"li"),l.gc(4,"span"),l.dd(5),l.fc(),l.bd(6,on,4,3,"span",7),l.bd(7,an,6,3,"div",9),l.fc(),l.gc(8,"li"),l.gc(9,"span",40),l.dd(10,"Measured Ring Size"),l.fc(),l.bd(11,rn,4,5,"span",41),l.bd(12,un,6,3,"div",9),l.fc(),l.dc()),2&n){var i=l.vc();l.Mb(1),l.Cc("ngIf",i._submission.ringThickness),l.Mb(1),l.Cc("ngIf",i._submission.originalRingSize||i._submission.ringResize),l.Mb(1),l.Sb("editable",i.keys.ringSizeCustom&&i._editable),l.Mb(2),l.fd("",i._submission.ringResize?"Desired":""," Ring Size"),l.Mb(1),l.Cc("ngIf",i.currentlyEditing!==i.keys.ringSizeCustom),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.ringSizeCustom),l.Mb(1),l.Sb("editable",i.keys.measuredRingSize&&i._editable),l.Mb(1),l.Cc("ngbTooltip","The ring size when checked in by CAST"),l.Mb(2),l.Cc("ngIf",i.currentlyEditing!==i.keys.measuredRingSize),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.measuredRingSize)}}function gn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.earringConfig,n,e._submission.earringConfig,e._submissionData.earringConfigs)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,t._submission.earringConfig.name)," ")}}function fn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function bn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.earringConfig,n,e._submission.earringConfig,e._submissionData.earringConfigs)})),l.gc(2,"ng-select",45),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.earringConfig=n})),l.bd(3,fn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.earringConfig)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.earringConfigs)}}function mn(n,e){if(1&n&&(l.ec(0),l.gc(1,"li"),l.gc(2,"span"),l.dd(3,"Earring Config"),l.fc(),l.bd(4,gn,4,3,"span",7),l.bd(5,bn,6,3,"div",9),l.fc(),l.dc()),2&n){var i=l.vc();l.Mb(1),l.Sb("editable",i.keys.earringConfig&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.earringConfig),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.earringConfig)}}function pn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.finish,n,e._submission.finish,e._submissionData.finishes)})),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(1),l.fd(" ",t._submission.finish.name," ")}}function vn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function hn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.finish,n,e._submission.finish,e._submissionData.finishes)})),l.gc(2,"ng-select",46),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc()._submission.finish=n})),l.bd(3,vn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(2),l.Cc("ngModel",t._submission.finish)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.finishes)}}function yn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.jumpRing,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Sb("no",!t._submission.jumpRing)("yes",t._submission.jumpRing),l.Mb(1),l.Pb("fas ",t._submission.jumpRing?"fa-check":"fa-times","")}}function Cn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.jumpRing,n)})),l.gc(1,"input",47),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.jumpRing=n})),l.fc(),l.bc(2,"label",48),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.Cc("ngModel",t._submission.jumpRing)}}function Mn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Jump Ring"),l.fc(),l.bd(3,yn,3,7,"span",11),l.bd(4,Cn,3,1,"div",12),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.jumpRing&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.jumpRing),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.jumpRing)}}function Sn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.jumpRingPlacement,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.jumpRingPlacement," ")}}function Pn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.jumpRingPlacement,n)})),l.gc(2,"textarea",49),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.jumpRingPlacement=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.jumpRingPlacement)}}function _n(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Placement"),l.fc(),l.bd(3,Sn,3,1,"span",7),l.bd(4,Pn,5,1,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.jumpRingPlacement&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.jumpRingPlacement),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.jumpRingPlacement)}}function kn(n,e){if(1&n&&(l.ec(0),l.bd(1,Mn,5,4,"li",10),l.bd(2,_n,5,4,"li",10),l.dc()),2&n){var i=l.vc();l.Mb(1),l.Cc("ngIf",null!==i._submission.jumpRing),l.Mb(1),l.Cc("ngIf",null!==i._submission.jumpRing&&i._submission.jumpRing)}}function wn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.jumpRing,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Sb("no",!t._submission.ringResize)("yes",t._submission.ringResize),l.Mb(1),l.Pb("fas ",t._submission.ringResize?"fa-check":"fa-times","")}}function In(n,e){if(1&n){var i=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.ringResize,n)})),l.gc(1,"input",51),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.ringResize=n}))("click",(function(){return l.Pc(i),l.vc(2).toggleRingResize()})),l.fc(),l.bc(2,"label",52),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.Cc("ngModel",t._submission.ringResize)}}function xn(n,e){if(1&n){var i=l.hc();l.ec(0),l.gc(1,"li",50),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.ringResize,n)})),l.gc(2,"span"),l.dd(3,"Ring Resize"),l.fc(),l.bd(4,wn,3,7,"span",11),l.bd(5,In,3,1,"div",12),l.fc(),l.dc()}if(2&n){var t=l.vc();l.Mb(4),l.Cc("ngIf",t.currentlyEditing!==t.keys.ringResize),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.ringResize)}}function $n(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain"),l.fc(),l.gc(3,"span"),l.bc(4,"i"),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(3),l.Sb("no",!i._submission.chainType||i._submission.chainType.name===i.chainTypeNone)("yes",i._submission.chainType&&i._submission.chainType.name!==i.chainTypeNone),l.Mb(1),l.Pb("fas ",i._submission.chainType&&i._submission.chainType.name!==i.chainTypeNone?"fa-check":"fa-times","")}}function Tn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.dd(2),l.wc(3,"titlecase"),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.plating,n,e._submission.plating,e._submissionData.platings)})),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Sb("no",t._submission.plating&&t._submission.plating.name===t.platingTypeNoPlating)("yes",t._submission.plating&&t._submission.plating.name!==t.platingTypeNoPlating),l.Mb(1),l.Pb("pr-1 fas ",t._submission.plating&&t._submission.plating.name!==t.platingTypeNoPlating?"fa-check":"fa-times",""),l.Mb(1),l.fd("",l.xc(3,8,t._submission.plating.name)," ")}}function En(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function An(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.plating,n,e._submission.plating,e._submissionData.platings)})),l.gc(2,"ng-select",53),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc()._submission.plating=n})),l.bd(3,En,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(i),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(2),l.Cc("ngModel",t._submission.plating)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.platings)}}function On(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.showEngravingSection,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Sb("no",!t._submission.engravingText)("yes",t._submission.engravingText),l.Mb(1),l.Pb("fas ",t._submission.engravingText||t.showEngravingSection?"fa-check":"fa-times","")}}function zn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(i);var e=l.vc();return e.editing(e.keys.showEngravingSection,n)})),l.gc(1,"input",54),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc().showEngravingSection=n}))("click",(function(){return l.Pc(i),l.vc().toggleEngraving()})),l.fc(),l.bc(2,"label",55),l.fc()}if(2&n){var t=l.vc();l.Mb(1),l.Cc("ngModel",t.showEngravingSection)}}function Bn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.chainType,n,e._submission.chainType,e._submissionData.chainTypes)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,t._submission.chainType.name)," ")}}function jn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function Rn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.chainType,n,e._submission.chainType,e._submissionData.chainTypes)})),l.gc(2,"ng-select",56),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.chainType=n})),l.bd(3,jn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.chainType)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.chainTypes)}}function Nn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.chainLength,n,e._submission.chainLength,e._submissionData.chainLengths)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.chainLength?l.xc(2,1,t._submission.chainLength.name):""," ")}}function Dn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function Fn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.chainLength,n,e._submission.chainLength,e._submissionData.chainLengths)})),l.gc(2,"ng-select",58),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.chainLength=n})),l.bd(3,Dn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.chainLength)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.chainLengths)}}function Ln(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain Length"),l.fc(),l.bd(3,Nn,4,3,"span",7),l.bd(4,Fn,6,3,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.chainLength&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.chainLength),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.chainLength)}}function Wn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.chainPlating,n,e._submission.chainPlating,e._submissionData.platings)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.chainPlating?l.xc(2,1,t._submission.chainPlating.name):""," ")}}function Un(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.node),l.Mb(1),l.fd(" ",l.xc(2,2,i.node.name)," ")}}function Gn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.chainPlating,n,e._submission.chainPlating,e._submissionData.platings)})),l.gc(2,"ng-select",59),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.chainPlating=n})),l.bd(3,Un,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.chainPlating)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.platings)}}function qn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain Plating"),l.fc(),l.bd(3,Wn,4,3,"span",7),l.bd(4,Gn,6,3,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.chainPlating&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.chainPlating),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.chainPlating)}}function Xn(n,e){if(1&n&&(l.gc(0,"div",2),l.gc(1,"div",3),l.gc(2,"div",4),l.gc(3,"h6",5),l.dd(4,"Chain"),l.fc(),l.gc(5,"ul",6),l.gc(6,"li"),l.gc(7,"span"),l.dd(8,"Chain Type"),l.fc(),l.bd(9,Bn,4,3,"span",7),l.bd(10,Rn,6,3,"div",9),l.fc(),l.bd(11,Ln,5,4,"li",10),l.bd(12,qn,5,4,"li",10),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(6),l.Sb("editable",i.keys.chainType&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.chainType),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.chainType),l.Mb(1),l.Cc("ngIf",i._submission.chainType.name!==i.chainTypeNone),l.Mb(1),l.Cc("ngIf",i._submission.chainType.name!==i.chainTypeNone)}}function Hn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.engravingFont,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",t._submission.engravingFont?l.xc(2,1,t._submission.engravingFont):""," ")}}function Yn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var i=e.$implicit;l.Cc("value",i.name),l.Mb(1),l.fd(" ",l.xc(2,2,i.name)," ")}}function Vn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.engravingFont,n)})),l.gc(2,"ng-select",60),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.engravingFont=n})),l.bd(3,Yn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.engravingFont)("searchable",!1),l.Mb(1),l.Cc("ngForOf",t._submissionData.engravingFonts)}}function Jn(n,e){if(1&n){var i=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.engravingText,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(1),l.fd(" ",t._submission.engravingText," ")}}function Kn(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(2);return e.editing(e.keys.engravingText,n)})),l.gc(2,"input",61),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(2)._submission.engravingText=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(2);l.Mb(2),l.Cc("ngModel",t._submission.engravingText)}}function Qn(n,e){if(1&n&&(l.gc(0,"div",2),l.gc(1,"div",3),l.gc(2,"div",4),l.gc(3,"h6",5),l.dd(4,"Engraving"),l.fc(),l.gc(5,"ul",6),l.gc(6,"li"),l.gc(7,"span"),l.dd(8,"Engraving Font"),l.fc(),l.bd(9,Hn,4,3,"span",7),l.bd(10,Vn,6,3,"div",9),l.fc(),l.gc(11,"li"),l.gc(12,"span"),l.dd(13,"Engraving Text"),l.fc(),l.bd(14,Jn,3,1,"span",7),l.bd(15,Kn,5,1,"div",9),l.fc(),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(6),l.Sb("editable",i.keys.engravingFont&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.engravingFont),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.engravingFont),l.Mb(1),l.Sb("editable",i.keys.engravingText&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.engravingText),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.engravingText)}}function Zn(n,e){if(1&n){var i=l.hc();l.gc(0,"span",63),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.customerNotes,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.customerNotes?t._submission.customerNotes:"N/A"," ")}}function ne(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.customerNotes,n)})),l.gc(2,"textarea",64),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.customerNotes=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.customerNotes)}}function ee(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Customer Notes"),l.fc(),l.bd(3,Zn,3,1,"span",62),l.bd(4,ne,5,1,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.customerNotes&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.customerNotes),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.customerNotes)}}function ie(n,e){if(1&n){var i=l.hc();l.gc(0,"span",63),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.internalNotes,n)})),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(1),l.fd(" ",t._submission.internalNotes?t._submission.internalNotes:"N/A"," ")}}function te(n,e){if(1&n){var i=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(i);var e=l.vc(3);return e.editing(e.keys.internalNotes,n)})),l.gc(2,"textarea",65),l.rc("ngModelChange",(function(n){return l.Pc(i),l.vc(3)._submission.internalNotes=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",57),l.rc("click",(function(n){return l.Pc(i),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc(3);l.Mb(2),l.Cc("ngModel",t._submission.internalNotes)}}function ce(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Internal Notes"),l.fc(),l.bd(3,ie,3,1,"span",62),l.bd(4,te,5,1,"div",9),l.fc()),2&n){var i=l.vc(2);l.Sb("editable",i.keys.internalNotes&&i._editable),l.Mb(3),l.Cc("ngIf",i.currentlyEditing!==i.keys.internalNotes),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.internalNotes)}}function oe(n,e){if(1&n&&(l.gc(0,"div",2),l.gc(1,"div",3),l.gc(2,"div",4),l.gc(3,"h6",5),l.dd(4,"Notes"),l.fc(),l.gc(5,"ul",6),l.bd(6,ee,5,4,"li",10),l.bd(7,ce,5,4,"li",10),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(6),l.Cc("ngIf",i._editable||i._submission.customerNotes),l.Mb(1),l.Cc("ngIf",i._editable||i._submission.internalNotes)}}function se(n,e){if(1&n){var i=l.hc();l.gc(0,"div",66),l.gc(1,"button",67),l.rc("click",(function(){l.Pc(i);var n=l.vc(),e=l.Mc(1);return n.updateSubmission(e)})),l.dd(2,"Update Submission "),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(1),l.Cc("disabled",t.state.updating)}}function ae(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var i=l.vc().$implicit;l.Mb(1),l.fd("Cost: ",l.xc(2,1,i.cost),"")}}function re(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.fc()),2&n){var i=l.vc().$implicit;l.Mb(1),l.fd("Margin: ",100*i.margin,"%")}}function de(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var i=l.vc().$implicit;l.Mb(1),l.fd("Profit: ",l.xc(2,1,i.profit),"")}}function ue(n,e){if(1&n&&(l.gc(0,"div",70),l.gc(1,"b"),l.dd(2),l.fc(),l.bc(3,"br"),l.gc(4,"ul"),l.gc(5,"li"),l.dd(6),l.wc(7,"currency"),l.fc(),l.gc(8,"li"),l.dd(9),l.fc(),l.bd(10,ae,3,3,"li",7),l.bd(11,re,2,1,"li",7),l.bd(12,de,3,3,"li",7),l.fc(),l.fc()),2&n){var i=e.$implicit;l.Mb(2),l.fd("",i.name,":"),l.Mb(4),l.fd("Price: ",l.xc(7,6,i.price),""),l.Mb(3),l.fd("Weight: ",i.weight,"g"),l.Mb(1),l.Cc("ngIf",i.cost),l.Mb(1),l.Cc("ngIf",null!==i.margin),l.Mb(1),l.Cc("ngIf",null!==i.profit)}}function le(n,e){1&n&&(l.gc(0,"app-loading-shimmer"),l.gc(1,"div",71),l.gc(2,"div",72),l.bc(3,"div",73),l.fc(),l.gc(4,"div",74),l.bc(5,"div",73),l.fc(),l.gc(6,"div",75),l.bc(7,"div",73),l.fc(),l.fc(),l.gc(8,"div",71),l.gc(9,"div",72),l.bc(10,"div",73),l.fc(),l.gc(11,"div",74),l.bc(12,"div",73),l.fc(),l.gc(13,"div",75),l.bc(14,"div",73),l.fc(),l.fc(),l.fc())}function ge(n,e){if(1&n&&(l.gc(0,"div",1),l.bd(1,ue,13,8,"div",69),l.bd(2,le,15,0,"app-loading-shimmer",7),l.fc()),2&n){var i=l.vc(2);l.Mb(1),l.Cc("ngForOf",i.data.metalWeightsAndPrices),l.Mb(1),l.Cc("ngIf",i.state.loadingPrices)}}function fe(n,e){if(1&n&&(l.gc(0,"div",13),l.gc(1,"div",2),l.gc(2,"div",3),l.gc(3,"div",4),l.gc(4,"h6",5),l.dd(5,"Base Metal Prices"),l.fc(),l.gc(6,"ul",6),l.gc(7,"li"),l.gc(8,"span"),l.dd(9,"Prices"),l.fc(),l.bd(10,ge,3,2,"div",68),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc();l.Mb(10),l.Cc("ngIf",!i.state.loadingPrices)}}var be=function(){return function(){}}(),me=function(){return function(){this.metalWeight="metalWeight",this.waxWeight="waxWeight",this.baseMetal="baseMetal",this.baseMetalPaid="baseMetalPaid",this.baseMetalPrice="baseMetalPricePaid",this.plating="plating",this.finish="finish",this.castingCode="castingCode",this.castingPrice="castingPrice",this.castingEstimateCode="castingEstimateCode",this.castingEstimateLaborSubmission="castingEstimateLaborSubmission",this.castingEstimateMetalSubmission="castingEstimateMetalSubmission",this.ringThickness="ringThickness",this.ringResize="ringResize",this.originalRingSize="originalRingSize",this.ringSizeCustom="ringSizeCustom",this.measuredRingSize="measuredRingSize",this.jumpRing="jumpRing",this.jumpRingPlacement="jumpRingPlacement",this.chainType="chainType",this.chainLength="chainLength",this.chainPlating="chainPlating",this.earringConfig="earringConfig",this.showEngravingSection="showEngravingSection",this.engravingFont="engravingFont",this.engravingText="engravingText",this.submittedAt="submittedAt",this.dateReceived="dateReceived",this.isEvent="isEvent",this.customerNotes="customerNotes",this.internalNotes="internalNotes",this.totalPrice="totalPrice",this.amountPaid="amountPaid"}}(),pe=function(){function n(n,e,i){this.metalWeightAndPriceService=n,this.submissionService=e,this.toastrService=i,this._castingCode=null,this.clickEvent=null,this.currentlyEditing=null,this._editable=!1,this._isAdmin=!1,this.keys=new me,this._originalCastingCode=null,this.showEngravingSection=!1,this._submission=new be,this._submissionData=new g.b,this.data={metalWeightsAndPrices:[]},this.state={_loadingCastingCode:!0,loadingPrices:!0,updating:!1},this.chainTypeNone=d.b,this.kitTypeEarring=a.e,this.kitTypePendant=a.f,this.kitTypeRing=a.g,this.platingTypeNoPlating="No Plating",this.silverBaseMetalName=r.m}return n.prototype.editing=function(n,e,i,t){void 0===i&&(i=null),void 0===t&&(t=null),this._editable&&(i&&(this._submission[n]=t.find((function(n){return n.node.id===i.id})).node),e.stopPropagation(),this.currentlyEditing=n)},n.prototype.stopEditing=function(n){this.currentlyEditing=null},n.prototype.toggleEngraving=function(){this.showEngravingSection&&(this._submission.engravingText=null,this._submission.engravingFont=null)},n.prototype.toggleRingResize=function(){this._submission.ringResize&&(this._submission.originalRingSize=null)},n.prototype.updateSubmission=function(n){var e=this;this.state.updating=!0,this.toastrService.success("","Updating Submission Information");for(var i=JSON.parse(JSON.stringify(this._submission)),t=0,c=Object.keys(i);t<c.length;t++){var o=c[t];i[o]&&i[o].id&&(i[o]=i[o].id)}i.updatedAt=(new Date).toISOString(),this.submissionService.updateEdit(i).subscribe((function(i){e.state.updating=!1,e.toastrService.success("","Submission Information Updated"),n.form.markAsPristine()}))},Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingEstimateCode",{set:function(n){this._submission.castingEstimateCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"editable",{set:function(n){this._editable=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this.state._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"originalCastingCode",{set:function(n){this._originalCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submission",{set:function(n){var e=this;n.node&&(n=n.node),this._submission.id=n.id,this._submission.status=n.status,this._submission.kitType=n.kitType,this._submission.castingType=n.castingType?n.castingType:null,this._submission.waxWeight=n.waxWeight,this._submission.expectedFinishWeight=n.expectedFinishWeight,this._submission.metalWeight=n.metalWeight,this._submission.baseMetal=n.baseMetal,this._submission.plating=n.plating,this._submission.finish=n.finish,this._submission.castingCode=n.castingCode,this._submission.castingPrice=n.castingPrice,this._submission.castingEstimateLaborSubmission=n.estimatedLaborCost,this._submission.castingEstimateMetalSubmission=n.estimatedMetalCost,this._submission.ringThickness=n.ringThickness?n.ringThickness:null,this._submission.ringSizeCustom=n.ringSizeCustom?n.ringSizeCustom:null,this._submission.measuredRingSize=n.measuredRingSize?n.measuredRingSize:null,this._submission.originalRingSize=n.originalRingSize?n.originalRingSize:null,this._submission.ringResize=n.ringResize,this._submission.jumpRing=n.jumpRing,this._submission.jumpRingPlacement=n.jumpRingPlacement,this._submission.chainType=n.chainType?n.chainType:null,this._submission.chainLength=n.chainLength?n.chainLength:null,this._submission.chainPlating=n.chainPlating?n.chainPlating:null,this._submission.earringConfig=n.earringConfig?n.earringConfig:null,this._submission.engravingFont=n.engravingFont,this._submission.engravingText=n.engravingText,this._submission.submittedAt=n.submittedAt,this._submission.dateReceived=n.dateReceived,this._submission.isEvent=!!n.customer.event,this._submission.customerNotes=n.customerNotes,this._submission.internalNotes=n.internalNotes,this._submission.totalPrice=n.totalPrice,this._submission.amountPaid=n.amountPaid,this._submission.baseMetalPaid=n.baseMetalPaid,this._submission.baseMetalPrice=n.baseMetalPrice,this._submission.waxWeight&&this.metalWeightAndPriceService.get(this._submission.waxWeight,n.kitType.id,n.earringConfig?n.earringConfig.id:null).subscribe((function(n){e.data.metalWeightsAndPrices=n,e.state.loadingPrices=!1}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submissionData",{set:function(n){this._submissionData=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(l.ac(s.a),l.ac(f.a),l.ac(b.b))},n.\u0275cmp=l.Ub({type:n,selectors:[["submission-view-submission"]],hostBindings:function(n,e){1&n&&l.rc("click",(function(n){return e.stopEditing(n)}),!1,l.Nc)("keyup.Enter",(function(n){return e.stopEditing(n)}),!1,l.Nc)},inputs:{castingCode:"castingCode",castingEstimateCode:"castingEstimateCode",editable:"editable",isAdmin:"isAdmin",loadingCastingCode:"loadingCastingCode",originalCastingCode:"originalCastingCode",submission:"submission",submissionData:"submissionData"},decls:90,vars:56,consts:[["submissionViewForm","ngForm"],[1,"row"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card-details"],[4,"ngIf"],[3,"no",4,"ngIf"],["class","form-row w-100 align-items-center",4,"ngIf"],[3,"editable",4,"ngIf"],[3,"no","yes",4,"ngIf"],["class","checkbox-wrapper m-0",3,"click",4,"ngIf"],[1,"row","mt-3"],["class","col",4,"ngIf"],["class","col-12 tc mt-3",4,"ngIf"],["class","row mt-3",4,"ngIf"],["type","button",1,"btn","ml-1","icon-btn-outline","hover","icon-btn-small","fas","fa-pencil-alt",3,"click"],[1,"form-row","w-100","align-items-center"],[1,"col","flex-grow-1",3,"click"],["id","waxWeight","name","waxWeight","placeholder","Enter the weight of your wax","type","number",1,"form-control",3,"ngModel","ngModelChange"],["waxWeight","ngModel"],[1,"col-auto"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-check",3,"click"],[1,"sub-value"],["class","sub-value",4,"ngIf"],["id","metalWeight","name","metalWeight","placeholder","Finished item weight","type","number",1,"form-control",3,"ngModel","ngModelChange"],["metalWeight","ngModel"],[1,"checkbox-wrapper","m-0",3,"click"],["id","baseMetalPaid","name","baseMetalPaid","type","checkbox",3,"ngModel","ngModelChange"],["for","baseMetalPaid"],["id","baseMetalPrice","name","baseMetalPrice","placeholder","Base Metal Price","type","number",1,"form-control",3,"ngModel","ngModelChange"],["baseMetalPrice","ngModel"],["id","totalPrice","name","totalPrice","placeholder","How much did the item cost the customer","type","number",1,"form-control",3,"ngModel","ngModelChange"],["totalPrice","ngModel"],["id","amountPaid","name","amountPaid","placeholder","How much did the item cost the customer","type","number",1,"form-control",3,"ngModel","ngModelChange"],["amountPaid","ngModel"],["name","baseMetal",3,"ngModel","searchable","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngbTooltip"],[3,"text-muted",4,"ngIf"],["name","ringThickness",3,"ngModel","searchable","ngModelChange"],["name","originalRingSize",3,"ngModel","searchable","ngModelChange"],["name","ringSizeCustom",3,"ngModel","searchable","ngModelChange"],["name","earringConfig",3,"ngModel","searchable","ngModelChange"],["name","finish",3,"ngModel","searchable","ngModelChange"],["id","jumpRingCheckbox","name","jumpRingCheckbox","type","checkbox",3,"ngModel","ngModelChange"],["for","jumpRingCheckbox"],["name","jumpRingPlacement",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],["id","ringResizeCheckbox","name","ringResizeCheckbox","type","checkbox",3,"ngModel","ngModelChange","click"],["for","ringResizeCheckbox"],["name","plating",3,"ngModel","searchable","ngModelChange"],["id","showEngravingSectionCheckbox","name","showEngravingSectionCheckbox","type","checkbox",3,"ngModel","ngModelChange","click"],["for","showEngravingSectionCheckbox"],["name","chainType",3,"ngModel","searchable","ngModelChange"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-times",3,"click"],["name","chainLength",3,"ngModel","searchable","ngModelChange"],["name","chainPlating",3,"ngModel","searchable","ngModelChange"],["name","engravingFont",3,"ngModel","searchable","ngModelChange"],["name","engravingText","type","text",3,"ngModel","ngModelChange"],["style","word-break: break-word",4,"ngIf"],[2,"word-break","break-word"],["name","customerNotes",1,"form-control",3,"ngModel","ngModelChange"],["name","internalNotes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","tc","mt-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","row",4,"ngIf"],["class","col-sm-4 mb-2",4,"ngFor","ngForOf"],[1,"col-sm-4","mb-2"],[1,"row","align-items-center","justify-content-center"],[1,"col-5"],[1,"shimmer","py-2"],[1,"col-4","pl-0"],[1,"col-3","pl-0"]],template:function(n,e){if(1&n&&(l.gc(0,"form",null,0),l.gc(2,"div",1),l.gc(3,"div",2),l.gc(4,"div",3),l.gc(5,"div",4),l.gc(6,"h6",5),l.dd(7,"Submission Details"),l.fc(),l.gc(8,"ul",6),l.bd(9,S,6,3,"li",7),l.gc(10,"li"),l.gc(11,"span"),l.dd(12,"Wax Weight"),l.fc(),l.bd(13,P,3,3,"span",8),l.bd(14,_,6,1,"div",9),l.fc(),l.bd(15,k,6,4,"li",7),l.gc(16,"li"),l.gc(17,"span"),l.dd(18,"Submitted"),l.fc(),l.gc(19,"span"),l.dd(20),l.wc(21,"simpleDateTime"),l.fc(),l.fc(),l.bd(22,w,6,3,"li",7),l.bd(23,I,9,3,"li",7),l.bd(24,x,9,3,"li",7),l.bd(25,T,9,4,"li",7),l.bd(26,O,5,4,"li",10),l.gc(27,"li"),l.gc(28,"span"),l.dd(29,"Submitted via"),l.fc(),l.gc(30,"span"),l.dd(31),l.fc(),l.fc(),l.gc(32,"li"),l.bc(33,"hr"),l.fc(),l.bd(34,z,6,3,"li",7),l.bd(35,R,5,4,"li",10),l.bd(36,F,5,4,"li",10),l.bd(37,U,6,4,"li",10),l.bd(38,X,6,4,"li",10),l.fc(),l.fc(),l.fc(),l.fc(),l.gc(39,"div",2),l.gc(40,"div",3),l.gc(41,"div",4),l.gc(42,"h6",5),l.dd(43,"Basic Details"),l.fc(),l.gc(44,"ul",6),l.gc(45,"li"),l.gc(46,"span"),l.dd(47,"Jewellery Type"),l.fc(),l.gc(48,"span"),l.dd(49),l.wc(50,"titlecase"),l.fc(),l.fc(),l.gc(51,"li"),l.gc(52,"span"),l.dd(53,"Base Metal"),l.fc(),l.bd(54,H,4,3,"span",7),l.bd(55,V,6,3,"div",9),l.fc(),l.bd(56,ln,13,12,"ng-container",7),l.bd(57,mn,6,4,"ng-container",7),l.gc(58,"li"),l.gc(59,"span"),l.dd(60,"Finish"),l.fc(),l.bd(61,pn,3,1,"span",7),l.bd(62,hn,6,3,"div",9),l.fc(),l.gc(63,"li"),l.bc(64,"hr"),l.fc(),l.bd(65,kn,3,2,"ng-container",7),l.bd(66,xn,6,2,"ng-container",7),l.gc(67,"li"),l.gc(68,"span"),l.dd(69,"Metal Upgrade"),l.fc(),l.gc(70,"span"),l.bc(71,"i"),l.fc(),l.fc(),l.bd(72,$n,5,7,"li",7),l.gc(73,"li"),l.gc(74,"span"),l.dd(75,"Plating"),l.fc(),l.bd(76,Tn,5,10,"span",11),l.bd(77,An,6,3,"div",9),l.fc(),l.gc(78,"li"),l.gc(79,"span"),l.dd(80,"Engraving"),l.fc(),l.bd(81,On,3,7,"span",11),l.bd(82,zn,3,1,"div",12),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.gc(83,"div",13),l.bd(84,Xn,13,6,"div",14),l.bd(85,Qn,16,8,"div",14),l.fc(),l.gc(86,"div",13),l.bd(87,oe,8,2,"div",14),l.fc(),l.fc(),l.bd(88,se,3,1,"div",15),l.bd(89,fe,11,1,"div",16)),2&n){var i=l.Mc(1);l.Mb(9),l.Cc("ngIf",e._submission.castingType),l.Mb(1),l.Sb("editable",e.keys.waxWeight&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.waxWeight),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.waxWeight),l.Mb(1),l.Cc("ngIf",e._submission.expectedFinishWeight),l.Mb(5),l.ed(l.xc(21,52,e._submission.submittedAt)),l.Mb(2),l.Cc("ngIf",e._submission.dateReceived),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._submission.castingEstimateLaborSubmission),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._submission.castingEstimateMetalSubmission),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._originalCastingCode),l.Mb(1),l.Cc("ngIf",e._submission.metalWeight),l.Mb(5),l.ed(e._submission.isEvent?"Event":"Kit"),l.Mb(3),l.Cc("ngIf",e._isAdmin&&!e._submission.isEvent&&e._submission.castingPrice),l.Mb(1),l.Cc("ngIf",null!==e._submission.baseMetalPaid),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(11),l.ed(l.xc(50,54,e._submission.kitType.name)),l.Mb(2),l.Sb("editable",e.keys.baseMetal&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.baseMetal),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.baseMetal),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypeRing),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypeEarring),l.Mb(1),l.Sb("editable",e.keys.finish&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.finish),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.finish),l.Mb(3),l.Cc("ngIf",null!==e._submission.jumpRing&&e._submission.kitType.name===e.kitTypePendant),l.Mb(1),l.Cc("ngIf",(null!==e._submission.ringResize||e._editable)&&e._submission.kitType.name===e.kitTypeRing),l.Mb(4),l.Sb("no",e._submission.baseMetal.name===e.silverBaseMetalName)("yes",e._submission.baseMetal.name!==e.silverBaseMetalName),l.Mb(1),l.Pb("fas ",e._submission.baseMetal.name!==e.silverBaseMetalName?"fa-check":"fa-times",""),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypePendant),l.Mb(1),l.Sb("editable",e.keys.plating&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.plating),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.plating),l.Mb(1),l.Sb("editable",e.keys.showEngravingSection&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.showEngravingSection),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.showEngravingSection),l.Mb(2),l.Cc("ngIf",e._submission.kitType.name===e.kitTypePendant&&(e._submission.chainType.name!==e.chainTypeNone||e._editable)),l.Mb(1),l.Cc("ngIf",e._submission.engravingFont&&e._submission.engravingText||e.showEngravingSection),l.Mb(2),l.Cc("ngIf",e._submission.customerNotes||e._submission.internalNotes||e._editable),l.Mb(1),l.Cc("ngIf",i.dirty),l.Mb(1),l.Cc("ngIf",!e.state.loadingPrices&&e._submission.waxWeight&&e._isAdmin)}},directives:[m.z,m.l,m.m,p.u,m.q,m.d,m.k,m.n,m.a,v.a,p.t,v.n,h.m,y.a],pipes:[C.a,p.G,p.g,M.a],styles:[""]}),n}()},b44C:function(n,e,i){"use strict";i.d(e,"a",(function(){return p})),i("+izf");var t=i("fXoL"),c=i("1kSV"),o=i("ofXK"),s=i("tyNb"),a=i("XXSO"),r=i("G0jp");function d(n,e){if(1&n&&(t.gc(0,"span",5),t.dd(1),t.wc(2,"simpleDate"),t.fc()),2&n){var i=t.vc().$implicit;t.Mb(1),t.fd(" ",t.xc(2,1,i.node.outgoingBatch.dateSent)," ")}}function u(n,e){if(1&n){var i=t.hc();t.gc(0,"a",6),t.rc("click",(function(){return t.Pc(i),t.vc(2).dismissModal("Redirecting to batch")})),t.wc(1,"numericId"),t.dd(2),t.wc(3,"numericId"),t.fc()}if(2&n){var c=t.vc().$implicit;t.Ec("routerLink","/manufacturing/batches/view/",t.xc(1,2,c.node.outgoingBatch.id),""),t.Mb(2),t.fd(" ",t.xc(3,4,c.node.outgoingBatch.id)," ")}}function l(n,e){1&n&&(t.gc(0,"span",5),t.dd(1,"N/A"),t.fc())}function g(n,e){if(1&n){var i=t.hc();t.gc(0,"a",6),t.rc("click",(function(){return t.Pc(i),t.vc(2).dismissModal("Redirecting to batch")})),t.wc(1,"numericId"),t.dd(2),t.wc(3,"numericId"),t.fc()}if(2&n){var c=t.vc().$implicit;t.Ec("routerLink","/manufacturing/batches/view/",t.xc(1,2,c.node.incomingBatch.id),""),t.Mb(2),t.fd(" ",t.xc(3,4,c.node.incomingBatch.id)," ")}}function f(n,e){1&n&&(t.gc(0,"span",5),t.dd(1,"N/A"),t.fc())}function b(n,e){if(1&n&&(t.gc(0,"tr"),t.gc(1,"th"),t.dd(2),t.wc(3,"numericId"),t.bc(4,"br"),t.bd(5,d,3,3,"span",3),t.fc(),t.gc(6,"td"),t.dd(7),t.fc(),t.gc(8,"td"),t.dd(9),t.wc(10,"simpleDate"),t.fc(),t.gc(11,"td"),t.bd(12,u,4,6,"a",4),t.bd(13,l,2,0,"span",3),t.fc(),t.gc(14,"td"),t.bd(15,g,4,6,"a",4),t.bd(16,f,2,0,"span",3),t.fc(),t.gc(17,"td"),t.dd(18),t.fc(),t.fc()),2&n){var i=e.$implicit;t.Mb(2),t.fd(" ",t.xc(3,9,i.node.id),""),t.Mb(3),t.Cc("ngIf",i.node.outgoingBatch.dateSent),t.Mb(2),t.ed(i.node.manufacturer.company),t.Mb(2),t.ed(t.xc(10,11,i.node.due)),t.Mb(3),t.Cc("ngIf",i.node.outgoingBatch),t.Mb(1),t.Cc("ngIf",!i.node.outgoingBatch),t.Mb(2),t.Cc("ngIf",i.node.incomingBatch),t.Mb(1),t.Cc("ngIf",!i.node.incomingBatch),t.Mb(2),t.ed(i.node.status.name)}}function m(n,e){1&n&&(t.gc(0,"tr"),t.gc(1,"td",7),t.gc(2,"span",8),t.dd(3,"No jobs yet."),t.fc(),t.fc(),t.fc())}var p=function(){function n(n){this.modalService=n}return Object.defineProperty(n.prototype,"jobs",{set:function(n){n&&(this._jobs=n)},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.dismissModal=function(n){void 0===n&&(n=null),this.modalService.dismissAll(n)},n.\u0275fac=function(e){return new(e||n)(t.ac(c.i))},n.\u0275cmp=t.Ub({type:n,selectors:[["app-submission-view-jobs"]],inputs:{jobs:"jobs"},decls:18,vars:2,consts:[[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-muted",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],[1,"text-muted"],[3,"routerLink","click"],["colspan","72"],[1,"text-muted","text-center"]],template:function(n,e){1&n&&(t.gc(0,"table",0),t.gc(1,"thead"),t.gc(2,"tr"),t.gc(3,"th"),t.dd(4,"ID"),t.fc(),t.gc(5,"th"),t.dd(6,"Supplier"),t.fc(),t.gc(7,"th"),t.dd(8,"Due"),t.fc(),t.gc(9,"th"),t.dd(10,"Batch Out"),t.fc(),t.gc(11,"th"),t.dd(12,"Batch In"),t.fc(),t.gc(13,"th"),t.dd(14,"Status"),t.fc(),t.fc(),t.fc(),t.gc(15,"tbody"),t.bd(16,b,19,13,"tr",1),t.bd(17,m,4,0,"tr",2),t.fc(),t.fc()),2&n&&(t.Mb(16),t.Cc("ngForOf",e._jobs),t.Mb(1),t.Cc("ngIf",!e._jobs))},directives:[o.t,o.u,s.e],pipes:[a.a,r.a],styles:[""]}),n}()},c3nT:function(n,e,i){"use strict";i.r(e),i.d(e,"SubmissionModule",(function(){return We}));var t,c=i("ofXK"),o=i("3Pt+"),s=i("PCNd"),a=i("S6Vu"),r=i("HKlZ"),d=i("5Ndf"),u={id:"/base_metals/6",name:"Silver"},l=i("zOkP"),g=i("rYPC"),f=i("uA1o"),b=i("BaBC"),m=i("Nlbt"),p=i("1uah"),v=i("CIHE"),h=i("9TxS"),y=i("uzfv"),C=i("cXB8"),M=i("QVjv"),S=i("fXoL"),P=i("1kSV"),_=i("tyNb"),k=i("5eHb"),w=i("n4kJ"),I=i("KPdS"),x=i("Xv7A"),$=i("XhFI"),T=i("PxxC"),E=i("wOBz"),A=i("r1eF"),O=i("ZOsW"),z=i("1QgP"),B=i("VdD3"),j=i("sMau"),R=i("SjCM"),N=i("zVvu"),D=i("9tk/"),F=i("XXSO"),L=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])})(n,e)},function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),W=function(n,e,i,t){return new(i||(i=Promise))((function(c,o){function s(n){try{r(t.next(n))}catch(e){o(e)}}function a(n){try{r(t.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof i?e:new i((function(n){n(e)}))).then(s,a)}r((t=t.apply(n,e||[])).next())}))},U=function(n,e){var i,t,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(c=2&o[0]?t.return:o[0]?t.throw||((c=t.return)&&c.call(t),0):t.next)&&!(c=c.call(t,o[1])).done)return c;switch(t=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,t=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],t=0}finally{i=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},G=["submissionWeightModal"];function q(n,e){if(1&n){var i=S.hc();S.ec(0),S.gc(1,"button",44),S.rc("click",(function(){S.Pc(i);var n=S.vc(2),e=S.Mc(95);return n.modalService.open(e)})),S.dd(2," Create Manufacture Batch "),S.fc(),S.gc(3,"button",44),S.rc("click",(function(){S.Pc(i);var n=S.vc(2),e=S.Mc(97);return n.modalService.open(e)})),S.dd(4," Add to Existing Batch "),S.fc(),S.gc(5,"button",44),S.rc("click",(function(){return S.Pc(i),S.vc(2).exportAddressData()})),S.dd(6," Export Address Data "),S.fc(),S.dc()}}function X(n,e){1&n&&(S.gc(0,"button",45),S.dd(1," No Available Actions "),S.fc())}function H(n,e){if(1&n&&(S.ec(0),S.bd(1,q,7,0,"ng-container",26),S.bd(2,X,2,0,"button",27),S.dc()),2&n){var i=S.vc();S.Mb(1),S.Cc("ngIf",i.isAdmin),S.Mb(1),S.Cc("ngIf",!i.isAdmin)}}function Y(n,e){1&n&&(S.gc(0,"button",45),S.dd(1," Loading Actions... "),S.fc())}function V(n,e){if(1&n){var i=S.hc();S.gc(0,"div",46),S.gc(1,"input",47),S.rc("click",(function(){return S.Pc(i),S.vc().selectAll()}))("ngModelChange",(function(n){return S.Pc(i),S.vc().state.allSelected=n})),S.fc(),S.bc(2,"label",48),S.fc()}if(2&n){var t=S.vc();S.Mb(1),S.Cc("ngModel",t.state.allSelected)("value",t.state.allSelected)}}function J(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Submission"),S.fc())}function K(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Detail"),S.fc())}function Q(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Code"),S.fc())}function Z(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Event Name"),S.fc())}function nn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var i=S.vc().$implicit;S.Mb(1),S.ed(null===i.submission.node.customer.event?"Kit":"Event")}}function en(n,e){if(1&n&&(S.gc(0,"td"),S.gc(1,"a",64),S.wc(2,"numericId"),S.dd(3),S.fc(),S.fc()),2&n){var i=S.vc().$implicit;S.Mb(1),S.Ec("routerLink","/event/view/",S.xc(2,2,i.submission.node.customer.event.id),""),S.Mb(2),S.ed(i.submission.node.customer.event.name)}}function tn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var i=S.vc().$implicit;S.Mb(1),S.ed(i.submission.node.castingCode)}}function cn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.wc(2,"uppercase"),S.fc()),2&n){var i=S.vc().$implicit;S.Mb(1),S.ed(S.xc(2,1,i.submission.node.castingCode))}}function on(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var i=S.vc().$implicit;S.Mb(1),S.ed(i.submission.node.customer.event.name)}}function sn(n,e){if(1&n&&(S.gc(0,"span"),S.dd(1," BMU "),S.bc(2,"i",65),S.fc()),2&n){var i=S.vc().$implicit;S.Sb("color-danger",!i.submission.node.baseMetalPaid)("color-success",!0===i.submission.node.baseMetalPaid),S.Mb(2),S.Sb("fa-check",!0===i.submission.node.baseMetalPaid)("fa-times",!i.submission.node.baseMetalPaid)}}function an(n,e){if(1&n&&(S.gc(0,"span"),S.dd(1),S.wc(2,"date"),S.fc()),2&n){var i=S.vc(3);S.Mb(1),S.fd(" Elapsed: ",S.zc(2,1,1e3*i.timeElapsed,"mm:ss","UTC"),"s \xa0 ")}}function rn(n,e){1&n&&S.bc(0,"span",68)}function dn(n,e){if(1&n){var i=S.hc();S.gc(0,"button",66),S.rc("click",(function(){S.Pc(i);var n=S.vc().$implicit;return S.vc(2).toggleSubmissionPhotoTimer(n.submission.node.id)})),S.bd(1,rn,1,0,"span",67),S.fc()}if(2&n){var t=S.vc().$implicit,c=S.vc(2);S.Sb("fa-stop",c.model.submissionPhotoTimingMap[t.submission.node.id]&&!1===c.submitting)("fa-stopwatch-20",!c.model.submissionPhotoTimingMap[t.submission.node.id]&&!1===c.submitting)("hover",!c.model.submissionPhotoTimingMap[t.submission.node.id]||!1===c.submitting),S.Cc("disabled",c.submitting),S.Mb(1),S.Cc("ngIf",!0===c.submitting)}}function un(n,e){if(1&n){var i=S.hc();S.gc(0,"button",69),S.rc("click",(function(){S.Pc(i);var n=S.vc().$implicit;return S.vc(2).openWeightModal(n.submission.node)})),S.fc()}if(2&n){var t=S.vc(3);S.Cc("disabled",t.submitting)}}function ln(n,e){if(1&n&&S.bc(0,"view-submission-modal",70),2&n){var i=S.vc().$implicit,t=S.vc(2);S.Cc("buttonStyle",!0)("castingCode",i.castingCodes.length?i.castingCodes[0]:null)("isAdmin",t.isAdmin)("loadingCastingCode",t.loadingCastingCode)("loadingStones",t.loadingStones)("photos",i.submission.node.submissionPhotos.edges)("stones",i.stones)("submission",i.submission.node)}}function gn(n,e){if(1&n){var i=S.hc();S.ec(0),S.gc(1,"tr"),S.wc(2,"lowercaseDashes"),S.gc(3,"td",53),S.rc("click",(function(){S.Pc(i);var n=e.$implicit;return S.vc(2).selectRow(n)})),S.gc(4,"div",46),S.gc(5,"input",54),S.rc("click",(function(){S.Pc(i);var n=e.$implicit;return S.vc(2).selectRow(n)}))("ngModelChange",(function(n){return S.Pc(i),e.$implicit.selected=n})),S.fc(),S.bc(6,"label",55),S.fc(),S.fc(),S.gc(7,"td"),S.bc(8,"i",56),S.fc(),S.gc(9,"td",57),S.rc("click",(function(){S.Pc(i);var n=e.$implicit;return S.vc(2).selectRow(n)})),S.dd(10),S.fc(),S.bd(11,nn,2,1,"td",26),S.bd(12,en,4,4,"td",26),S.bd(13,tn,2,1,"td",26),S.bd(14,cn,3,3,"td",26),S.bd(15,on,2,1,"td",26),S.gc(16,"td"),S.dd(17),S.wc(18,"titlecase"),S.bc(19,"br"),S.bd(20,sn,3,8,"span",58),S.fc(),S.gc(21,"td"),S.dd(22),S.wc(23,"currency"),S.fc(),S.gc(24,"td"),S.dd(25),S.wc(26,"simpleDateTime"),S.fc(),S.gc(27,"td",59),S.gc(28,"span"),S.dd(29),S.fc(),S.fc(),S.gc(30,"td",37),S.bd(31,an,3,5,"span",26),S.gc(32,"div",60),S.bd(33,dn,2,8,"button",61),S.bd(34,un,1,1,"button",62),S.fc(),S.bd(35,ln,1,8,"view-submission-modal",63),S.fc(),S.fc(),S.dc()}if(2&n){var t=e.$implicit,c=S.vc(2);S.Mb(1),S.Pb("status-",S.xc(2,30,t.submission.node.status.name),""),S.Sb("row-blocked",!c.model.submissionPhotoTimingMap[t.submission.node.id]&&!0===c.imageLoggingSessionState)("selected",t.selected),S.Mb(4),S.Ec("id","sub-cb-",t.submission.node.id,""),S.Cc("ngModel",t.selected)("name","submission"+t.submission.node.id),S.Mb(1),S.Ec("for","sub-cb-",t.submission.node.id,""),S.Mb(2),S.Sb("text-muted",0===t.submission.node.submissionPhotos.edges.length)("text-success",t.submission.node.submissionPhotos.edges.length>0),S.Mb(2),S.ed(t.submission.node.customer.fullName),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent&&null!==t.submission.node.customer.event),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent&&null===t.submission.node.customer.event),S.Mb(1),S.Cc("ngIf",!1===c.model.typeEvent),S.Mb(1),S.Cc("ngIf",!0===c.model.typeEvent),S.Mb(2),S.fd(" ",S.xc(18,32,t.submission.node.kitType.name),""),S.Mb(3),S.Cc("ngIf",t.submission.node.baseMetal&&t.submission.node.baseMetal.id!==c.metalSilver.id),S.Mb(2),S.ed(S.xc(23,34,t.submission.node.amountPaid)),S.Mb(3),S.ed(S.xc(26,36,t.submission.node.submittedAt)),S.Mb(4),S.ed(t.submission.node.status.name),S.Mb(2),S.Cc("ngIf",c.model.submissionPhotoTimingMap[t.submission.node.id]),S.Mb(2),S.Cc("ngIf",!1===c.imageLoggingSessionState||c.model.submissionPhotoTimingMap[t.submission.node.id]),S.Mb(1),S.Cc("ngIf",null===t.submission.node.customer.event&&t.submission.node.status.id===c.statusSubmissionCreated.id),S.Mb(1),S.Cc("ngIf",!1===c.imageLoggingSessionState)}}function fn(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td",71),S.gc(2,"p",72),S.dd(3,"No submissions found"),S.fc(),S.fc(),S.fc())}function bn(n,e){if(1&n&&(S.gc(0,"tbody"),S.gc(1,"tr",49),S.gc(2,"td",50),S.bc(3,"p",51),S.fc(),S.fc(),S.bd(4,gn,36,38,"ng-container",52),S.bd(5,fn,4,0,"tr",26),S.fc()),2&n){var i=S.vc();S.Mb(4),S.Cc("ngForOf",i.data.submissionAndInfos),S.Mb(1),S.Cc("ngIf",!i.data.submissionAndInfos.length)}}function mn(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td"),S.gc(2,"app-loading-shimmer"),S.gc(3,"div",73),S.gc(4,"div",74),S.bc(5,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(6,"td"),S.gc(7,"app-loading-shimmer"),S.gc(8,"div",76),S.gc(9,"div",74),S.bc(10,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(11,"td"),S.gc(12,"app-loading-shimmer"),S.gc(13,"div",76),S.gc(14,"div",77),S.bc(15,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(16,"td"),S.gc(17,"app-loading-shimmer"),S.gc(18,"div",76),S.gc(19,"div",78),S.bc(20,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(21,"td"),S.gc(22,"app-loading-shimmer"),S.gc(23,"div",76),S.gc(24,"div",79),S.bc(25,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(26,"td"),S.gc(27,"app-loading-shimmer"),S.gc(28,"div",76),S.gc(29,"div",79),S.bc(30,"div",75),S.fc(),S.gc(31,"div",80),S.bc(32,"div",81),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(33,"td"),S.gc(34,"app-loading-shimmer"),S.gc(35,"div",76),S.gc(36,"div",79),S.bc(37,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(38,"td"),S.gc(39,"app-loading-shimmer"),S.gc(40,"div",76),S.gc(41,"div",77),S.bc(42,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(43,"td"),S.gc(44,"app-loading-shimmer"),S.gc(45,"div",76),S.gc(46,"div",82),S.bc(47,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(48,"td",37),S.gc(49,"app-loading-shimmer"),S.gc(50,"div",73),S.gc(51,"div",79),S.bc(52,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.fc())}function pn(n,e){1&n&&(S.gc(0,"tbody"),S.gc(1,"tr",49),S.gc(2,"td",50),S.bc(3,"p",51),S.fc(),S.fc(),S.bd(4,mn,53,0,"tr",52),S.fc()),2&n&&(S.Mb(4),S.Cc("ngForOf"," ".repeat(3).split("")))}function vn(n,e){1&n&&(S.gc(0,"div",83),S.bc(1,"loading-ring",84),S.fc()),2&n&&(S.Mb(1),S.Cc("size",40))}function hn(n,e){1&n&&S.bc(0,"loading-ring",84),2&n&&S.Cc("size",30)}function yn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"titlecase"),S.fc()),2&n){var i=e.$implicit;S.Cc("value",i),S.Mb(1),S.fd("",S.xc(2,2,i.node.company)," ")}}function Cn(n,e){if(1&n&&(S.gc(0,"label",98),S.dd(1),S.wc(2,"titlecase"),S.fc()),2&n){var i=S.vc(3);S.Mb(1),S.fd(" Notes for ",S.xc(2,1,i.model.selectedSupplier.node.company)," ")}}function Mn(n,e){if(1&n){var i=S.hc();S.ec(0),S.bd(1,Cn,3,3,"label",95),S.gc(2,"textarea",96,97),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc(2).model.batchNotes=n})),S.dd(4,"                    "),S.fc(),S.dc()}if(2&n){var t=S.vc(2);S.Mb(1),S.Cc("ngIf",t.model.selectedSupplier),S.Mb(1),S.Cc("ngModel",t.model.batchNotes)}}function Sn(n,e){if(1&n){var i=S.hc();S.bc(0,"modal-header",85),S.gc(1,"div",86),S.gc(2,"form",8,87),S.gc(4,"div",88),S.gc(5,"label",89),S.dd(6,"Which Supplier?"),S.fc(),S.gc(7,"ng-select",90,91),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc().model.selectedSupplier=n})),S.bd(9,yn,3,4,"ng-option",92),S.fc(),S.bd(10,Mn,5,2,"ng-container",26),S.fc(),S.fc(),S.fc(),S.gc(11,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(i),S.vc().createManufactureBatch()})),S.fc()}if(2&n){var t=e.$implicit,c=S.Mc(3),o=S.vc();S.Cc("modal",t),S.Mb(7),S.Cc("ngModel",o.model.selectedSupplier)("searchable",!1),S.Mb(2),S.Cc("ngForOf",o.data.suppliers),S.Mb(1),S.Cc("ngIf",o.model.selectedSupplier),S.Mb(1),S.Cc("form",c)("modal",t)("saveButtonName","Create")}}function Pn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"numericId"),S.fc()),2&n){var i=e.$implicit;S.Cc("value",i.node),S.Mb(1),S.fd("Batch #",S.xc(2,2,i.node.id)," ")}}function _n(n,e){if(1&n){var i=S.hc();S.bc(0,"modal-header",99),S.gc(1,"div",86),S.gc(2,"form",8,100),S.gc(4,"div",88),S.gc(5,"label",89),S.dd(6,"Which Batch?"),S.fc(),S.gc(7,"ng-select",101,91),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc().data.mutationBatch=n})),S.bd(9,Pn,3,4,"ng-option",92),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(10,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(i),S.vc().addSelectedToManufactureBatch()})),S.fc()}if(2&n){var t=e.$implicit,c=S.Mc(3),o=S.vc();S.Cc("modal",t),S.Mb(7),S.Cc("ngModel",o.data.mutationBatch)("searchable",!1),S.Mb(2),S.Cc("ngForOf",o.data.availableBatches),S.Mb(1),S.Cc("form",c)("modal",t)("saveButtonName","Add")}}function kn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"uppercase"),S.fc()),2&n){var i=S.vc().$implicit;S.Cc("value",i),S.Mb(1),S.fd(" ",S.xc(2,2,i.node.name)," ")}}function wn(n,e){if(1&n&&(S.ec(0),S.bd(1,kn,3,4,"ng-option",112),S.dc()),2&n){var i=e.$implicit;S.Mb(1),S.Cc("ngIf","Leave as is"!==i.node.name)}}function In(n,e){if(1&n){var i=S.hc();S.gc(0,"div",104),S.gc(1,"label",108),S.dd(2,"Measured Ring Size (optional)"),S.fc(),S.gc(3,"ng-select",109,110),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc(2).model.measuredRingSize=n})),S.bd(5,wn,2,1,"ng-container",52),S.fc(),S.bc(6,"app-error-messages",111),S.fc()}if(2&n){var t=S.Mc(4),c=S.vc(2);S.Mb(3),S.Cc("ngModel",c.model.measuredRingSize)("notFoundText",c.loadingActions?"Loading":"Nothing found")("searchable",!0),S.Mb(2),S.Cc("ngForOf",c.data.ringSizeCustoms),S.Mb(1),S.Cc("field",t)}}function xn(n,e){if(1&n){var i=S.hc();S.bc(0,"modal-header",102),S.wc(1,"numericId"),S.gc(2,"div",86),S.gc(3,"form",8,103),S.gc(5,"div",104),S.gc(6,"label",105),S.dd(7,"Wax Weight"),S.fc(),S.gc(8,"input",106),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc().model.waxWeight=n})),S.fc(),S.fc(),S.bd(9,In,7,5,"div",107),S.fc(),S.fc(),S.gc(10,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(i),S.vc().markAsReceived()})),S.fc()}if(2&n){var t=e.$implicit,c=S.Mc(4),o=S.vc();S.Ec("title","Check In Item - #",S.xc(1,7,o.data.submission.id),""),S.Cc("modal",t),S.Mb(8),S.Cc("ngModel",o.model.waxWeight),S.Mb(1),S.Cc("ngIf",o.data.submission.kitType.id===o.TYPE_RING),S.Mb(1),S.Cc("form",c)("modal",t)("saveButtonName","Confirm")}}var $n=function(n,e,i,t){return[n,e,i,t]},Tn=function(n){function e(e,i,t,c,o,s,a,r,g,f,b,m,p){var v=n.call(this)||this;return v.appUserService=e,v.castingCodeService=i,v.exportDataService=t,v.imageLoggingSessionService=c,v.jobService=o,v.modalService=s,v.ringSizeCustomService=a,v.router=r,v.stoneSubmissionService=g,v.submissionBatchService=f,v.submissionService=b,v.supplierService=m,v.toastrService=p,v.submissionStatusPending="pending",v.submissionStatusReceived="received",v.submissionStatusCreated="created",v.submissionStatusCompleted="completed",v.submissionId="Submission ID",v.customerName="Customer Name",v.eventName="Event Name",v.castingCode="Casting Code",v.TYPE_RING=l.d,v.statusSubmissionCreated=d.e,v.metalSilver=u,v.model={batchNotes:null,createImageLoggingSessionMap:{},currentSubmissionSearch:null,selectedSupplier:null,status:v.submissionStatusCreated,submissionPhotoTimingMap:{},typeEvent:null,waxWeight:null,measuredRingSize:null},v.data={availableBatches:[],mutationBatch:null,selections:[],submissionAndInfos:[],suppliers:[],submission:null,ringSizeCustoms:[]},v.imageLoggingSessionState=!1,v.isAdmin=!1,v.loadingActions=!0,v.loadingStones=!0,v.loadingCastingCode=!0,v.submitting=!1,v.timeElapsed=0,v}return L(e,n),e.prototype.unloadNotification=function(n){var e=this;this.data.submissionAndInfos.some((function(n){return e.model.submissionPhotoTimingMap[n.submission.node.id]}))&&(n.returnValue=!0)},e.prototype.ngOnDestroy=function(){return W(this,void 0,void 0,(function(){var n,e,i;return U(this,(function(t){switch(t.label){case 0:n=0,e=this.data.submissionAndInfos,t.label=1;case 1:return n<e.length?this.model.submissionPhotoTimingMap[(i=e[n]).submission.node.id]?[4,this.endImageLoggingSession(i.submission.node)]:[3,3]:[3,4];case 2:t.sent(),t.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.ngOnInit=function(){return W(this,void 0,void 0,(function(){var n=this;return U(this,(function(e){switch(e.label){case 0:return this.appUserService.getMe().subscribe((function(e){n.isAdmin=n.appUserService.isAdmin(e.data.appUser.roles),n.isAdmin?Object(p.a)(n.submissionBatchService.list(null,null,!1,!0,"DESC",!1),n.supplierService.list(!0),n.ringSizeCustomService.list()).subscribe((function(e){var i=e[0],t=e[2];n.data.suppliers=e[1].data.suppliers.edges,n.data.availableBatches=i.data.submissionBatches.edges,n.data.ringSizeCustoms=t.data.ringSizeCustoms.edges,n.loadingActions=!1})):n.loadingActions=!1})),this.liveTimeInterval=setInterval((function(){n.liveTimeCreate()}),500),[4,this.updateTable(null)];case 1:return e.sent(),[2]}}))}))},e.prototype.updateTableWithSearch=function(n,e){return W(this,void 0,void 0,(function(){var n=this;return U(this,(function(i){return this.state.loading=!0,this.state.allSelected=!1,this.data.selections=[],this.model.currentSubmissionSearch&&this.model.currentSubmissionSearch.unsubscribe(),this.model.currentSubmissionSearch=e.subscribe((function(e){var i=JSON.parse(JSON.stringify(n.data.submissionAndInfos));n.data.submissionAndInfos=[];for(var t=0,c=e.data.submissions.edges;t<c.length;t++){for(var o=c[t],s=!1,a=0,r=i;a<r.length;a++){var d=r[a];d.submission.node.id===o.node.id&&(s=d.selected)}n.data.submissionAndInfos.push({submission:o,selected:s,stones:[],castingCodes:[]})}for(var u=[],l=[],g=0,f=n.data.submissionAndInfos;g<f.length;g++){var b=f[g];b.submission.node.kit&&l.push(b.submission.node.kit.id),u.push(b.submission.node.id.replace(/^\D+/,""))}n.castingCodeService.listByKitIds(l).subscribe((function(e){for(var i=0,t=n.data.submissionAndInfos;i<t.length;i++)for(var c=t[i],o=0,s=e.data.castingCodes.edges;o<s.length;o++){var a=s[o];c.submission.node.castingCode===a.node.code&&c.castingCodes.push(a.node)}n.loadingCastingCode=!1})),n.stoneSubmissionService.listBySubmission(u).subscribe((function(e){for(var i=0,t=n.data.submissionAndInfos;i<t.length;i++)for(var c=t[i],o=0,s=e.data.stoneSubmissions.edges;o<s.length;o++){var a=s[o];c.submission.node.id===a.node.submission.id&&c.stones.push(a.node)}n.loadingStones=!1})),n.handlePagination(e.data.submissions)})),[2]}))}))},e.prototype.updateTable=function(n){return W(this,void 0,void 0,(function(){var e,i,t;return U(this,(function(c){return e=null,i=null,t=null,this.model.status===this.submissionStatusPending?e=d.l.id:this.model.status===this.submissionStatusReceived?e=d.o.id:this.model.status===this.submissionStatusCreated?i=!0:this.model.status===this.submissionStatusCompleted&&(t=!0),this.updateTableWithSearch(null,this.submissionService.listAllSubmission(n,"DESC",this.model.typeEvent,e,i,t)),[2]}))}))},e.prototype.search=function(n){if(n.searchQuery&&n.searchField){var e=null,i=null,t=null;this.model.status===this.submissionStatusPending?e=d.l.id:this.model.status===this.submissionStatusReceived?e=d.o.id:this.model.status===this.submissionStatusCreated?i=!0:this.model.status===this.submissionStatusCompleted&&(t=!0);var c=null;switch(n.searchField){case this.submissionId:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,i,t,n.searchQuery);break;case this.customerName:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,i,t,null,n.searchQuery);break;case this.eventName:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,i,t,null,null,n.searchQuery);break;case this.castingCode:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,i,t,null,null,null,n.searchQuery)}this.updateTableWithSearch(null,c)}else this.updateTable(null)},e.prototype.onChangeStatusFilter=function(){return W(this,void 0,void 0,(function(){return U(this,(function(n){return this.softReset(),this.updateTable(null),[2]}))}))},e.prototype.startTimer=function(){var n=this;this.timeElapsed=0,this.interval=setInterval((function(){n.timeElapsed++}),1e3)},e.prototype.endTimer=function(){clearInterval(this.interval)},e.prototype.liveTimeCreate=function(){var n=new Date;this.liveTime=("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2)},e.prototype.toggleSubmissionPhotoTimer=function(n){return W(this,void 0,void 0,(function(){var e,i,t;return U(this,(function(c){switch(c.label){case 0:this.submitting=!0,e=0,i=this.data.submissionAndInfos,c.label=1;case 1:return e<i.length?(t=i[e]).submission.node.id!==n?[3,6]:this.model.submissionPhotoTimingMap[t.submission.node.id]?[3,3]:[4,this.createImageLoggingSession(t.submission.node)]:[3,9];case 2:return c.sent(),[3,5];case 3:return[4,this.endImageLoggingSession(t.submission.node)];case 4:c.sent(),c.label=5;case 5:return[3,8];case 6:return this.model.submissionPhotoTimingMap[t.submission.node.id]?(this.model.submissionPhotoTimingMap[t.submission.node.id]=!1,[4,this.endImageLoggingSession(t.submission.node)]):[3,8];case 7:c.sent(),c.label=8;case 8:return e++,[3,1];case 9:return this.submitting=!1,[2]}}))}))},e.prototype.createImageLoggingSession=function(n){return W(this,void 0,void 0,(function(){var e,i,t;return U(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=this.model.createImageLoggingSessionMap,i=n.id,[4,this.imageLoggingSessionService.create({startTime:(new Date).toISOString(),submission:n.id})];case 1:return e[i]=c.sent(),this.imageLoggingSessionState=!0,this.startTimer(),this.toastrService.success("Started photo timing session for submission "+n.kitType.name+" ("+n.customer.fullName+")"),this.model.submissionPhotoTimingMap[n.id]=!this.model.submissionPhotoTimingMap[n.id],[3,3];case 2:return t=c.sent(),this.toastrService.error("Error starting image logging session!"),console.error(t),[3,3];case 3:return[2]}}))}))},e.prototype.endImageLoggingSession=function(n){return W(this,void 0,void 0,(function(){var e;return U(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.imageLoggingSessionService.updateEndTime({id:this.model.createImageLoggingSessionMap[n.id].createImageLoggingSession.id,endTime:(new Date).toISOString()})];case 1:return i.sent(),this.imageLoggingSessionState=!1,this.endTimer(),this.toastrService.success("Ended photo timing session for "+n.kitType.name+" ("+n.customer.fullName+")"),this.model.submissionPhotoTimingMap[n.id]=!1,[3,3];case 2:return e=i.sent(),this.toastrService.error("Error stopping image logging session!"),console.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.selectRow=function(n){if(!this.submitting)if(n.selected){n.selected=!n.selected;var e=this.data.selections.findIndex((function(e){return e.submission.node.id===n.submission.node.id}));this.data.selections.splice(e,1)}else n.selected=!0,this.data.selections.push(n)},e.prototype.selectAll=function(){if(!this.submitting){if(this.state.allSelected=!this.state.allSelected,!this.state.allSelected)for(var n=0,e=this.data.submissionAndInfos;n<e.length;n++)(c=e[n]).selected=!0,this.selectRow(c);for(var i=0,t=this.data.submissionAndInfos;i<t.length;i++){var c;(c=t[i]).selected=this.state.allSelected,this.state.allSelected&&-1===this.data.selections.indexOf(c)&&this.data.selections.push(c)}}},e.prototype.createManufactureBatch=function(){var n=this;if(!this.submitting&&this.data.selections.length){this.submitting=!0;var e=(new Date).toISOString();this.toastrService.success(null,"Creating Batch"),this.submissionBatchService.create({status:d.g.id,createdAt:e,updatedAt:e,supplier:this.model.selectedSupplier.node.id,notes:this.model.batchNotes}).subscribe((function(e){n.data.mutationBatch=e.data.createSubmissionBatch,n.toastrService.success(null,"Batch Created"),n.addSelectedToManufactureBatch()}))}},e.prototype.addSelectedToManufactureBatch=function(){for(var n=this,e=(new Date).toISOString(),i=0,t=0,c=this.toastrService.success(null,"Adding Items to Batch",{timeOut:3e4}),o=0,s=this.data.selections;o<s.length;o++){var a=s[o];if(a.submission.node.waxWeight){var r=a.submission.node.jobs.edges.find((function(n){return!1===n.node.complete}));t+=1,(r?this.jobService.updateOutgoingBatch({id:r.node.id,outgoingBatch:this.data.mutationBatch.id,status:d.g.id}):this.jobService.create({submission:a.submission.node.id,manufacturer:this.data.mutationBatch.supplier.id,status:d.g.id,outgoingBatch:this.data.mutationBatch.id,complete:!1,rush:!1,onHold:!1,createdAt:e})).subscribe((function(e){i+=1;for(var o=0,s=n.data.selections;o<s.length;o++){var a=s[o];if(e.data.updateJob&&e.data.updateJob.submission.id===a.submission.node.id){a.submission.node.status=d.g;break}if(e.data.createJob&&e.data.createJob.submission.id===a.submission.node.id){a.submission.node.status=d.g;break}}i===t?(c.toastRef.close(),n.toastrService.success(null,"Added "+t+" Items to Batch"),n.router.navigate(["manufacturing","batches","view",n.data.mutationBatch.id.replace(/\D/g,"")])):(c.toastRef.componentInstance.title="Added "+i+"/"+t+" Items to Batch",c.toastRef.timeoutReset())}))}else this.toastrService.info(null,"Item by "+a.submission.node.customer.fullName+" must be received and logged first")}0===t&&(c.toastRef.close(),this.submitting=!1)},e.prototype.resetSelections=function(){this.data.selections=[];for(var n=0,e=this.data.submissionAndInfos;n<e.length;n++)e[n].selected=!1},e.prototype.previousPage=function(){this.resetSelections(),n.prototype.previousPage.call(this)},e.prototype.nextPage=function(){this.resetSelections(),n.prototype.nextPage.call(this)},e.prototype.exportAddressData=function(){if(this.state.exporting=!0,this.data.selections.length<1)return this.toastrService.error("You must select at least one submission."),void(this.state.exporting=!1);for(var n,e=[],i=[],t=0,c=this.data.selections;t<c.length;t++)n=this.exportDataService.flattenObject(c[t],e),i.push(n.data),e=n.headers;this.exportDataService.whiteListColumns(["submission.node.id","fullName","address1","address2","city","county","postcode","country","email","castingCode"],i),this.exportDataService.renameColumns({"submission.node.id":"Order Reference"},i),this.exportDataService.addStaticValues({weight:.03,packageSize:"large letter",serviceCode:"BPR1",serviceRegisterCode:"01"},i),this.exportDataService.exportToCsv("submission_export_"+(new Date).toLocaleString(),Object.keys(i[0]),i),this.toastrService.success("Exported and downloading file"),this.state.exporting=!1},e.prototype.openWeightModal=function(n){this.modalService.open(this.submissionWeightModal,{keyboard:!1,centered:!0,backdrop:"static",size:"sm"}),this.data.submission=n},e.prototype.markAsReceived=function(){return W(this,void 0,void 0,(function(){var n,e,i,t,c,o;return U(this,(function(s){switch(s.label){case 0:return this.data.submission?(n=null,e=this.model.waxWeight,i=this.model.measuredRingSize,this.model.waxWeight=null,this.model.measuredRingSize=null,i&&(n=i.node.id),t=this.data.submission,this.toastrService.info("Updating submission","Processing"),t.markingAsReceived=!0,c={id:t.id,status:d.o.id,updatedAt:(new Date).toISOString(),waxWeight:e,measuredRingSize:n},[4,this.submissionService.update(c)]):(this.toastrService.warning("No submission selected","Warning!"),[2]);case 1:return(o=s.sent()).data&&o.data.updateSubmission.status.id===d.o.id&&(t.status={id:o.data.updateSubmission.status.id,name:o.data.updateSubmission.status.name,partnerComplete:o.data.updateSubmission.status.partnerComplete,customerComplete:o.data.updateSubmission.status.customerComplete,__typename:"Status"},t.waxWeight=e,i&&(t.measuredRingSize=i.node),this.toastrService.success("Submission ("+t.castingCode+") has been updated.","Complete")),t.markingAsReceived=!1,this.data.submission=null,[2]}}))}))},e.\u0275fac=function(n){return new(n||e)(S.ac(m.a),S.ac(h.a),S.ac(y.a),S.ac(g.a),S.ac(M.a),S.ac(P.i),S.ac(C.a),S.ac(_.b),S.ac(v.a),S.ac(f.a),S.ac(a.a),S.ac(b.a),S.ac(k.b))},e.\u0275cmp=S.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(n,e){var i;1&n&&S.jd(G,!0),2&n&&S.Lc(i=S.sc())&&(e.submissionWeightModal=i.first)},hostBindings:function(n,e){1&n&&S.rc("beforeunload",(function(n){return e.unloadNotification(n)}),!1,S.Oc)},features:[S.Jb],decls:100,vars:58,consts:[["subtitle","All Created Submissions","title","All Submissions"],[1,"container","form-container"],[1,"row","mb-2","transparent","justify-content-center"],[1,"col"],[1,"bd-callout","bd-callout-warning"],[1,"language-term"],[1,"token","input"],[1,"token","prompt"],["novalidate",""],["allSubmissionsForm","ngForm"],[1,"row","mt-5","transparent","justify-content-center"],[1,"row","text-center"],[1,"col-sm-5"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","nav-group"],["autocomplete","off","id","allSubmissions","name","allSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","eventSubmissions","name","eventSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","kitSubmissions","name","kitSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","allStatuses","name","allStatuses","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusCreated","name","statusCreated","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusReceived","name","statusReceived","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusCompleted","name","statusCompleted","type","radio",3,"ngModel","value","change","ngModelChange"],[1,"col-sm-2"],["ngbDropdown","",1,"d-inline-block"],["id","sortMenu","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["aria-labelledby","sortMenu","ngbDropdownMenu",""],[4,"ngIf"],["class","btn btn-outline-primary","ngbDropdownItem","",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"tc"],[3,"defaultField","searchFields","searchEmitter"],[1,"table-responsive"],[1,"table","list-view"],[1,"shrink","checkbox"],["class","checkbox-wrapper checkbox-inline","style","margin: 0;",4,"ngIf"],[1,"shrink"],[1,"tr"],["class","text-center",4,"ngIf"],[3,"state","nextPage","previousPage"],[3,"size",4,"ngIf"],["modalCreateSupplierBatch",""],["modalAddToManufactureBatch",""],["submissionWeightModal",""],["ngbDropdownItem","",1,"btn","btn-outline-primary",3,"click"],["ngbDropdownItem","",1,"btn","btn-outline-primary"],[1,"checkbox-wrapper","checkbox-inline",2,"margin","0"],["id","selectAll","name","selectAll","type","checkbox",3,"ngModel","value","click","ngModelChange"],["for","selectAll"],[1,"spacer",2,"height","21px"],["colspan","42"],[1,"selected-text"],[4,"ngFor","ngForOf"],[1,"pr-0","checkbox",3,"click"],["type","checkbox",3,"ngModel","name","id","click","ngModelChange"],[3,"for"],[1,"fas","fa-camera"],[3,"click"],[3,"color-danger","color-success",4,"ngIf"],[1,"status"],[1,"btn-group"],["class","btn icon-btn-outline mx-1 fas","type","button",3,"fa-stop","fa-stopwatch-20","hover","disabled","click",4,"ngIf"],["class","btn icon-btn-outline mx-1 fas fa-clipboard-check hover text-danger","type","button",3,"disabled","click",4,"ngIf"],[3,"buttonStyle","castingCode","isAdmin","loadingCastingCode","loadingStones","photos","stones","submission",4,"ngIf"],[3,"routerLink"],[1,"fas"],["type","button",1,"btn","icon-btn-outline","mx-1","fas",3,"disabled","click"],["aria-hidden","true","class","spinner-border spinner-border-sm",4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","icon-btn-outline","mx-1","fas","fa-clipboard-check","hover","text-danger",3,"disabled","click"],[3,"buttonStyle","castingCode","isAdmin","loadingCastingCode","loadingStones","photos","stones","submission"],["colspan","6"],[1,"text-muted","text-center"],[1,"row","align-items-center","justify-content-center"],[1,"col-4"],[1,"shimmer","py-2"],[1,"row","align-items-center"],[1,"col-10"],[1,"col-5"],[1,"col-6"],[1,"col-2"],[1,"shimmer","pl-1","py-2"],[1,"col-8"],[1,"text-center"],[3,"size"],["title","Create Supplier Batch?",3,"modal"],[1,"modal-body"],["createSupplierBatchModalForm","ngForm"],[1,"form-group","mb-0"],["for","selectSupplier",1,"req"],["appShowErrorInputClass","","id","selectSupplier","name","selectSupplier","placeholder","-- Please Select --","required","",3,"ngModel","searchable","ngModelChange"],["selectSupplier","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"form","modal","saveButtonName","modalSaved"],[3,"value"],["class","mt-3","for","batchNotes",4,"ngIf"],["id","batchNotes","maxlength","511","name","batchNotes",1,"col-12","ta-medium-height",3,"ngModel","ngModelChange"],["batchNotes","ngModel"],["for","batchNotes",1,"mt-3"],["title","Add To Batch",3,"modal"],["addToManufactureBatchModalForm","ngForm"],["appShowErrorInputClass","","id","selectBatch","name","selectBatch","placeholder","-- Please Select --","required","",3,"ngModel","searchable","ngModelChange"],[3,"modal","title"],["updateWaxWeightForm","ngForm"],[1,"form-group"],["for","waxWeight",1,"req"],["appShowErrorInputClass","","id","waxWeight","maxlength","255","min","0","name","waxWeight","placeholder","0.000g","required","","type","number",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],["for","measuredRingSize",1,"req"],["appShowErrorInputClass","","id","measuredRingSize","name","measuredRingSize","placeholder","-- Please Select--",3,"ngModel","notFoundText","searchable","ngModelChange"],["measuredRingSize","ngModel"],[3,"field"],[3,"value",4,"ngIf"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"div",1),S.gc(2,"div",2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"h4"),S.dd(6,"Sync the Camera Time"),S.fc(),S.gc(7,"p"),S.dd(8," Before you start photographing, ensure that the camera or device is synchronised to the second with the server and UK time. "),S.bc(9,"br"),S.dd(10," The current live time is: "),S.gc(11,"strong"),S.dd(12),S.fc(),S.bc(13,"br"),S.dd(14," Alternatively, you can see the server time by entering the following command from your CLI "),S.fc(),S.gc(15,"pre",5),S.dd(16,"        "),S.gc(17,"code",5),S.dd(18,"\n            "),S.gc(19,"span",6),S.dd(20,"\n                "),S.gc(21,"span",7),S.dd(22,"$ "),S.fc(),S.dd(23),S.fc(),S.dd(24,"\n        "),S.fc(),S.dd(25,"\n    "),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(26,"form",8,9),S.gc(28,"div",10),S.gc(29,"div",3),S.gc(30,"div",11),S.gc(31,"div",12),S.gc(32,"div",13),S.gc(33,"label",14),S.gc(34,"input",15),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(35," All "),S.fc(),S.gc(36,"label",14),S.gc(37,"input",16),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(38," Event "),S.fc(),S.gc(39,"label",14),S.gc(40,"input",17),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(41," Kit "),S.fc(),S.fc(),S.fc(),S.gc(42,"div",12),S.gc(43,"div",13),S.gc(44,"label",14),S.gc(45,"input",18),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(46," All "),S.fc(),S.gc(47,"label",14),S.gc(48,"input",19),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(49," Created "),S.fc(),S.gc(50,"label",14),S.gc(51,"input",20),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(52," Received "),S.fc(),S.gc(53,"label",14),S.gc(54,"input",21),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(55," Completed "),S.fc(),S.fc(),S.fc(),S.gc(56,"div",22),S.gc(57,"div",23),S.gc(58,"button",24),S.dd(59,"Action"),S.fc(),S.gc(60,"div",25),S.bd(61,H,3,2,"ng-container",26),S.bd(62,Y,2,0,"button",27),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(63,"div",28),S.gc(64,"div",29),S.gc(65,"div",30),S.gc(66,"search",31),S.rc("searchEmitter",(function(n){return e.search(n)})),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(67,"div",32),S.gc(68,"table",33),S.gc(69,"thead"),S.gc(70,"tr"),S.gc(71,"th",34),S.bd(72,V,3,2,"div",35),S.fc(),S.bc(73,"th",36),S.gc(74,"th"),S.dd(75,"Customer"),S.fc(),S.bd(76,J,2,0,"th",26),S.bd(77,K,2,0,"th",26),S.bd(78,Q,2,0,"th",26),S.bd(79,Z,2,0,"th",26),S.gc(80,"th"),S.dd(81,"Type"),S.fc(),S.gc(82,"th"),S.dd(83,"Paid (\xa3)"),S.fc(),S.gc(84,"th"),S.dd(85,"Submitted"),S.fc(),S.gc(86,"th"),S.dd(87,"Status"),S.fc(),S.bc(88,"th",37),S.fc(),S.fc(),S.bd(89,bn,6,2,"tbody",26),S.bd(90,pn,5,1,"tbody",26),S.fc(),S.bd(91,vn,2,1,"div",38),S.fc(),S.gc(92,"table-controls",39),S.rc("nextPage",(function(){return e.nextPage()}))("previousPage",(function(){return e.previousPage()})),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(93,hn,1,1,"loading-ring",40),S.bd(94,Sn,12,8,"ng-template",null,41,S.cd),S.bd(96,_n,11,7,"ng-template",null,42,S.cd),S.bd(98,xn,11,9,"ng-template",null,43,S.cd)),2&n&&(S.Mb(12),S.ed(e.liveTime),S.Mb(11),S.fd("\n                ",' heroku run -a management-tool-api "{ while true ; do date ; sleep 0.1 ; done } | uniq"',"\n            "),S.Mb(5),S.Sb("form-blocked",!0===e.submitting),S.Mb(5),S.Sb("active",null===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",null),S.Mb(2),S.Sb("active",!0===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",!0),S.Mb(2),S.Sb("active",!1===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",!1),S.Mb(4),S.Sb("active",null===e.model.status),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",null),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusCreated),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusCreated),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusReceived),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusReceived),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusCompleted),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusCompleted),S.Mb(7),S.Cc("ngIf",!e.loadingActions),S.Mb(1),S.Cc("ngIf",e.loadingActions),S.Mb(4),S.Cc("defaultField",e.customerName)("searchFields",S.Jc(53,$n,e.submissionId,e.customerName,e.castingCode,e.eventName)),S.Mb(6),S.Cc("ngIf",!e.state.loading),S.Mb(4),S.Cc("ngIf",null===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",null===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",!1===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",!0===e.model.typeEvent),S.Mb(10),S.Cc("ngIf",!e.state.loading),S.Mb(1),S.Cc("ngIf",e.state.loading),S.Mb(1),S.Cc("ngIf",e.state.loading),S.Mb(1),S.Cc("state",e.state),S.Mb(1),S.Cc("ngIf",e.submitting))},directives:[w.a,o.z,o.l,o.m,o.s,o.d,o.k,o.n,P.c,P.h,P.f,c.u,I.a,x.a,P.e,o.a,c.t,_.e,$.a,T.a,E.a,A.a,O.a,z.a,o.u,B.a,O.n,o.g,o.q,j.a],pipes:[R.a,c.G,N.a,D.a,F.a,c.I,c.f],styles:[""]}),e}(r.a),En=i("oZ8P");function An(n,e){if(1&n&&(S.gc(0,"pre",15),S.dd(1,"        "),S.gc(2,"code",15),S.dd(3,"\n            "),S.gc(4,"span",16),S.dd(5,"\n                "),S.gc(6,"span",17),S.dd(7,"Submission ID: "),S.fc(),S.dd(8),S.fc(),S.dd(9,"\n        "),S.fc(),S.dd(10,"\n    "),S.fc()),2&n){S.vc();var i=S.Mc(6);S.Mb(8),S.fd("\n              ",i.value,"\n            ")}}function On(n,e){1&n&&(S.gc(0,"td"),S.bc(1,"loading-ring",20),S.fc()),2&n&&(S.Mb(1),S.Cc("size",20))}function zn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Success"),S.fc())}function Bn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Error"),S.fc())}function jn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Already Scanned"),S.fc())}function Rn(n,e){if(1&n&&(S.gc(0,"tr"),S.gc(1,"td"),S.dd(2),S.fc(),S.bd(3,On,2,1,"td",18),S.bd(4,zn,2,0,"td",19),S.bd(5,Bn,2,0,"td",19),S.bd(6,jn,2,0,"td",19),S.fc()),2&n){var i=e.$implicit;S.Mb(2),S.ed(i.id),S.Mb(1),S.Cc("ngIf","loading"===i.status),S.Mb(1),S.Cc("ngIf","success"===i.status),S.Mb(1),S.Cc("ngIf","error"===i.status),S.Mb(1),S.Cc("ngIf","alreadyScanned"===i.status)}}function Nn(n,e){if(1&n){var i=S.hc();S.bc(0,"modal-header",2),S.gc(1,"div",3),S.gc(2,"div",4),S.bc(3,"img",5),S.bd(4,An,11,1,"pre",6),S.fc(),S.gc(5,"input",7,8),S.rc("ngModelChange",(function(n){return S.Pc(i),S.vc()._barcodeValue=n}))("keyup.enter",(function(){return S.Pc(i),S.vc().onScanned()})),S.fc(),S.gc(7,"div",9),S.gc(8,"table",10),S.gc(9,"thead"),S.gc(10,"tr"),S.gc(11,"th"),S.dd(12,"ID"),S.fc(),S.gc(13,"th",11),S.dd(14,"STATUS"),S.fc(),S.fc(),S.fc(),S.gc(15,"tbody"),S.bd(16,Rn,7,5,"tr",12),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(17,"div",13),S.gc(18,"button",14),S.rc("click",(function(){return S.Pc(i),S.vc().modalService.dismissAll()})),S.dd(19," Done Scanning "),S.fc(),S.fc()}if(2&n){var t=e.$implicit,c=S.Mc(6),o=S.vc();S.Cc("modal",t),S.Mb(4),S.Cc("ngIf",c.value),S.Mb(1),S.Cc("ngModel",o._barcodeValue),S.Mb(11),S.Cc("ngForOf",o.scanned)}}var Dn=function(){function n(n){this.modalService=n,this.scanned=[],this._onScanned=new S.q}return Object.defineProperty(n.prototype,"disabled",{set:function(n){this._disabled=n},enumerable:!1,configurable:!0}),n.prototype.onScanned=function(){if(null!==this._barcodeValue){for(var n=0,e=this.scanned;n<e.length;n++)if(e[n].id===this._barcodeValue)return void this.scanned.push({id:this._barcodeValue,status:"alreadyScanned"});this.scanned.push({id:this._barcodeValue,status:"loading"}),this._onScanned.emit(this._barcodeValue),this._barcodeValue=null}},n.prototype.openScannerModal=function(n){var e=this;this.modalService.open(n).result.then((function(){clearInterval(e.scannerInterval)}),(function(){clearInterval(e.scannerInterval)})),this.scannerInterval=setInterval((function(n){document.getElementById("scannerInput").focus()}),100)},Object.defineProperty(n.prototype,"updateScanned",{set:function(n){for(var e=0,i=this.scanned;e<i.length;e++){var t=i[e];if(n.id===t.id)return void(t.status=n.status)}},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(S.ac(P.i))},n.\u0275cmp=S.Ub({type:n,selectors:[["scanner-modal"]],inputs:{disabled:"disabled",updateScanned:"updateScanned"},outputs:{_onScanned:"_onScanned"},decls:4,vars:1,consts:[["type","button",1,"btn","btn-primary",3,"disabled","click"],["scanModal",""],["title","Scanning Now",3,"modal"],[1,"modal-body"],[1,"text-center"],["src","/assets/img/barcode.gif",2,"max-width","50%"],["class","language-term",4,"ngIf"],["id","scannerInput",1,"ui-hidden-accessible",3,"ngModel","ngModelChange","keyup.enter"],["barcodeValue","ngModel"],[1,"table-responsive"],[1,"table"],[1,"tc"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"language-term"],[1,"token","input"],[1,"token","prompt"],[4,"ngIf"],["class","tc",4,"ngIf"],[3,"size"]],template:function(n,e){if(1&n){var i=S.hc();S.gc(0,"button",0),S.rc("click",(function(){S.Pc(i);var n=S.Mc(3);return e.openScannerModal(n)})),S.dd(1," Scan\n"),S.fc(),S.bd(2,Nn,20,4,"ng-template",null,1,S.cd)}2&n&&S.Cc("disabled",e._disabled)},directives:[A.a,c.u,o.d,o.k,o.n,c.t,E.a],styles:[""]}),n}();function Fn(n,e){if(1&n){var i=S.hc();S.ec(0),S.gc(1,"tr"),S.wc(2,"lowercase"),S.gc(3,"td"),S.dd(4),S.fc(),S.gc(5,"td"),S.dd(6),S.wc(7,"titlecase"),S.fc(),S.gc(8,"td"),S.dd(9),S.wc(10,"currency"),S.fc(),S.gc(11,"td"),S.dd(12),S.wc(13,"simpleDateTime"),S.fc(),S.gc(14,"td",21),S.gc(15,"span"),S.dd(16),S.fc(),S.fc(),S.gc(17,"td",22),S.gc(18,"button",23),S.rc("click",(function(){S.Pc(i);var n=e.$implicit;return S.vc(2).viewSubmission(n.id)})),S.bc(19,"span",24),S.fc(),S.fc(),S.fc(),S.dc()}if(2&n){var t=e.$implicit;S.Mb(1),S.Pb("status-",S.xc(2,8,t.status.name),""),S.Mb(3),S.ed(t.customer.fullName),S.Mb(2),S.ed(S.xc(7,10,t.kitType.name)),S.Mb(3),S.ed(S.xc(10,12,t.totalPrice)),S.Mb(3),S.ed(S.xc(13,14,t.submittedAt)),S.Mb(4),S.ed(t.status.name)}}function Ln(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td",25),S.gc(2,"p",26),S.dd(3,"No submissions scanned"),S.fc(),S.fc(),S.fc())}function Wn(n,e){if(1&n&&(S.gc(0,"div",3),S.gc(1,"div",4),S.gc(2,"div",17),S.gc(3,"table",18),S.gc(4,"thead"),S.gc(5,"tr"),S.gc(6,"th"),S.dd(7,"Customer"),S.fc(),S.gc(8,"th"),S.dd(9,"Type"),S.fc(),S.gc(10,"th"),S.dd(11,"Paid (\xa3)"),S.fc(),S.gc(12,"th"),S.dd(13,"Submitted"),S.fc(),S.gc(14,"th"),S.dd(15,"Status"),S.fc(),S.bc(16,"th"),S.fc(),S.fc(),S.gc(17,"tbody"),S.bd(18,Fn,20,16,"ng-container",19),S.bd(19,Ln,4,0,"tr",20),S.fc(),S.fc(),S.fc(),S.fc(),S.fc()),2&n){var i=S.vc();S.Mb(18),S.Cc("ngForOf",i.data.submissions),S.Mb(1),S.Cc("ngIf",!i.data.submissions.length)}}var Un,Gn,qn,Xn,Hn=function(){function n(n,e,i){this.appUserService=n,this.router=e,this.submissionService=i,this.receivedByCAST="receivedByCAST",this.atManufacturing="atManufacturing",this.backAtCAST="backAtCAST",this.sentToCustomer="sentToCustomer",this.model={typeScan:null,status:null,updateScanned:null},this.data={submissions:[]},this.state={isAdmin:!1}}return n.prototype.ngOnInit=function(){var n=this;this.appUserService.getMe().subscribe((function(e){n.state.isAdmin=n.appUserService.isAdmin(e.data.appUser.roles)}))},n.prototype.onChangeSubmissionType=function(){},n.prototype.submissionScanned=function(n){var e=this,i=new Date,t=null;switch(this.model.typeScan){case this.receivedByCAST:t=d.o.id;break;case this.atManufacturing:t=d.i.id;break;case this.backAtCAST:t=d.d.id;break;case this.sentToCustomer:t=d.n.id}var c={id:"/submissions/"+n,updatedAt:i.toUTCString(),status:t};this.submissionService.update(c).then((function(n){e.data.submissions.push(n.data.updateSubmission),e.model.updateScanned={id:n.data.updateSubmission.id.replace(/\D/g,""),status:"success"}}),(function(i){e.model.updateScanned={id:n,status:"error"}}))},n.prototype.viewSubmission=function(n){this.router.navigate(["submission","view",n.replace(/\D/g,"")])},n.\u0275fac=function(e){return new(e||n)(S.ac(m.a),S.ac(_.b),S.ac(a.a))},n.\u0275cmp=S.Ub({type:n,selectors:[["ng-component"]],decls:24,vars:19,consts:[["title","Scan In Submissions"],["novalidate",""],["scanSubmissionsForm","ngForm"],[1,"card","mt-5"],[1,"card-body"],[1,"row","text-center","mb-5"],[1,"col-sm-12"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","nav-group"],["type","radio","name","receivedByCAST","id","receivedByCAST","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","atManufacturing","id","atManufacturing","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","backAtCAST","id","backAtCAST","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","sentToCustomer","id","sentToCustomer","autocomplete","off",3,"value","ngModel","ngModelChange","change"],[1,"row"],[1,"col-12","tc"],[3,"disabled","updateScanned","_onScanned"],["class","card mt-5",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"status"],[1,"tr"],["type","button",1,"small-button","btn-outline-secondary","round",3,"click"],[1,"fa","fa-eye"],["colspan","6"],[1,"text-muted","text-center"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"form",1,2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"div",5),S.gc(6,"div",6),S.gc(7,"div",7),S.gc(8,"label",8),S.gc(9,"input",9),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(10," Received by CAST "),S.fc(),S.gc(11,"label",8),S.gc(12,"input",10),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(13," At Manufacturing "),S.fc(),S.gc(14,"label",8),S.gc(15,"input",11),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(16," Back At CAST "),S.fc(),S.gc(17,"label",8),S.gc(18,"input",12),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(19," Sent to Customer "),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(20,"div",13),S.gc(21,"div",14),S.gc(22,"scanner-modal",15),S.rc("_onScanned",(function(n){return e.submissionScanned(n)})),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(23,Wn,20,2,"div",16),S.fc()),2&n&&(S.Mb(8),S.Sb("active",e.model.typeScan===e.receivedByCAST),S.Mb(1),S.Cc("value",e.receivedByCAST)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.atManufacturing),S.Mb(1),S.Cc("value",e.atManufacturing)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.backAtCAST),S.Mb(1),S.Cc("value",e.backAtCAST)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.sentToCustomer),S.Mb(1),S.Cc("value",e.sentToCustomer)("ngModel",e.model.typeScan),S.Mb(4),S.Cc("disabled",null===e.model.typeScan)("updateScanned",e.model.updateScanned),S.Mb(1),S.Cc("ngIf",e.data.submissions.length>0))},directives:[w.a,o.z,o.l,o.m,o.s,o.d,o.k,o.n,Dn,c.u,c.t],pipes:[c.q,c.G,N.a,D.a],styles:[""]}),n}(),Yn=i("tk/3"),Vn=i("lTCR"),Jn=i.n(Vn),Kn=Jn()(Un||(qn=['\n    mutation createSignedUploadUrl(\n        $contentType: String!,\n        $extension: String!\n    ) {\n        createSignedUploadUrl(input: {\n            _id: "1",\n            contentType: $contentType,\n            extension: $extension,\n            clientMutationId: ""\n        }) {\n            id,\n            objectName,\n            signedUrl\n        }\n    }\n'],Xn=['\n    mutation createSignedUploadUrl(\n        $contentType: String!,\n        $extension: String!\n    ) {\n        createSignedUploadUrl(input: {\n            _id: "1",\n            contentType: $contentType,\n            extension: $extension,\n            clientMutationId: ""\n        }) {\n            id,\n            objectName,\n            signedUrl\n        }\n    }\n'],Object.defineProperty?Object.defineProperty(qn,"raw",{value:Xn}):qn.raw=Xn,Un=qn)),Qn=Jn()(Gn||(Gn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createProcessUploadedSubmissionsRequest(\n        $numberToProcess: Int!\n    ) {\n        createProcessUploadedSubmissionsRequest(input: {\n            numberToProcess: $numberToProcess,\n            clientMutationId: ""\n        }) {\n            id,\n            numberProcessed\n        }\n    }\n'],['\n    mutation createProcessUploadedSubmissionsRequest(\n        $numberToProcess: Int!\n    ) {\n        createProcessUploadedSubmissionsRequest(input: {\n            numberToProcess: $numberToProcess,\n            clientMutationId: ""\n        }) {\n            id,\n            numberProcessed\n        }\n    }\n']))),Zn=i("/IUn"),ne=function(n,e,i,t){return new(i||(i=Promise))((function(c,o){function s(n){try{r(t.next(n))}catch(e){o(e)}}function a(n){try{r(t.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof i?e:new i((function(n){n(e)}))).then(s,a)}r((t=t.apply(n,e||[])).next())}))},ee=function(n,e){var i,t,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(c=2&o[0]?t.return:o[0]?t.throw||((c=t.return)&&c.call(t),0):t.next)&&!(c=c.call(t,o[1])).done)return c;switch(t=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,t=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],t=0}finally{i=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ie=function(){function n(n,e){this.http=n,this.apollo=e}return n.prototype.createSignedUploadUrl=function(n){return ne(this,void 0,void 0,(function(){return ee(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:Kn,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.prototype.uploadFile=function(n,e){return ne(this,void 0,void 0,(function(){var i,t;return ee(this,(function(c){return i=new Yn.d({"Content-Type":n.type}),t=new Yn.e("PUT",e,n,{headers:i,reportProgress:!0}),[2,this.http.request(t).toPromise()]}))}))},n.prototype.processUploads=function(n){return ne(this,void 0,void 0,(function(){return ee(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:Qn,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.\u0275fac=function(e){return new(e||n)(S.oc(Yn.b),S.oc(Zn.b))},n.\u0275prov=S.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),te=i("kvL/"),ce=function(n,e,i,t){return new(i||(i=Promise))((function(c,o){function s(n){try{r(t.next(n))}catch(e){o(e)}}function a(n){try{r(t.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof i?e:new i((function(n){n(e)}))).then(s,a)}r((t=t.apply(n,e||[])).next())}))},oe=function(n,e){var i,t,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(c=2&o[0]?t.return:o[0]?t.throw||((c=t.return)&&c.call(t),0):t.next)&&!(c=c.call(t,o[1])).done)return c;switch(t=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,t=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],t=0}finally{i=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function se(n,e){if(1&n){var i=S.hc();S.gc(0,"ngx-dropzone-preview",10),S.rc("removed",(function(){S.Pc(i);var n=e.$implicit;return S.vc().onRemove(n)})),S.gc(1,"ngx-dropzone-label"),S.dd(2),S.fc(),S.fc()}if(2&n){var t=e.$implicit;S.Cc("file",t)("removable",!0),S.Mb(2),S.gd("",t.name," (",t.type,")")}}function ae(n,e){if(1&n&&(S.gc(0,"p",11),S.dd(1),S.fc()),2&n){var i=S.vc();S.Mb(1),S.fd("Processed: ",i.processed," file(s)")}}function re(n,e){1&n&&S.bc(0,"loading-ring",12),2&n&&S.Cc("size",100)}var de=function(){function n(n,e){this.fileUploadService=n,this.toastr=e,this.numUploadsToProcess=20,this.data={files:[]},this.state={submitting:!1},this.model={},this.processed=0}return n.prototype.onSelect=function(n){var e;(e=this.data.files).push.apply(e,n.addedFiles)},n.prototype.onRemove=function(n){this.data.files.splice(this.data.files.indexOf(n),1)},n.prototype.doUpload=function(){return ce(this,void 0,void 0,(function(){var n,e,i=this;return oe(this,(function(t){switch(t.label){case 0:this.state.submitting=!0,this.processed=0,t.label=1;case 1:return t.trys.push([1,3,4,5]),n=this.data.files.map((function(n){return i.fileUploadService.createSignedUploadUrl({contentType:n.type,extension:n.name.split(".").pop()}).then((function(e){return i.processed++,i.fileUploadService.uploadFile(n,e.createSignedUploadUrl.signedUrl)}))})),[4,Promise.all(n)];case 2:return t.sent(),this.toastr.success("Image(s) uploaded successfully!"),this.data.files=[],[3,5];case 3:return e=t.sent(),this.toastr.error("Ohnoes! Something went wrong with the upload :("),console.error(e),[3,5];case 4:return this.state.submitting=!1,[7];case 5:return[2]}}))}))},n.prototype.processUploads=function(){return ce(this,void 0,void 0,(function(){var n,e,i,t;return oe(this,(function(c){switch(c.label){case 0:this.state.submitting=!0,c.label=1;case 1:c.trys.push([1,5,6,7]),n=-1,e=0,c.label=2;case 2:return 0===n?[3,4]:[4,this.fileUploadService.processUploads({numberToProcess:this.numUploadsToProcess})];case 3:return i=c.sent(),e+=n=i.createProcessUploadedSubmissionsRequest.numberProcessed,[3,2];case 4:return 0===e?this.toastr.warning("0 files were succesfully processed on the server"):this.toastr.success(e+" files processed"),[3,7];case 5:return t=c.sent(),this.toastr.error("Error requesting processing of uploads"),console.error(t),[3,7];case 6:return this.state.submitting=!1,[7];case 7:return[2]}}))}))},n.\u0275fac=function(e){return new(e||n)(S.ac(ie),S.ac(k.b))},n.\u0275cmp=S.Ub({type:n,selectors:[["ng-component"]],decls:23,vars:5,consts:[["subtitle","Upload the photos taken from a wax logging session","title","Upload Wax Images"],[1,"card","mt-5"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"mb-3",3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","lead",4,"ngIf"],[3,"size",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"lead"],[3,"size"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"div",1),S.gc(2,"div",2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"h4"),S.dd(6,"Upload Photos"),S.fc(),S.gc(7,"ngx-dropzone",5),S.rc("change",(function(n){return e.onSelect(n)})),S.gc(8,"ngx-dropzone-label"),S.dd(9,"Drop you photo(s) here."),S.fc(),S.bd(10,se,3,4,"ngx-dropzone-preview",6),S.fc(),S.gc(11,"button",7),S.rc("click",(function(){return e.doUpload()})),S.dd(12," Upload "),S.fc(),S.bd(13,ae,2,1,"p",8),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(14,"div",1),S.gc(15,"div",2),S.gc(16,"div",3),S.gc(17,"div",4),S.gc(18,"h4"),S.dd(19,"Process Uploads on the Server"),S.fc(),S.gc(20,"button",7),S.rc("click",(function(){return e.processUploads()})),S.dd(21," Process Uploads "),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(22,re,1,1,"loading-ring",9)),2&n&&(S.Mb(10),S.Cc("ngForOf",e.data.files),S.Mb(1),S.Cc("disabled",e.state.submitting||0===e.data.files.length),S.Mb(2),S.Cc("ngIf",!0===e.state.submitting||e.processed>0),S.Mb(7),S.Cc("disabled",e.state.submitting),S.Mb(2),S.Cc("ngIf",e.state.submitting))},directives:[w.a,te.a,te.g,c.t,c.u,te.d,E.a],encapsulation:2}),n}(),ue=[{path:"list",component:Tn},{path:"view/:id",component:En.a},{path:"scan",component:Hn},{path:"upload",component:de}],le=function(){function n(){}return n.\u0275mod=S.Yb({type:n}),n.\u0275inj=S.Xb({factory:function(e){return new(e||n)},imports:[[_.f.forChild(ue)],_.f]}),n}();function ge(n,e){if(1&n){var i=S.hc();S.gc(0,"button",2),S.rc("click",(function(){return S.Pc(i),S.vc().showConfirmAction()})),S.dd(1),S.fc()}if(2&n){var t=S.vc();S.Cc("disabled",t.state.disabled),S.Mb(1),S.fd(" ",t._buttonText,"\n")}}function fe(n,e){if(1&n){var i=S.hc();S.gc(0,"button",3),S.rc("click",(function(){return S.Pc(i),S.vc().confirmed()})),S.dd(1," Confirm?\n"),S.fc()}}var be=function(){function n(){this.state={confirming:!1,disabled:!1},this.confirmedAction=new S.q}return Object.defineProperty(n.prototype,"buttonText",{set:function(n){this._buttonText=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabledState",{set:function(n){this.state.disabled=n},enumerable:!1,configurable:!0}),n.prototype.confirmed=function(){this.state.confirming=!1,this.confirmedAction.emit()},n.prototype.showConfirmAction=function(){var n=this;this.state.confirming=!0,setTimeout((function(){n.state.confirming=!1}),3e3)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=S.Ub({type:n,selectors:[["confirm-action"]],inputs:{buttonText:"buttonText",disabledState:"disabledState"},outputs:{confirmedAction:"confirmedAction"},decls:2,vars:2,consts:[["class","btn btn-lg btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-lg btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-lg","btn-primary",3,"disabled","click"],[1,"btn","btn-lg","btn-warning",3,"click"]],template:function(n,e){1&n&&(S.bd(0,ge,2,2,"button",0),S.bd(1,fe,2,0,"button",1)),2&n&&(S.Cc("ngIf",!e.state.confirming),S.Mb(1),S.Cc("ngIf",e.state.confirming))},directives:[c.u],encapsulation:2}),n}(),me=i("rhck"),pe=i("/wnf"),ve=i("YbyT"),he=i("57tZ"),ye=i("xzcs"),Ce=i("D2Fp"),Me=i("lbMj"),Se=i("IfPz"),Pe=i("ZtzB"),_e=i("zoH9"),ke=i("DWOX"),we=i("DwNB"),Ie=i("Cdzh"),xe=i("BAfr"),$e=i("mhvR"),Te=i("iUZM"),Ee=i("jmmt"),Ae=i("o973"),Oe=i("aX/C"),ze=i("b44C"),Be=i("oy+2"),je=i("KWY1"),Re=i("dkTK"),Ne=function(){function n(){}return n.prototype.transform=function(n,e,i){return n&&e&&i?n.replace(new RegExp(this.escapeStr(e),"g"),i):n},n.prototype.escapeStr=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=S.Zb({name:"replace",type:n,pure:!0}),n}(),De=i("G0jp"),Fe=i("RNmn"),Le=i("9WpQ"),We=function(){function n(){}return n.\u0275mod=S.Yb({type:n}),n.\u0275inj=S.Xb({factory:function(e){return new(e||n)},imports:[[c.c,o.f,P.g,te.c,s.a,le,O.b]]}),n}();S.Tc(En.a,[c.r,c.s,c.t,c.u,c.B,c.x,c.y,c.z,c.A,c.v,c.w,o.z,o.p,o.y,o.d,o.q,o.t,o.a,o.v,o.w,o.s,o.k,o.l,o.u,o.h,o.g,o.r,o.b,o.e,o.n,o.o,o.m,P.c,P.d,P.h,P.f,P.e,P.k,te.a,te.g,te.d,te.b,te.e,te.f,be,me.a,pe.a,ve.a,he.a,j.a,ye.a,Ce.a,Me.a,Se.a,Pe.a,T.a,_e.a,E.a,ke.a,we.a,B.a,A.a,P.m,w.a,r.a,Ie.a,z.a,xe.a,$e.a,Te.a,Ee.a,Ae.a,Oe.a,x.a,$.a,I.a,ze.a,_.g,_.c,_.e,_.d,_.h,O.a,O.n,O.d,O.c,O.e,O.f,O.g,O.h,O.i,O.j,O.k,O.l,O.m,Tn,de,Dn,Hn,En.a],[c.b,c.I,c.q,c.l,c.F,c.g,c.D,c.G,c.d,c.f,c.j,c.k,c.m,Be.a,N.a,R.a,F.a,je.a,Re.a,Ne,De.a,D.a,Fe.a,Le.a])},dkTK:function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n,e,i){void 0===i&&(i="min"),n.length=0;var t=0;"min"===i&&(t=Math.min.apply(Math,e));for(var c=0;c<t;c++)n.push(c);return n},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Zb({name:"range",type:n,pure:!1}),n}()},iUZM:function(n,e,i){"use strict";i.d(e,"a",(function(){return F}));var t=i("f3+V"),c=i("fXoL"),o=i("5eHb"),s=i("3Pt+"),a=i("ofXK"),r=i("PxxC"),d=i("ZOsW");function u(n,e){if(1&n){var i=c.hc();c.gc(0,"span",14),c.dd(1),c.wc(2,"titlecase"),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc();return e.editing(e.keys.fullName,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc();c.Mb(1),c.fd(" ",c.xc(2,1,t._customer.fullName)," ")}}function l(n,e){if(1&n){var i=c.hc();c.gc(0,"span",21),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.fullName,n)})),c.gc(1,"input",22),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.fullName=n})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.Cc("ngModel",t._customer.fullName)}}function g(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.bd(2,l,2,1,"span",18),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc().stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc();c.Mb(2),c.Cc("ngIf",t.currentlyEditing===t.keys.fullName)}}function f(n,e){if(1&n){var i=c.hc();c.gc(0,"span",14),c.gc(1,"a",23),c.dd(2),c.fc(),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.email,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.Ec("href","mailto:",t._customer.email,"",c.Sc),c.Mb(1),c.ed(t._customer.email)}}function b(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.gc(2,"span",24),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.email,n)})),c.gc(3,"input",25),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.email=n})),c.fc(),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(3),c.Cc("ngModel",t._customer.email)}}function m(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Email Address"),c.fc(),c.bd(3,f,4,2,"span",7),c.bd(4,b,6,1,"div",8),c.fc()),2&n){var i=c.vc();c.Sb("editable",i.keys.email&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.email),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.email)}}function p(n,e){if(1&n){var i=c.hc();c.gc(0,"span",14),c.gc(1,"a",23),c.dd(2),c.fc(),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.phone,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.Ec("href","tel:",t._customer.phone,"",c.Sc),c.Mb(1),c.ed(t._customer.phone)}}function v(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.gc(2,"span",24),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.phone,n)})),c.gc(3,"input",26),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.phone=n})),c.fc(),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(3),c.Cc("ngModel",t._customer.phone)}}function h(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Phone"),c.fc(),c.bd(3,p,4,2,"span",7),c.bd(4,v,6,1,"div",8),c.fc()),2&n){var i=c.vc();c.Sb("editable",i.keys.phone&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.phone),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.phone)}}function y(n,e){if(1&n&&(c.gc(0,"span"),c.dd(1),c.gc(2,"span",27),c.dd(3),c.fc(),c.fc()),2&n){var i=c.vc();c.Mb(1),c.fd(" ",i._customer.castingCode?i._customer.castingCode:"No Code"," "),c.Mb(2),c.ed(i._originalCastingCode?"Existing casting code":"No code submission")}}function C(n,e){1&n&&(c.gc(0,"app-loading-shimmer"),c.gc(1,"div",28),c.gc(2,"div",29),c.bc(3,"div",30),c.fc(),c.fc(),c.gc(4,"div",28),c.gc(5,"div",31),c.bc(6,"div",32),c.fc(),c.fc(),c.fc())}function M(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.address1,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.fd(" ",t._customer.address1," ")}}function S(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.address1,n)})),c.gc(2,"input",34),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.address1=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(2),c.Cc("ngModel",t._customer.address1)}}function P(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(3);return e.editing(e.keys.address2,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(3);c.Mb(1),c.fd(" ",t._customer.address2," ")}}function _(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(3);return e.editing(e.keys.address2,n)})),c.gc(2,"input",35),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(3)._customer.address2=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(3).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(3);c.Mb(2),c.Cc("ngModel",t._customer.address2)}}function k(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Address Line 2"),c.fc(),c.bd(3,P,3,1,"span",11),c.bd(4,_,5,1,"div",8),c.fc()),2&n){var i=c.vc(2);c.Sb("editable",i.keys.address2&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.address2),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.address2)}}function w(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.city,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.fd(" ",t._customer.city," ")}}function I(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.city,n)})),c.gc(2,"input",36),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.city=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(2),c.Cc("ngModel",t._customer.city)}}function x(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(3);return e.editing(e.keys.county,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(3);c.Mb(1),c.fd(" ",t._customer.county," ")}}function $(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(3);return e.editing(e.keys.county,n)})),c.gc(2,"input",37),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(3)._customer.county=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(3).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(3);c.Mb(2),c.Cc("ngModel",t._customer.county)}}function T(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"County / State"),c.fc(),c.bd(3,x,3,1,"span",11),c.bd(4,$,5,1,"div",8),c.fc()),2&n){var i=c.vc(2);c.Sb("editable",i.keys.county&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.county),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.county)}}function E(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.wc(2,"uppercase"),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.postcode,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.fd(" ",c.xc(2,1,t._customer.postcode)," ")}}function A(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.postcode,n)})),c.gc(2,"input",38),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.postcode=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(2),c.Cc("ngModel",t._customer.postcode)}}function O(n,e){if(1&n){var i=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.country,n)})),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(1),c.fd(" ",t._customer.country," ")}}function z(n,e){if(1&n&&(c.gc(0,"ng-option",41),c.dd(1),c.wc(2,"titlecase"),c.fc()),2&n){var i=e.$implicit;c.Cc("value",i.node.name),c.Mb(1),c.fd(" ",c.xc(2,2,i.node.name)," ")}}function B(n,e){if(1&n){var i=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(i);var e=c.vc(2);return e.editing(e.keys.country,n)})),c.gc(2,"ng-select",39),c.rc("ngModelChange",(function(n){return c.Pc(i),c.vc(2)._customer.country=n})),c.bd(3,z,3,4,"ng-option",40),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(i),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var t=c.vc(2);c.Mb(2),c.Cc("ngModel",t._customer.country)("searchable",!0),c.Mb(1),c.Cc("ngForOf",t._countries)}}function j(n,e){if(1&n&&(c.gc(0,"div",2),c.gc(1,"div",3),c.gc(2,"div",4),c.gc(3,"h6",5),c.dd(4,"Address Information"),c.fc(),c.gc(5,"ul",6),c.gc(6,"li"),c.gc(7,"span"),c.dd(8,"Address Line 1"),c.fc(),c.bd(9,M,3,1,"span",11),c.bd(10,S,5,1,"div",8),c.fc(),c.bd(11,k,5,4,"li",9),c.gc(12,"li"),c.gc(13,"span"),c.dd(14,"Town / City"),c.fc(),c.bd(15,w,3,1,"span",11),c.bd(16,I,5,1,"div",8),c.fc(),c.bd(17,T,5,4,"li",9),c.gc(18,"li"),c.gc(19,"span"),c.dd(20,"Postcode"),c.fc(),c.bd(21,E,4,3,"span",11),c.bd(22,A,5,1,"div",8),c.fc(),c.gc(23,"li"),c.gc(24,"span"),c.dd(25,"Country"),c.fc(),c.bd(26,O,3,1,"span",11),c.bd(27,B,6,3,"div",8),c.fc(),c.fc(),c.fc(),c.fc(),c.fc()),2&n){var i=c.vc();c.Mb(6),c.Sb("editable",i.keys.address1&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.address1),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.address1),c.Mb(1),c.Cc("ngIf",i._customer.address2||i._editable),c.Mb(1),c.Sb("editable",i.keys.city&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.city),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.city),c.Mb(1),c.Cc("ngIf",i._customer.county||i._editable),c.Mb(1),c.Sb("editable",i.keys.postcode&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.postcode),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.postcode),c.Mb(1),c.Sb("editable",i.keys.country&&i._editable),c.Mb(3),c.Cc("ngIf",i.currentlyEditing!==i.keys.country),c.Mb(1),c.Cc("ngIf",i.currentlyEditing===i.keys.country)}}function R(n,e){if(1&n){var i=c.hc();c.gc(0,"div",42),c.gc(1,"button",43),c.rc("click",(function(){c.Pc(i);var n=c.vc(),e=c.Mc(1);return n.updateCustomer(e)})),c.dd(2,"Update Customer "),c.fc(),c.fc()}if(2&n){var t=c.vc();c.Mb(1),c.Cc("disabled",t.updating)}}var N=function(){return function(){}}(),D=function(){return function(){this.fullName="fullName",this.address1="address1",this.address2="address2",this.city="city",this.county="county",this.country="country",this.postcode="postcode",this.phone="phone",this.email="email",this.event="event",this.regCode="regCode",this.castingCode="castingCode"}}(),F=function(){function n(n,e){this.customerService=n,this.toastrService=e,this._countries=[],this.currentlyEditing=null,this._customer=new N,this._editable=!1,this._isAdmin=!1,this.keys=new D,this._loadingCastingCode=!1,this._originalCastingCode=null,this.updating=!1}return n.prototype.editing=function(n,e,i,t){void 0===i&&(i=null),void 0===t&&(t=null),this._editable&&(i&&(this._customer[n]=t.find((function(n){return n.node.name===i})).node.name),e.stopPropagation(),this.currentlyEditing=n)},n.prototype.stopEditing=function(n){this.currentlyEditing=null},n.prototype.updateCustomer=function(n){var e=this;this._customer.fullName&&this._customer.email&&this._customer.phone&&this._customer.address1&&this._customer.city&&this._customer.postcode&&this._customer.country?(this.updating=!0,this.toastrService.success("","Updating Customer Information"),this.customerService.updateEdit(this._customer).subscribe((function(i){e.updating=!1,e.toastrService.success("","Customer Information Updated"),n.form.markAsPristine()}))):this.toastrService.error("","Please fill in all required customer data")},Object.defineProperty(n.prototype,"countries",{set:function(n){this._countries=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"customer",{set:function(n){n.node&&(n=n.node),this._customer.id=n.id,this._customer.fullName=n.fullName,this._customer.address1=n.address1,this._customer.address2=n.address2,this._customer.city=n.city,this._customer.county=n.county,this._customer.country=n.country,this._customer.postcode=n.postcode,this._customer.phone=n.phone,this._customer.email=n.email,this._customer.event=n.event?n.event.name:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"editable",{set:function(n){this._editable=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"regCode",{set:function(n){this._customer.regCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._customer.castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"originalCastingCode",{set:function(n){this._originalCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(c.ac(t.a),c.ac(o.b))},n.\u0275cmp=c.Ub({type:n,selectors:[["submission-view-customer"]],hostBindings:function(n,e){1&n&&c.rc("click",(function(n){return e.stopEditing(n)}),!1,c.Nc)("keyup.Enter",(function(n){return e.stopEditing(n)}),!1,c.Nc)},inputs:{countries:"countries",customer:"customer",editable:"editable",regCode:"regCode",castingCode:"castingCode",originalCastingCode:"originalCastingCode",loadingCastingCode:"loadingCastingCode",isAdmin:"isAdmin"},decls:29,vars:11,consts:[[1,"row"],["customerViewForm","ngForm"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card-details"],["class","value",4,"ngIf"],["class","form-row w-100 align-items-center",4,"ngIf"],[3,"editable",4,"ngIf"],[2,"width","35%","margin-left","0"],[4,"ngIf"],["class","col",4,"ngIf"],["class","col-12 tc mt-3",4,"ngIf"],[1,"value"],["type","button",1,"btn","ml-1","icon-btn-outline","hover","icon-btn-small","fas","fa-pencil-alt",3,"click"],[1,"form-row","w-100","align-items-center"],[1,"col","flex-grow-1"],[3,"click",4,"ngIf"],[1,"col-auto"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-times",3,"click"],[3,"click"],["name","fullName","type","text",1,"form-control",3,"ngModel","ngModelChange"],[3,"href"],[1,"w-100",3,"click"],["name","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"sub-value"],[1,"row","align-items-center"],[1,"col-6"],[1,"shimmer","py-2"],[1,"col-10"],[1,"shimmer","mt-1","py-1"],[1,"col","flex-grow-1",3,"click"],["name","address1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","address2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","city","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","county","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","postcode","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","country",3,"ngModel","searchable","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12","tc","mt-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,e){if(1&n&&(c.gc(0,"form",0,1),c.gc(2,"div",2),c.gc(3,"div",3),c.gc(4,"div",4),c.gc(5,"h6",5),c.dd(6,"Customer Details"),c.fc(),c.gc(7,"ul",6),c.gc(8,"li"),c.gc(9,"span"),c.dd(10,"Full Name"),c.fc(),c.bd(11,u,4,3,"span",7),c.bd(12,g,5,1,"div",8),c.fc(),c.bd(13,m,5,4,"li",9),c.bd(14,h,5,4,"li",9),c.gc(15,"li"),c.bc(16,"hr",10),c.fc(),c.gc(17,"li"),c.gc(18,"span"),c.dd(19,"Associated Kit"),c.fc(),c.gc(20,"span"),c.dd(21),c.fc(),c.fc(),c.gc(22,"li"),c.gc(23,"span"),c.dd(24,"Casting Code"),c.fc(),c.bd(25,y,4,2,"span",11),c.bd(26,C,7,0,"app-loading-shimmer",11),c.fc(),c.fc(),c.fc(),c.fc(),c.fc(),c.bd(27,j,28,18,"div",12),c.bd(28,R,3,1,"div",13),c.fc()),2&n){var i=c.Mc(1);c.Mb(8),c.Sb("editable",e.keys.fullName&&e._editable),c.Mb(3),c.Cc("ngIf",e.currentlyEditing!==e.keys.fullName),c.Mb(1),c.Cc("ngIf",e.currentlyEditing===e.keys.fullName),c.Mb(1),c.Cc("ngIf",e._customer.email&&e._isAdmin),c.Mb(1),c.Cc("ngIf",e._customer.phone||e._editable),c.Mb(7),c.ed(e._customer.regCode?e._customer.regCode:"No Kit"),c.Mb(4),c.Cc("ngIf",!e._loadingCastingCode),c.Mb(1),c.Cc("ngIf",e._loadingCastingCode),c.Mb(1),c.Cc("ngIf",e._isAdmin),c.Mb(1),c.Cc("ngIf",i.dirty)}},directives:[s.z,s.l,s.m,a.u,s.d,s.k,s.n,r.a,d.a,a.t,d.n],pipes:[a.G,a.I],styles:[""]}),n}()},jmmt:function(n,e,i){"use strict";i.d(e,"a",(function(){return r}));var t=i("DHi0"),c=i("fXoL"),o=i("ofXK"),s=i("mm/Q");function a(n,e){if(1&n&&(c.gc(0,"div",2),c.bc(1,"img",3),c.fc()),2&n){var i=e.$implicit,t=e.index;c.Mb(1),c.Cc("lightbox",t)("src",i.data.thumb,c.Sc)("gallery","submissionPhotos")}}var r=function(){function n(n){this.gallery=n,this.items=[],this.galleryId="submissionPhotos"}return Object.defineProperty(n.prototype,"photos",{set:function(n){for(var e=0,i=n;e<i.length;e++){var c=i[e];c.node&&(c=c.node),c.signedMidsizeDownloadUrl||(c.signedMidsizeDownloadUrl=c.signedDownloadUrl),c.signedThumbnailDownloadUrl||(c.signedThumbnailDownloadUrl=c.signedDownloadUrl),this.items.push(new t.d({src:c.signedMidsizeDownloadUrl,thumb:c.signedThumbnailDownloadUrl}))}var o=this.gallery.ref(this.galleryId);o.setConfig({loadingStrategy:"lazy",imageSize:"contain"}),o.load(this.items)},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(c.ac(t.a))},n.\u0275cmp=c.Ub({type:n,selectors:[["submission-view-photos"]],inputs:{photos:"photos"},decls:2,vars:1,consts:[[1,"row","mb-1"],["class","col-sm-4 mb-1",4,"ngFor","ngForOf"],[1,"col-sm-4","mb-1"],["alt","Reload the page. If you are seeing this, the link may have expired.",3,"lightbox","src","gallery"]],template:function(n,e){1&n&&(c.gc(0,"div",0),c.bd(1,a,2,3,"div",1),c.fc()),2&n&&(c.Mb(1),c.Cc("ngForOf",e.items))},directives:[o.t,s.b],styles:[""]}),n}()},"kvL/":function(n,e,i){"use strict";i.d(e,"c",(function(){return A})),i.d(e,"a",(function(){return x})),i.d(e,"d",(function(){return w})),i.d(e,"b",(function(){return $})),i.d(e,"f",(function(){return E})),i.d(e,"e",(function(){return T})),i.d(e,"g",(function(){return P}));var t=i("Ji7U"),c=i("LK+K"),o=i("o0o1"),s=i.n(o),a=i("vuIU"),r=i("1OyB"),d=i("fXoL"),u=i("mrSG"),l=i("ofXK"),g=i("jhN1");function f(n,e){if(1&n){var i=d.hc();d.gc(0,"ngx-dropzone-remove-badge",1),d.rc("click",(function(n){return d.Pc(i),d.vc()._remove(n)})),d.fc()}}var b=[[["ngx-dropzone-label"]]],m=["ngx-dropzone-label"],p=["fileInput"];function v(n,e){1&n&&d.Ac(0,2,["*ngIf","!_hasPreviews"])}var h=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],y=["ngx-dropzone-preview","*","ngx-dropzone-label"];function C(n,e){if(1&n){var i=d.hc();d.gc(0,"ngx-dropzone-remove-badge",2),d.rc("click",(function(n){return d.Pc(i),d.vc()._remove(n)})),d.fc()}}function M(n,e){if(1&n){var i=d.hc();d.gc(0,"video",2),d.rc("click",(function(n){return d.Pc(i),n.stopPropagation()})),d.bc(1,"source",3),d.fc()}if(2&n){var t=d.vc();d.Mb(1),d.Cc("src",t.sanitizedVideoSrc,d.Sc)}}function S(n,e){if(1&n){var i=d.hc();d.gc(0,"ngx-dropzone-remove-badge",4),d.rc("click",(function(n){return d.Pc(i),d.vc()._remove(n)})),d.fc()}}var P=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.Vb({type:n,selectors:[["ngx-dropzone-label"]]}),n}();function _(n){return null!=n&&"false"!=="".concat(n)}var k=function(){var n={BACKSPACE:8,DELETE:46};return n[n.BACKSPACE]="BACKSPACE",n[n.DELETE]="DELETE",n}(),w=function(){var n=function(){function n(e){Object(r.a)(this,n),this.sanitizer=e,this._removable=!1,this.removed=new d.q,this.tabIndex=0}return Object(a.a)(n,[{key:"keyEvent",value:function(n){switch(n.keyCode){case k.BACKSPACE:case k.DELETE:this.remove()}}},{key:"_remove",value:function(n){n.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:function(){return Object(u.__awaiter)(this,void 0,void 0,s.a.mark((function n(){var e=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){var t=new FileReader;if(t.onload=function(e){n(e.target.result)},t.onerror=function(n){console.error("FileReader failed on file ".concat(e.file.name,".")),i(n)},!e.file)return i("No file to read. Please provide a file using the [file] Input property.");t.readAsDataURL(e.file)})));case 1:case"end":return n.stop()}}),n)})))}},{key:"removable",get:function(){return this._removable},set:function(n){this._removable=_(n)}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}}]),n}();return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,e){1&n&&d.rc("keyup",(function(n){return e.keyEvent(n)})),2&n&&(d.jc("tabindex",e.tabIndex),d.Xc(e.hostStyle))},inputs:{removable:"removable",file:"file"},outputs:{removed:"removed"},ngContentSelectors:m,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.Ac(0),d.bd(1,f,1,0,"ngx-dropzone-remove-badge",0)),2&n&&(d.Mb(1),d.Cc("ngIf",e.removable))},directives:function(){return[l.u,T]},styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),n}(),I=function(){var n=function(){function n(){Object(r.a)(this,n)}return Object(a.a)(n,[{key:"parseFileList",value:function(n,e,i,t){for(var c=[],o=[],s=0;s<n.length;s++){var a=n.item(s);this.isAccepted(a,e)?i&&a.size>i?this.rejectFile(o,a,"size"):!t&&c.length>=1?this.rejectFile(o,a,"no_multiple"):c.push(a):this.rejectFile(o,a,"type")}return{addedFiles:c,rejectedFiles:o}}},{key:"isAccepted",value:function(n,e){if("*"===e)return!0;var i=e.split(",").map((function(n){return n.toLowerCase().trim()})),t=n.type.toLowerCase(),c=n.name.toLowerCase();return!!i.find((function(n){return n.endsWith("/*")?t.split("/")[0]===n.split("/")[0]:n.startsWith(".")?c.endsWith(n):n==t}))}},{key:"rejectFile",value:function(n,e,i){var t=e;t.reason=i,n.push(t)}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Wb({token:n,factory:n.\u0275fac}),n}(),x=function(){var n=function(){function n(e){Object(r.a)(this,n),this.service=e,this.change=new d.q,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return Object(a.a)(n,[{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(n){this.disabled||(this.preventDefault(n),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(n){this.disabled||(this.preventDefault(n),this._isHovered=!1,this.handleFileDrop(n.dataTransfer.files))}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(n){this.handleFileDrop(n.target.files),this._fileInput.nativeElement.value="",this.preventDefault(n)}},{key:"handleFileDrop",value:function(n){var e=this.service.parseFileList(n,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:e.addedFiles,rejectedFiles:e.rejectedFiles,source:this})}},{key:"preventDefault",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=_(n),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(n){this._multiple=_(n)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(n){this._maxFileSize=function(n){return isNaN(parseFloat(n))||isNaN(Number(n))?null:Number(n)}(n)}},{key:"expandable",get:function(){return this._expandable},set:function(n){this._expandable=_(n)}},{key:"disableClick",get:function(){return this._disableClick},set:function(n){this._disableClick=_(n)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(d.ac(I,2))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,e,i){var t;1&n&&d.Tb(i,w,!0),2&n&&d.Lc(t=d.sc())&&(e._previewChildren=t)},viewQuery:function(n,e){var i;1&n&&d.jd(p,!0),2&n&&d.Lc(i=d.sc())&&(e._fileInput=i.first)},hostVars:8,hostBindings:function(n,e){1&n&&d.rc("click",(function(){return e._onClick()}))("dragover",(function(n){return e._onDragOver(n)}))("dragleave",(function(){return e._onDragLeave()}))("drop",(function(n){return e._onDrop(n)})),2&n&&d.Sb("ngx-dz-hovered",e._isHovered)("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[d.Lb([I])],ngContentSelectors:y,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(n,e){1&n&&(d.Bc(h),d.gc(0,"input",0,1),d.rc("change",(function(n){return e._onFilesSelected(n)})),d.fc(),d.bd(2,v,1,0,"ng-content",2),d.Ac(3),d.Ac(4,1)),2&n&&(d.Cc("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),d.Nb("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),d.Mb(2),d.Cc("ngIf",!e._hasPreviews))},directives:[l.u],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:#000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}"]}),n}(),$=function(){var n=function(n){Object(t.a)(i,n);var e=Object(c.a)(i);function i(n){var t;return Object(r.a)(this,i),(t=e.call(this,n)).imageSrc="",t}return Object(a.a)(i,[{key:"ngOnInit",value:function(){var n=this;this.readFile().then((function(e){return setTimeout((function(){return n.imageSrc=e}))})).catch((function(n){return console.error(n)}))}}]),i}(w);return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-image-preview"]],features:[d.Lb([{provide:w,useExisting:n}]),d.Jb],ngContentSelectors:m,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.bc(0,"img",0),d.Ac(1),d.bd(2,C,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(d.Cc("src",e.imageSrc,d.Sc),d.Mb(2),d.Cc("ngIf",e.removable))},directives:function(){return[l.u,T]},styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:focus   img[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),n}(),T=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,e){1&n&&(d.uc(),d.gc(0,"svg"),d.bc(1,"line",0),d.bc(2,"line",1),d.fc())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),n}(),E=function(){var n=function(n){Object(t.a)(i,n);var e=Object(c.a)(i);function i(n){return Object(r.a)(this,i),e.call(this,n)}return Object(a.a)(i,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}]),i}(w);return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-video-preview"]],features:[d.Lb([{provide:w,useExisting:n}]),d.Jb],ngContentSelectors:m,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.bd(0,M,2,1,"video",0),d.Ac(1),d.bd(2,S,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(d.Cc("ngIf",e.sanitizedVideoSrc),d.Mb(2),d.Cc("ngIf",e.removable))},directives:[l.u,T],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:focus   video[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),n}(),A=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275mod=d.Yb({type:n}),n.\u0275inj=d.Xb({factory:function(e){return new(e||n)},imports:[[l.c]]}),n}()},lbMj:function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){this._prefix="\xa3"}return Object.defineProperty(n.prototype,"prefix",{set:function(n){this._prefix=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["input-prefix"]],inputs:{prefix:"prefix"},decls:3,vars:1,consts:[[1,"input-group-prepend"],[1,"input-group-text"]],template:function(n,e){1&n&&(t.gc(0,"div",0),t.gc(1,"div",1),t.dd(2),t.fc(),t.fc()),2&n&&(t.Mb(2),t.ed(e._prefix))},encapsulation:2}),n}()},o973:function(n,e,i){"use strict";i.d(e,"a",(function(){return d}));var t=i("fXoL"),c=i("ofXK");function o(n,e){1&n&&t.bc(0,"hr")}function s(n,e){if(1&n&&(t.gc(0,"div",6),t.gc(1,"ul",7),t.gc(2,"li"),t.dd(3,"Quantity: "),t.gc(4,"strong"),t.dd(5),t.fc(),t.fc(),t.gc(6,"li"),t.dd(7,"Stone: "),t.gc(8,"strong"),t.dd(9),t.wc(10,"titlecase"),t.fc(),t.fc(),t.gc(11,"li"),t.dd(12,"Size: "),t.gc(13,"strong"),t.dd(14),t.fc(),t.fc(),t.fc(),t.bd(15,o,1,0,"hr",9),t.fc()),2&n){var i=e.$implicit,c=e.index,s=t.vc(2);t.Mb(5),t.ed(i.number),t.Mb(4),t.ed(t.xc(10,4,i.type)),t.Mb(5),t.ed(i.size),t.Mb(1),t.Cc("ngIf",c<s._stones.length-1)}}function a(n,e){if(1&n&&(t.gc(0,"div",1),t.gc(1,"div",2),t.gc(2,"div",3),t.gc(3,"h5",4),t.dd(4,"Stones"),t.fc(),t.gc(5,"div",5),t.gc(6,"div",6),t.gc(7,"ul",7),t.gc(8,"li"),t.dd(9,"Stone Description: "),t.gc(10,"strong"),t.dd(11),t.fc(),t.fc(),t.fc(),t.fc(),t.bd(12,s,16,6,"div",8),t.fc(),t.fc(),t.fc(),t.fc()),2&n){var i=t.vc();t.Mb(11),t.ed(i._stoneDescription),t.Mb(1),t.Cc("ngForOf",i._stones)}}var r=function(){return function(){}}(),d=function(){function n(){}return Object.defineProperty(n.prototype,"stones",{set:function(n){this._stones=[];for(var e=0,i=n;e<i.length;e++){var t=i[e],c=new r;t.node&&(t=t.node),c.number=t.number,c.type=t.stoneType.name,c.size=t.stoneSize.name,this._stones.push(c)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stoneDescription",{set:function(n){this._stoneDescription=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["submission-view-stones"]],inputs:{stones:"stones",stoneDescription:"stoneDescription"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"inner-section"],[1,"card-title"],[1,"row"],[1,"col-sm-12"],[1,"card-details"],["class","col-sm-12",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(n,e){1&n&&t.bd(0,a,13,2,"div",0),2&n&&t.Cc("ngIf",e._stones&&e._stones.length)},directives:[c.u,c.t],pipes:[c.G],styles:[""]}),n}()},oZ8P:function(n,e,i){"use strict";i.d(e,"b",(function(){return N})),i.d(e,"a",(function(){return D}));var t=i("1uah"),c=i("Nlbt"),o=i("S6Vu"),s=(i("+izf"),i("CIHE")),a=i("9TxS"),r=i("P7K/"),d=i("mW4X"),u=i("AytR"),l=i("fXoL"),g=i("/IUn"),f=i("tk/3"),b=function(){function n(n,e){this.apollo=n,this.http=e}return n.prototype.list=function(n,e){return this.http.get(u.a.apiNonGraphQLUrl+"audit/App-Entity-"+n+"/"+e)},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b),l.oc(f.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),m=i("1kSV"),p=i("tyNb"),v=["viewAuditsModal"];function h(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"div",16),l.gc(2,"div",17),l.gc(3,"div",18),l.gc(4,"h5",19),l.dd(5,"Submission Photos"),l.fc(),l.bc(6,"submission-view-photos",20),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc(2);l.Mb(6),l.Cc("photos",i.data.submission.submissionPhotos.edges)}}function y(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",19),l.dd(2,"Submission Jobs"),l.fc(),l.bc(3,"app-submission-view-jobs",21),l.fc()),2&n){var i=l.vc(2);l.Mb(3),l.Cc("jobs",i.data.submission.jobs.edges)}}function C(n,e){if(1&n){var i=l.hc();l.gc(0,"div",22),l.gc(1,"div",23),l.gc(2,"button",24),l.rc("click",(function(){return l.Pc(i),l.vc(2).viewAudits()})),l.dd(3," View Submission History "),l.fc(),l.fc(),l.fc()}}function M(n,e){if(1&n){var i=l.hc();l.gc(0,"tr"),l.gc(1,"td"),l.dd(2),l.wc(3,"titlecase"),l.fc(),l.gc(4,"td"),l.dd(5),l.wc(6,"titlecase"),l.fc(),l.gc(7,"td"),l.dd(8),l.wc(9,"simpleDateTime"),l.fc(),l.gc(10,"td"),l.dd(11),l.wc(12,"currency"),l.fc(),l.gc(13,"td",27),l.gc(14,"button",28),l.rc("click",(function(){l.Pc(i);var n=l.vc().$implicit;return l.vc(3).viewSubmission(n.node.id)})),l.bc(15,"span",29),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc().$implicit;l.Mb(2),l.ed(l.xc(3,4,t.node.status.name)),l.Mb(3),l.ed(l.xc(6,6,t.node.kitType.name)),l.Mb(3),l.ed(l.xc(9,8,t.node.submittedAt)),l.Mb(3),l.ed(l.xc(12,10,t.node.amountPaid))}}function S(n,e){if(1&n&&(l.ec(0),l.bd(1,M,16,12,"tr",2),l.dc()),2&n){var i=e.$implicit,t=l.vc(3);l.Mb(1),l.Cc("ngIf",i.node.id!==t.model.id)}}function P(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",19),l.dd(2),l.wc(3,"titlecase"),l.fc(),l.gc(4,"table",25),l.gc(5,"thead"),l.gc(6,"tr"),l.gc(7,"th"),l.dd(8,"Status"),l.fc(),l.gc(9,"th"),l.dd(10,"Type"),l.fc(),l.gc(11,"th"),l.dd(12,"Submitted"),l.fc(),l.gc(13,"th"),l.dd(14,"Price"),l.fc(),l.bc(15,"th"),l.fc(),l.fc(),l.gc(16,"tbody"),l.bd(17,S,2,1,"ng-container",26),l.fc(),l.fc(),l.fc()),2&n){var i=l.vc(2);l.Mb(2),l.fd("Other Submissions by ",l.xc(3,2,i.model.customer.fullName),""),l.Mb(15),l.Cc("ngForOf",i.data.customersOtherSubmissions)}}function _(n,e){if(1&n){var i=l.hc();l.gc(0,"form",5,6),l.rc("submit",(function(){return l.Pc(i),l.vc().onSubmit()})),l.gc(2,"div",7),l.gc(3,"div",8),l.gc(4,"div",9),l.bc(5,"submission-view-customer",10),l.fc(),l.gc(6,"div",9),l.bc(7,"submission-view-submission",11),l.fc(),l.gc(8,"div",12),l.bc(9,"submission-view-stones",13),l.fc(),l.bd(10,h,7,1,"div",14),l.bd(11,y,4,1,"div",14),l.bd(12,C,4,0,"div",15),l.bd(13,P,18,4,"div",14),l.fc(),l.fc(),l.fc()}if(2&n){var t=l.vc();l.Mb(5),l.Cc("castingCode",t.data.submission.castingCode)("countries",t.data.countries)("customer",t.model.customer)("editable",t.state.isAdmin)("isAdmin",t.state.isAdmin)("loadingCastingCode",t.state.loadingCastingCode)("originalCastingCode",t.data.castingCode)("regCode",t.model.kit?t.model.kit.regCode:null),l.Mb(2),l.Cc("castingCode",t.data.castingCode)("castingEstimateCode",t.data.castingCode?t.data.castingCode.estimatedCost:null)("editable",t.state.isAdmin)("isAdmin",t.state.isAdmin)("loadingCastingCode",t.state.loadingCastingCode)("submissionData",t.data)("submission",t.model),l.Mb(2),l.Cc("stoneDescription",t.model.stoneDescription)("stones",t.data.stones),l.Mb(1),l.Cc("ngIf",t.data.submission.submissionPhotos.edges.length),l.Mb(1),l.Cc("ngIf",t.data.submission.jobs.edges.length),l.Mb(1),l.Cc("ngIf",t.state.isAdmin),l.Mb(1),l.Cc("ngIf",t.data.customersOtherSubmissions.length>1)}}function k(n,e){1&n&&(l.gc(0,"h3"),l.dd(1,"Submission not Found"),l.fc())}function w(n,e){1&n&&l.bc(0,"loading-ring",30),2&n&&l.Cc("size",60)}function I(n,e){if(1&n&&(l.gc(0,"td"),l.dd(1),l.fc()),2&n){var i=l.vc().$implicit;l.Mb(1),l.ed(i.old)}}function x(n,e){1&n&&(l.gc(0,"td"),l.dd(1,"[Not Set]"),l.fc())}function $(n,e){if(1&n&&(l.gc(0,"td"),l.dd(1),l.fc()),2&n){var i=l.vc().$implicit;l.Mb(1),l.ed(i.new)}}function T(n,e){1&n&&(l.gc(0,"td"),l.dd(1,"[Not Set]"),l.fc())}function E(n,e){if(1&n&&(l.ec(0),l.gc(1,"tr"),l.gc(2,"td"),l.dd(3),l.fc(),l.gc(4,"td"),l.dd(5),l.wc(6,"simpleDateTime"),l.fc(),l.gc(7,"td"),l.dd(8),l.fc(),l.bd(9,I,2,1,"td",2),l.bd(10,x,2,0,"td",2),l.bd(11,$,2,1,"td",2),l.bd(12,T,2,0,"td",2),l.fc(),l.dc()),2&n){var i=e.$implicit,t=l.vc().$implicit;l.Mb(3),l.ed(t.blame_user),l.Mb(2),l.ed(l.xc(6,7,t.created_at)),l.Mb(3),l.ed(i.label),l.Mb(1),l.Cc("ngIf",i.old),l.Mb(1),l.Cc("ngIf",!i.old),l.Mb(1),l.Cc("ngIf",i.new),l.Mb(1),l.Cc("ngIf",!i.new)}}function A(n,e){if(1&n&&(l.ec(0),l.bd(1,E,13,9,"ng-container",26),l.dc()),2&n){var i=e.$implicit;l.Mb(1),l.Cc("ngForOf",i.diffs)}}function O(n,e){if(1&n&&(l.ec(0),l.gc(1,"table",25),l.gc(2,"thead"),l.gc(3,"tr"),l.gc(4,"th"),l.dd(5,"User"),l.fc(),l.gc(6,"th"),l.dd(7,"Date"),l.fc(),l.gc(8,"th"),l.dd(9,"Field"),l.fc(),l.gc(10,"th"),l.dd(11,"Original"),l.fc(),l.gc(12,"th"),l.dd(13,"New"),l.fc(),l.fc(),l.fc(),l.gc(14,"tbody"),l.bd(15,A,2,1,"ng-container",26),l.fc(),l.fc(),l.dc()),2&n){var i=l.vc(3);l.Mb(15),l.Cc("ngForOf",i.data.submissionAudit.paginator.results)}}function z(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",19),l.dd(2,"Submission Edits"),l.fc(),l.bd(3,O,16,1,"ng-container",2),l.fc()),2&n){var i=l.vc(2);l.Mb(3),l.Cc("ngIf",!i.state.loadingAudit)}}function B(n,e){1&n&&l.bc(0,"loading-ring",30),2&n&&l.Cc("size",60)}function j(n,e){if(1&n&&(l.bc(0,"modal-header",31),l.gc(1,"div",32),l.bd(2,z,4,1,"div",14),l.bd(3,B,1,1,"loading-ring",3),l.fc()),2&n){var i=e.$implicit,t=l.vc();l.Cc("modal",i),l.Mb(2),l.Cc("ngIf",t.data.submissionAudit),l.Mb(1),l.Cc("ngIf",t.state.loadingAudit)}}var R=function(){return function(){}}(),N=function(){return function(){this.appUser=null,this.baseMetals=[],this.chainLengths=[],this.chainTypes=[],this.countries=[],this.customersOtherSubmissions=[],this.earringConfigs=[],this.engravingFonts=r.a.list(),this.finishes=[],this.id=null,this.platings=[],this.ringSizeCustoms=[],this.ringThicknesses=[],this.stoneQuantities=[1,2,3,4,5,6,7,8,9],this.stones=[],this.stoneSizes=[],this.stoneTypes=[],this.submission=null,this.submissionAudit=null,this.jobs=[]}}(),D=function(){function n(n,e,i,t,c,o,s,a,r){this.appUserService=n,this.auditService=e,this.castingCodeService=i,this.countryService=t,this.modalService=c,this.route=o,this.router=s,this.stoneSubmissionService=a,this.submissionService=r,this.state={found:!1,loading:!0,loadingAudit:!1,loadingCastingCode:!0,isAdmin:!1},this.model=new R,this.data=new N}return n.prototype.ngOnInit=function(){var n=this;this.route.paramMap.subscribe((function(e){n.data.id=e.get("id"),Object(t.a)(n.appUserService.getMe(),n.submissionService.getById("/submissions/"+n.data.id),n.stoneSubmissionService.listBySubmission(["/submissions/"+n.data.id])).subscribe((function(e){var i=e[0],t=e[1],c=e[2];t.data.submission?(n.state.found=!0,n.model=JSON.parse(JSON.stringify(t.data.submission)),n.data.appUser=i.data.appUser,n.data.submission=t.data.submission,n.data.stones=c.data.stoneSubmissions.edges,n.state.isAdmin=n.appUserService.isAdmin(n.data.appUser.roles),n.submissionService.listByCustomerId(n.data.submission.customer.id).subscribe((function(e){n.data.customersOtherSubmissions=e.data.submissions.edges})),n.data.submission.kit?n.castingCodeService.listByKitIds([n.data.submission.kit.id]).subscribe((function(e){e.data.castingCodes.edges.length&&(n.data.castingCode=e.data.castingCodes.edges[0].node),n.state.loadingCastingCode=!1})):n.state.loadingCastingCode=!1,n.state.loading=!1):n.state.loading=!1})),n.submissionService.getKitSubmissionData().subscribe((function(e){n.data.baseMetals=e.data.baseMetals.edges,n.data.chainLengths=e.data.chainLengths.edges,n.data.chainTypes=e.data.chainTypes.edges,n.data.earringConfigs=e.data.earringConfigs.edges,n.data.finishes=e.data.finishes.edges,n.data.platings=e.data.platings.edges,n.data.ringThicknesses=e.data.ringThicknesses.edges,n.data.ringSizeCustoms=e.data.ringSizeCustoms.edges,n.data.stoneSizes=e.data.stoneSizes.edges,n.data.stoneTypes=e.data.stoneTypes.edges})),n.countryService.list().subscribe((function(e){n.data.countries=e.data.countries.edges}))}))},n.prototype.viewSubmission=function(n){this.router.navigate(["submission","view",n.replace(/\D/g,"")])},n.prototype.viewAudits=function(){var n=this;this.state.loadingAudit=!0,this.modalService.open(this.viewAuditsModal,{size:"lg"}),this.auditService.list("Submission",this.data.id).subscribe((function(e){n.data.submissionAudit=e,n.state.loadingAudit=!1}))},n.prototype.onSubmit=function(){},n.\u0275fac=function(e){return new(e||n)(l.ac(c.a),l.ac(b),l.ac(a.a),l.ac(d.a),l.ac(m.i),l.ac(p.a),l.ac(p.b),l.ac(s.a),l.ac(o.a))},n.\u0275cmp=l.Ub({type:n,selectors:[["ng-component"]],viewQuery:function(n,e){var i;1&n&&l.jd(v,!0),2&n&&l.Lc(i=l.sc())&&(e.viewAuditsModal=i.first)},decls:6,vars:3,consts:[["subtitle","View Submission Details","title","Submission Info"],["novalidate","",3,"submit",4,"ngIf"],[4,"ngIf"],[3,"size",4,"ngIf"],["viewAuditsModal",""],["novalidate","",3,"submit"],["viewSubmissionForm","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","my-2"],[3,"castingCode","countries","customer","editable","isAdmin","loadingCastingCode","originalCastingCode","regCode"],[3,"castingCode","castingEstimateCode","editable","isAdmin","loadingCastingCode","submissionData","submission"],[1,"col-12","my-2"],[3,"stoneDescription","stones"],["class","col-md-12 my-2",4,"ngIf"],["class","row tc",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"inner-section"],[1,"card-title"],[3,"photos"],[3,"jobs"],[1,"row","tc"],[1,"col-12","tc"],["type","button",1,"btn","btn-primary",3,"click"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"tr"],["type","button",1,"small-button","btn-outline-secondary","round",3,"click"],[1,"fa","fa-eye"],[3,"size"],["title","View Submission History",3,"modal"],[1,"modal-body"]],template:function(n,e){1&n&&(l.bc(0,"page-title",0),l.bd(1,_,14,21,"form",1),l.bd(2,k,2,0,"h3",2),l.bd(3,w,1,1,"loading-ring",3),l.bd(4,j,4,3,"ng-template",null,4,l.cd)),2&n&&(l.Mb(1),l.Cc("ngIf",!e.state.loading&&e.state.found),l.Mb(1),l.Cc("ngIf",!e.state.loading&&!e.state.found),l.Mb(1),l.Cc("ngIf",e.state.loading))},styles:[""]}),n}()},"oy+2":function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n){if(n.hasOwnProperty("line1")){var e=Object.assign({},n);delete e.__typename,delete e.postcode,n=Object.values(e)}if(Array.isArray(n)){for(var i="",t=0,c=n;t<c.length;t++){var o=c[t];o&&(i+=", "+o)}return i.substr(2,i.length)}},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Zb({name:"address",type:n,pure:!0}),n}()},rYPC:function(n,e,i){"use strict";i.d(e,"a",(function(){return m}));var t,c,o,s,a=i("lTCR"),r=i.n(a),d=r()(t||(o=['\nmutation createImageLoggingSession(\n  $startTime: String!\n  $submission: String!\n) {\n  createImageLoggingSession(input: {\n    clientMutationId: ""\n    startTime: $startTime\n    submission: $submission\n  }) {\n  id\n  }\n}\n'],s=['\nmutation createImageLoggingSession(\n  $startTime: String!\n  $submission: String!\n) {\n  createImageLoggingSession(input: {\n    clientMutationId: ""\n    startTime: $startTime\n    submission: $submission\n  }) {\n  id\n  }\n}\n'],Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,t=o)),u=r()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateImageLoggingSessionEndTime(\n        $id: ID!\n        $endTime: String!\n    ) {\n        updateImageLoggingSession(input: {\n            id: $id,\n            endTime: $endTime,\n            clientMutationId: ""\n        }) {\n            id\n        }\n    }\n'],['\n    mutation updateImageLoggingSessionEndTime(\n        $id: ID!\n        $endTime: String!\n    ) {\n        updateImageLoggingSession(input: {\n            id: $id,\n            endTime: $endTime,\n            clientMutationId: ""\n        }) {\n            id\n        }\n    }\n']))),l=i("fXoL"),g=i("/IUn"),f=function(n,e,i,t){return new(i||(i=Promise))((function(c,o){function s(n){try{r(t.next(n))}catch(e){o(e)}}function a(n){try{r(t.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof i?e:new i((function(n){n(e)}))).then(s,a)}r((t=t.apply(n,e||[])).next())}))},b=function(n,e){var i,t,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(c=2&o[0]?t.return:o[0]?t.throw||((c=t.return)&&c.call(t),0):t.next)&&!(c=c.call(t,o[1])).done)return c;switch(t=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,t=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],t=0}finally{i=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},m=function(){function n(n){this.apollo=n}return n.prototype.create=function(n){return f(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:d,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.prototype.updateEndTime=function(n){return f(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:u,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},uA1o:function(n,e,i){"use strict";i.d(e,"a",(function(){return y}));var t,c,o,s,a,r,d,u=i("lTCR"),l=i.n(u),g=l()(t||(r=['\n    mutation createSubmissionBatch(\n        $status: String!\n        $partner: String\n        $createdAt: String!\n        $updatedAt: String!\n        $supplier: String\n        $notes: String\n    ) {\n        createSubmissionBatch(input: {\n            clientMutationId: ""\n            status: $status\n            partner: $partner\n            createdAt: $createdAt\n            updatedAt: $updatedAt\n            supplier: $supplier\n            notes: $notes\n        }) {\n            id\n            status {\n                id\n                name\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            updatedAt\n            createdAt\n        }\n    }\n'],d=['\n    mutation createSubmissionBatch(\n        $status: String!\n        $partner: String\n        $createdAt: String!\n        $updatedAt: String!\n        $supplier: String\n        $notes: String\n    ) {\n        createSubmissionBatch(input: {\n            clientMutationId: ""\n            status: $status\n            partner: $partner\n            createdAt: $createdAt\n            updatedAt: $updatedAt\n            supplier: $supplier\n            notes: $notes\n        }) {\n            id\n            status {\n                id\n                name\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            updatedAt\n            createdAt\n        }\n    }\n'],Object.defineProperty?Object.defineProperty(r,"raw",{value:d}):r.raw=d,t=r)),f=l()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query submissionBatchList(\n        $after: String,\n        $partnerComplete: Boolean,\n        $manufacturerComplete: Boolean,\n        $supplierExists: Boolean\n        $order: String,\n        $inProduction: Boolean,\n        $inQualityControl: Boolean,\n    ) {\n        submissionBatches (\n            after: $after,\n            status_partnerComplete: $partnerComplete,\n            status_manufacturerComplete: $manufacturerComplete,\n            status_inProduction: $inProduction,\n            status_inQualityControl: $inQualityControl\n            order: {createdAt: $order}\n            supplier: {exists: $supplierExists},\n        ) {\n            edges  {\n                node {\n                    id\n                    invoice\n                    status {\n                        id\n                        name\n                    }\n                    partner {\n                        id\n                        name\n                    }\n                    supplier {\n                        id\n                        company\n                    }\n                    updatedAt\n                    createdAt\n                    dateSent\n                }\n                cursor\n            }\n            pageInfo {\n                hasNextPage\n            }\n        }\n    }\n"],["\n    query submissionBatchList(\n        $after: String,\n        $partnerComplete: Boolean,\n        $manufacturerComplete: Boolean,\n        $supplierExists: Boolean\n        $order: String,\n        $inProduction: Boolean,\n        $inQualityControl: Boolean,\n    ) {\n        submissionBatches (\n            after: $after,\n            status_partnerComplete: $partnerComplete,\n            status_manufacturerComplete: $manufacturerComplete,\n            status_inProduction: $inProduction,\n            status_inQualityControl: $inQualityControl\n            order: {createdAt: $order}\n            supplier: {exists: $supplierExists},\n        ) {\n            edges  {\n                node {\n                    id\n                    invoice\n                    status {\n                        id\n                        name\n                    }\n                    partner {\n                        id\n                        name\n                    }\n                    supplier {\n                        id\n                        company\n                    }\n                    updatedAt\n                    createdAt\n                    dateSent\n                }\n                cursor\n            }\n            pageInfo {\n                hasNextPage\n            }\n        }\n    }\n"]))),b=l()(o||(o=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query submissionBatchById($id: ID!) {\n        submissionBatch(id: $id) {\n            id\n            status {\n                id\n                name\n                incomingBatched\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            dateSent\n            notes\n            createdAt\n            updatedAt\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n    \n"],["\n    query submissionBatchById($id: ID!) {\n        submissionBatch(id: $id) {\n            id\n            status {\n                id\n                name\n                incomingBatched\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            dateSent\n            notes\n            createdAt\n            updatedAt\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n    \n"]))),m=l()(s||(s=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateSubmissionBatch(\n        $id: ID!,\n        $updatedAt: String!,\n        $status: String,\n        $dateSent: String,\n        $invoice: String,\n        $invoiceLabourCost: Int,\n        $invoiceSilverCost: Int,\n        $invoice9ctYellowGoldCost: Int,\n        $invoice9ctRoseGoldCost: Int,\n        $invoice9ctWhiteGoldCost: Int,\n        $invoice14ctYellowGoldCost: Int,\n        $invoice14ctRoseGoldCost: Int,\n        $invoice14ctWhiteGoldCost: Int,\n        $invoice18ctYellowGoldCost: Int,\n        $invoice18ctRoseGoldCost: Int,\n        $invoice18ctWhiteGoldCost: Int,\n        $invoicePlatinumCost: Int\n    ) {\n        updateSubmissionBatch(input: {\n            id: $id,\n            updatedAt: $updatedAt,\n            status: $status,\n            dateSent: $dateSent,\n            invoice: $invoice,\n            invoiceLabourCost: $invoiceLabourCost,\n            invoiceSilverCost: $invoiceSilverCost,\n            invoice9ctYellowGoldCost: $invoice9ctYellowGoldCost,\n            invoice9ctRoseGoldCost: $invoice9ctRoseGoldCost,\n            invoice9ctWhiteGoldCost: $invoice9ctWhiteGoldCost,\n            invoice14ctYellowGoldCost: $invoice14ctYellowGoldCost,\n            invoice14ctRoseGoldCost: $invoice14ctRoseGoldCost,\n            invoice14ctWhiteGoldCost: $invoice14ctWhiteGoldCost,\n            invoice18ctYellowGoldCost: $invoice18ctYellowGoldCost,\n            invoice18ctRoseGoldCost: $invoice18ctRoseGoldCost,\n            invoice18ctWhiteGoldCost: $invoice18ctWhiteGoldCost,\n            invoicePlatinumCost: $invoicePlatinumCost,\n            clientMutationId: "",\n        }) {\n            id\n            dateSent\n            status {\n                id\n                name\n                incomingBatched\n            }\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n'],['\n    mutation updateSubmissionBatch(\n        $id: ID!,\n        $updatedAt: String!,\n        $status: String,\n        $dateSent: String,\n        $invoice: String,\n        $invoiceLabourCost: Int,\n        $invoiceSilverCost: Int,\n        $invoice9ctYellowGoldCost: Int,\n        $invoice9ctRoseGoldCost: Int,\n        $invoice9ctWhiteGoldCost: Int,\n        $invoice14ctYellowGoldCost: Int,\n        $invoice14ctRoseGoldCost: Int,\n        $invoice14ctWhiteGoldCost: Int,\n        $invoice18ctYellowGoldCost: Int,\n        $invoice18ctRoseGoldCost: Int,\n        $invoice18ctWhiteGoldCost: Int,\n        $invoicePlatinumCost: Int\n    ) {\n        updateSubmissionBatch(input: {\n            id: $id,\n            updatedAt: $updatedAt,\n            status: $status,\n            dateSent: $dateSent,\n            invoice: $invoice,\n            invoiceLabourCost: $invoiceLabourCost,\n            invoiceSilverCost: $invoiceSilverCost,\n            invoice9ctYellowGoldCost: $invoice9ctYellowGoldCost,\n            invoice9ctRoseGoldCost: $invoice9ctRoseGoldCost,\n            invoice9ctWhiteGoldCost: $invoice9ctWhiteGoldCost,\n            invoice14ctYellowGoldCost: $invoice14ctYellowGoldCost,\n            invoice14ctRoseGoldCost: $invoice14ctRoseGoldCost,\n            invoice14ctWhiteGoldCost: $invoice14ctWhiteGoldCost,\n            invoice18ctYellowGoldCost: $invoice18ctYellowGoldCost,\n            invoice18ctRoseGoldCost: $invoice18ctRoseGoldCost,\n            invoice18ctWhiteGoldCost: $invoice18ctWhiteGoldCost,\n            invoicePlatinumCost: $invoicePlatinumCost,\n            clientMutationId: "",\n        }) {\n            id\n            dateSent\n            status {\n                id\n                name\n                incomingBatched\n            }\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n']))),p=l()(a||(a=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation deleteSubmissionBatch($id: ID!) {\n        deleteSubmissionBatch (\n            input: {\n                id: $id,\n                clientMutationId: ""\n            }\n        ) {\n            id\n        }\n    }\n'],['\n    mutation deleteSubmissionBatch($id: ID!) {\n        deleteSubmissionBatch (\n            input: {\n                id: $id,\n                clientMutationId: ""\n            }\n        ) {\n            id\n        }\n    }\n']))),v=i("fXoL"),h=i("/IUn"),y=function(){function n(n){this.apollo=n}return n.prototype.list=function(n,e,i,t,c,o,s){return void 0===n&&(n=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===t&&(t=null),void 0===c&&(c="DESC"),void 0===o&&(o=null),void 0===s&&(s=null),this.apollo.query({query:f,variables:{after:n,partnerComplete:e,manufacturerComplete:i,supplierExists:t,order:c,inProduction:o,inQualityControl:s},fetchPolicy:"network-only"})},n.prototype.get=function(n){return this.apollo.query({query:b,variables:{id:n}})},n.prototype.create=function(n){return this.apollo.mutate({mutation:g,variables:n})},n.prototype.update=function(n){return this.apollo.mutate({mutation:m,variables:n})},n.prototype.delete=function(n){return this.apollo.mutate({mutation:p,variables:{id:n}})},n.\u0275fac=function(e){return new(e||n)(v.oc(h.b))},n.\u0275prov=v.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},zoH9:function(n,e,i){"use strict";i.d(e,"a",(function(){return c}));var t=i("fXoL"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Ub({type:n,selectors:[["app-loading-spinner"]],decls:2,vars:0,template:function(n,e){1&n&&(t.gc(0,"p"),t.dd(1," loading-spinner works!\n"),t.fc())},styles:[""]}),n}()}}]);