(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{FScs:function(e,n,t){"use strict";t.r(n),t.d(n,"TestModule",(function(){return S}));var i,r,a,c,o,d=t("ofXK"),u=t("tyNb"),g=t("ALmS"),s=Object(g.gql)(i||(c=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],o=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(c,"raw",{value:o}):c.raw=o,i=c)),l=Object(g.gql)(r||(r=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n'],['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n']))),f=Object(g.gql)(a||(a=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n'],['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n']))),p=t("fXoL"),m=t("/IUn"),b=function(){function e(e){this.apollo=e}return e.prototype.list=function(){return this.apollo.watchQuery({query:s}).valueChanges},e.prototype.add=function(e){return this.apollo.mutate({mutation:l,variables:{name:e.name},optimisticResponse:{createGreeting:{__typename:"createGreetingPayload",id:"",name:e.name}},update:function(e,n){var t=e.readQuery({query:s});t.greetings.edges.push({__typename:"GreetingEdge",node:{__typename:"Greeting",id:"",name:n.data.createGreeting.name}}),e.writeQuery({query:s,data:t})}})},e.prototype.deleteGreeting=function(e){return this.apollo.mutate({mutation:f,variables:{id:e},optimisticResponse:{deleteGreeting:{__typename:"deleteGreetingPayload",id:e}},update:function(n,t){var i=n.readQuery({query:s});i.greetings.edges=i.greetings.edges.filter((function(n){return n.node.id!==e})),n.writeQuery({query:s,data:i})}})},e.\u0275fac=function(n){return new(n||e)(p.oc(m.b))},e.\u0275prov=p.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),y=t("5eHb"),G=t("3Pt+"),v=t("zoH9");function h(e,n){1&e&&p.bc(0,"app-loading-spinner")}function w(e,n){if(1&e){var t=p.hc();p.gc(0,"li"),p.cd(1),p.gc(2,"button",6),p.rc("click",(function(){p.Oc(t);var e=n.$implicit;return p.vc(2).deleteGreeting(e)})),p.cd(3,"Delete"),p.fc(),p.fc()}if(2&e){var i=n.$implicit;p.Mb(1),p.ed("Hi ",i.node.name,"! ")}}function M(e,n){if(1&e&&(p.ec(0),p.gc(1,"ul"),p.ad(2,w,4,1,"li",5),p.fc(),p.dc()),2&e){var t=p.vc();p.Mb(2),p.Cc("ngForOf",t.greetings)}}var O=function(){return function(){this.name=""}}(),j=function(){function e(e,n,t){this.apollo=e,this.greetingService=n,this.toastr=t,this.loadingGreetings=!0,this.createGreetingModel=new O}return e.prototype.ngOnInit=function(){var e=this;this.greetingService.list().subscribe((function(n){e.loadingGreetings=n.loading,e.greetings=n.data.greetings.edges}))},e.prototype.addGreeting=function(){var e=this;this.greetingService.add({name:this.createGreetingModel.name}).subscribe((function(n){e.toastr.success(n.data.createGreeting.name+" added!")})),this.createGreetingModel=new O},e.prototype.deleteGreeting=function(e){var n=this;this.greetingService.deleteGreeting(e.node.id).subscribe((function(e){n.toastr.success("Greeting Deleted")}))},e.\u0275fac=function(n){return new(n||e)(p.ac(m.b),p.ac(b),p.ac(y.b))},e.\u0275cmp=p.Ub({type:e,selectors:[["ng-component"]],decls:9,vars:4,consts:[[4,"ngIf"],[3,"submit"],["createGreetingForm","ngForm"],["id","name","name","name","type","text","placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"disabled"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){if(1&e&&(p.ad(0,h,1,0,"app-loading-spinner",0),p.ad(1,M,3,1,"ng-container",0),p.gc(2,"h1"),p.cd(3,"Add Greeting"),p.fc(),p.gc(4,"form",1,2),p.rc("submit",(function(){return n.addGreeting()})),p.gc(6,"input",3),p.rc("ngModelChange",(function(e){return n.createGreetingModel.name=e})),p.fc(),p.gc(7,"button",4),p.cd(8,"Add"),p.fc(),p.fc()),2&e){var t=p.Lc(5);p.Cc("ngIf",n.loadingGreetings),p.Mb(1),p.Cc("ngIf",!n.loadingGreetings),p.Mb(5),p.Cc("ngModel",n.createGreetingModel.name),p.Mb(1),p.Cc("disabled",!t.valid)}},directives:[d.u,G.z,G.l,G.m,G.d,G.u,G.k,G.n,v.a,d.t],encapsulation:2}),e}(),I=t("PC/O"),q=t("Yj9t"),C=[{path:"greetings",component:j,canActivate:[I.a]}],P=function(){function e(){}return e.\u0275mod=p.Yb({type:e}),e.\u0275inj=p.Xb({factory:function(n){return new(n||e)},imports:[[q.a,u.f.forChild(C)],u.f]}),e}(),$=t("PCNd"),S=function(){function e(){}return e.\u0275mod=p.Yb({type:e}),e.\u0275inj=p.Xb({factory:function(n){return new(n||e)},imports:[[G.f,d.c,$.a,P]]}),e}()}}]);