(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{FScs:function(e,n,t){"use strict";t.r(n),t.d(n,"TestModule",(function(){return S}));var i,r,a,o,c,d=t("ofXK"),u=t("tyNb"),g=t("ALmS"),s=Object(g.gql)(i||(o=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],c=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(o,"raw",{value:c}):o.raw=c,i=o)),l=Object(g.gql)(r||(r=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n'],['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n']))),f=Object(g.gql)(a||(a=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n'],['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n']))),p=t("fXoL"),m=t("/IUn"),b=function(){function e(e){this.apollo=e}return e.prototype.list=function(){return this.apollo.watchQuery({query:s}).valueChanges},e.prototype.add=function(e){return this.apollo.mutate({mutation:l,variables:{name:e.name},optimisticResponse:{createGreeting:{__typename:"createGreetingPayload",id:"",name:e.name}},update:function(e,n){var t=e.readQuery({query:s});t.greetings.edges.push({__typename:"GreetingEdge",node:{__typename:"Greeting",id:"",name:n.data.createGreeting.name}}),e.writeQuery({query:s,data:t})}})},e.prototype.deleteGreeting=function(e){return this.apollo.mutate({mutation:f,variables:{id:e},optimisticResponse:{deleteGreeting:{__typename:"deleteGreetingPayload",id:e}},update:function(n,t){var i=n.readQuery({query:s});i.greetings.edges=i.greetings.edges.filter((function(n){return n.node.id!==e})),n.writeQuery({query:s,data:i})}})},e.\u0275fac=function(n){return new(n||e)(p.pc(m.b))},e.\u0275prov=p.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),y=t("5eHb"),h=t("3Pt+"),G=t("zoH9");function v(e,n){1&e&&p.cc(0,"app-loading-spinner")}function w(e,n){if(1&e){var t=p.ic();p.hc(0,"li"),p.dd(1),p.hc(2,"button",6),p.sc("click",(function(){p.Pc(t);var e=n.$implicit;return p.wc(2).deleteGreeting(e)})),p.dd(3,"Delete"),p.gc(),p.gc()}if(2&e){var i=n.$implicit;p.Nb(1),p.fd("Hi ",i.node.name,"! ")}}function M(e,n){if(1&e&&(p.fc(0),p.hc(1,"ul"),p.bd(2,w,4,1,"li",5),p.gc(),p.ec()),2&e){var t=p.wc();p.Nb(2),p.Dc("ngForOf",t.greetings)}}var O=function(){return function(){this.name=""}}(),j=function(){function e(e,n,t){this.apollo=e,this.greetingService=n,this.toastr=t,this.loadingGreetings=!0,this.createGreetingModel=new O}return e.prototype.ngOnInit=function(){var e=this;this.greetingService.list().subscribe((function(n){e.loadingGreetings=n.loading,e.greetings=n.data.greetings.edges}))},e.prototype.addGreeting=function(){var e=this;this.greetingService.add({name:this.createGreetingModel.name}).subscribe((function(n){e.toastr.success(n.data.createGreeting.name+" added!")})),this.createGreetingModel=new O},e.prototype.deleteGreeting=function(e){var n=this;this.greetingService.deleteGreeting(e.node.id).subscribe((function(e){n.toastr.success("Greeting Deleted")}))},e.\u0275fac=function(n){return new(n||e)(p.bc(m.b),p.bc(b),p.bc(y.b))},e.\u0275cmp=p.Vb({type:e,selectors:[["ng-component"]],decls:9,vars:4,consts:[[4,"ngIf"],[3,"submit"],["createGreetingForm","ngForm"],["id","name","name","name","type","text","placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"disabled"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){if(1&e&&(p.bd(0,v,1,0,"app-loading-spinner",0),p.bd(1,M,3,1,"ng-container",0),p.hc(2,"h1"),p.dd(3,"Add Greeting"),p.gc(),p.hc(4,"form",1,2),p.sc("submit",(function(){return n.addGreeting()})),p.hc(6,"input",3),p.sc("ngModelChange",(function(e){return n.createGreetingModel.name=e})),p.gc(),p.hc(7,"button",4),p.dd(8,"Add"),p.gc(),p.gc()),2&e){var t=p.Mc(5);p.Dc("ngIf",n.loadingGreetings),p.Nb(1),p.Dc("ngIf",!n.loadingGreetings),p.Nb(5),p.Dc("ngModel",n.createGreetingModel.name),p.Nb(1),p.Dc("disabled",!t.valid)}},directives:[d.u,h.z,h.l,h.m,h.d,h.u,h.k,h.n,G.a,d.t],encapsulation:2}),e}(),I=t("PC/O"),P=t("Yj9t"),q=[{path:"greetings",component:j,canActivate:[I.a]}],$=function(){function e(){}return e.\u0275mod=p.Zb({type:e}),e.\u0275inj=p.Yb({factory:function(n){return new(n||e)},imports:[[P.a,u.f.forChild(q)],u.f]}),e}(),D=t("PCNd"),S=function(){function e(){}return e.\u0275mod=p.Zb({type:e}),e.\u0275inj=p.Yb({factory:function(n){return new(n||e)},imports:[[h.f,d.c,D.a,$]]}),e}()}}]);