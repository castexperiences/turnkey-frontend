(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{FScs:function(e,n,t){"use strict";t.r(n),t.d(n,"TestModule",(function(){return k}));var i,r,a,o,c,d=t("ofXK"),u=t("tyNb"),g=t("lTCR"),s=t.n(g),f=s()(i||(o=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],c=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(o,"raw",{value:c}):o.raw=c,i=o)),l=s()(r||(r=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n'],['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n']))),p=s()(a||(a=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n'],['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n']))),m=t("fXoL"),b=t("/IUn"),y=function(){function e(e){this.apollo=e}return e.prototype.list=function(){return this.apollo.watchQuery({query:f}).valueChanges},e.prototype.add=function(e){return this.apollo.mutate({mutation:l,variables:{name:e.name},optimisticResponse:{createGreeting:{__typename:"createGreetingPayload",id:"",name:e.name}},update:function(e,n){var t=e.readQuery({query:f});t.greetings.edges.push({__typename:"GreetingEdge",node:{__typename:"Greeting",id:"",name:n.data.createGreeting.name}}),e.writeQuery({query:f,data:t})}})},e.prototype.deleteGreeting=function(e){return this.apollo.mutate({mutation:p,variables:{id:e},optimisticResponse:{deleteGreeting:{__typename:"deleteGreetingPayload",id:e}},update:function(n,t){var i=n.readQuery({query:f});i.greetings.edges=i.greetings.edges.filter((function(n){return n.node.id!==e})),n.writeQuery({query:f,data:i})}})},e.\u0275fac=function(n){return new(n||e)(m.oc(b.b))},e.\u0275prov=m.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),G=t("5eHb"),v=t("3Pt+"),h=t("zoH9");function w(e,n){1&e&&m.bc(0,"app-loading-spinner")}function M(e,n){if(1&e){var t=m.hc();m.gc(0,"li"),m.dd(1),m.gc(2,"button",6),m.rc("click",(function(){m.Pc(t);var e=n.$implicit;return m.vc(2).deleteGreeting(e)})),m.dd(3,"Delete"),m.fc(),m.fc()}if(2&e){var i=n.$implicit;m.Mb(1),m.fd("Hi ",i.node.name,"! ")}}function I(e,n){if(1&e&&(m.ec(0),m.gc(1,"ul"),m.bd(2,M,4,1,"li",5),m.fc(),m.dc()),2&e){var t=m.vc();m.Mb(2),m.Cc("ngForOf",t.greetings)}}var C=function(){return function(){this.name=""}}(),P=function(){function e(e,n,t){this.apollo=e,this.greetingService=n,this.toastr=t,this.loadingGreetings=!0,this.createGreetingModel=new C}return e.prototype.ngOnInit=function(){var e=this;this.greetingService.list().subscribe((function(n){e.loadingGreetings=n.loading,e.greetings=n.data.greetings.edges}))},e.prototype.addGreeting=function(){var e=this;this.greetingService.add({name:this.createGreetingModel.name}).subscribe((function(n){e.toastr.success(n.data.createGreeting.name+" added!")})),this.createGreetingModel=new C},e.prototype.deleteGreeting=function(e){var n=this;this.greetingService.deleteGreeting(e.node.id).subscribe((function(e){n.toastr.success("Greeting Deleted")}))},e.\u0275fac=function(n){return new(n||e)(m.ac(b.b),m.ac(y),m.ac(G.b))},e.\u0275cmp=m.Ub({type:e,selectors:[["ng-component"]],decls:9,vars:4,consts:[[4,"ngIf"],[3,"submit"],["createGreetingForm","ngForm"],["id","name","name","name","type","text","placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"disabled"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){if(1&e&&(m.bd(0,w,1,0,"app-loading-spinner",0),m.bd(1,I,3,1,"ng-container",0),m.gc(2,"h1"),m.dd(3,"Add Greeting"),m.fc(),m.gc(4,"form",1,2),m.rc("submit",(function(){return n.addGreeting()})),m.gc(6,"input",3),m.rc("ngModelChange",(function(e){return n.createGreetingModel.name=e})),m.fc(),m.gc(7,"button",4),m.dd(8,"Add"),m.fc(),m.fc()),2&e){var t=m.Mc(5);m.Cc("ngIf",n.loadingGreetings),m.Mb(1),m.Cc("ngIf",!n.loadingGreetings),m.Mb(5),m.Cc("ngModel",n.createGreetingModel.name),m.Mb(1),m.Cc("disabled",!t.valid)}},directives:[d.u,v.z,v.l,v.m,v.d,v.u,v.k,v.n,h.a,d.t],encapsulation:2}),e}(),O=t("PC/O"),$=t("Yj9t"),j=[{path:"greetings",component:P,canActivate:[O.a]}],q=function(){function e(){}return e.\u0275mod=m.Yb({type:e}),e.\u0275inj=m.Xb({factory:function(n){return new(n||e)},imports:[[$.a,u.f.forChild(j)],u.f]}),e}(),_=t("PCNd"),k=function(){function e(){}return e.\u0275mod=m.Yb({type:e}),e.\u0275inj=m.Xb({factory:function(n){return new(n||e)},imports:[[v.f,d.c,_.a,q]]}),e}()},zoH9:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("fXoL"),r=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Ub({type:e,selectors:[["app-loading-spinner"]],decls:2,vars:0,template:function(e,n){1&e&&(i.gc(0,"p"),i.dd(1," loading-spinner works!\n"),i.fc())},styles:[""]}),e}()}}]);