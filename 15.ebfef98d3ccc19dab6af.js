(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{FScs:function(e,n,t){"use strict";t.r(n),t.d(n,"TestModule",(function(){return N}));var i,r,a,c,o,d=t("ofXK"),u=t("tyNb"),g=t("UYTu"),s=Object(g.a)(i||(c=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],o=["\n  query greetingsList {\n    greetings {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n"],Object.defineProperty?Object.defineProperty(c,"raw",{value:o}):c.raw=o,i=c)),l=Object(g.a)(r||(r=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n'],['\n  mutation createGreeting($name: String!) {\n    createGreeting(input: {\n      name: $name,\n      clientMutationId: ""\n    }) {\n      id\n      name\n    }\n  }\n']))),p=Object(g.a)(a||(a=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n'],['\n  mutation deleteGreeting($id: ID!) {\n    deleteGreeting(input: {\n      id: $id,\n      clientMutationId: ""\n    }) {\n      id\n    }\n  }\n']))),f=t("fXoL"),m=t("/IUn"),b=function(){function e(e){this.apollo=e}return e.prototype.list=function(){return this.apollo.watchQuery({query:s}).valueChanges},e.prototype.add=function(e){return this.apollo.mutate({mutation:l,variables:{name:e.name},optimisticResponse:{createGreeting:{__typename:"createGreetingPayload",id:"",name:e.name}},update:function(e,n){var t=e.readQuery({query:s});t.greetings.edges.push({__typename:"GreetingEdge",node:{__typename:"Greeting",id:"",name:n.data.createGreeting.name}}),e.writeQuery({query:s,data:t})}})},e.prototype.deleteGreeting=function(e){return this.apollo.mutate({mutation:p,variables:{id:e},optimisticResponse:{deleteGreeting:{__typename:"deleteGreetingPayload",id:e}},update:function(n,t){var i=n.readQuery({query:s});i.greetings.edges=i.greetings.edges.filter((function(n){return n.node.id!==e})),n.writeQuery({query:s,data:i})}})},e.\u0275fac=function(n){return new(n||e)(f.pc(m.b))},e.\u0275prov=f.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),y=t("5eHb"),h=t("3Pt+"),G=t("zoH9");function v(e,n){1&e&&f.cc(0,"app-loading-spinner")}function w(e,n){if(1&e){var t=f.ic();f.hc(0,"li"),f.ed(1),f.hc(2,"button",6),f.sc("click",(function(){f.Qc(t);var e=n.$implicit;return f.wc(2).deleteGreeting(e)})),f.ed(3,"Delete"),f.gc(),f.gc()}if(2&e){var i=n.$implicit;f.Nb(1),f.gd("Hi ",i.node.name,"! ")}}function M(e,n){if(1&e&&(f.fc(0),f.hc(1,"ul"),f.cd(2,w,4,1,"li",5),f.gc(),f.ec()),2&e){var t=f.wc();f.Nb(2),f.Dc("ngForOf",t.greetings)}}var O=function(){return function(){this.name=""}}(),j=function(){function e(e,n,t){this.apollo=e,this.greetingService=n,this.toastr=t,this.loadingGreetings=!0,this.createGreetingModel=new O}return e.prototype.ngOnInit=function(){var e=this;this.greetingService.list().subscribe((function(n){e.loadingGreetings=n.loading,e.greetings=n.data.greetings.edges}))},e.prototype.addGreeting=function(){var e=this;this.greetingService.add({name:this.createGreetingModel.name}).subscribe((function(n){e.toastr.success(n.data.createGreeting.name+" added!")})),this.createGreetingModel=new O},e.prototype.deleteGreeting=function(e){var n=this;this.greetingService.deleteGreeting(e.node.id).subscribe((function(e){n.toastr.success("Greeting Deleted")}))},e.\u0275fac=function(n){return new(n||e)(f.bc(m.b),f.bc(b),f.bc(y.b))},e.\u0275cmp=f.Vb({type:e,selectors:[["ng-component"]],decls:9,vars:4,consts:[[4,"ngIf"],[3,"submit"],["createGreetingForm","ngForm"],["id","name","name","name","type","text","placeholder","name","required","",3,"ngModel","ngModelChange"],[3,"disabled"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){if(1&e&&(f.cd(0,v,1,0,"app-loading-spinner",0),f.cd(1,M,3,1,"ng-container",0),f.hc(2,"h1"),f.ed(3,"Add Greeting"),f.gc(),f.hc(4,"form",1,2),f.sc("submit",(function(){return n.addGreeting()})),f.hc(6,"input",3),f.sc("ngModelChange",(function(e){return n.createGreetingModel.name=e})),f.gc(),f.hc(7,"button",4),f.ed(8,"Add"),f.gc(),f.gc()),2&e){var t=f.Nc(5);f.Dc("ngIf",n.loadingGreetings),f.Nb(1),f.Dc("ngIf",!n.loadingGreetings),f.Nb(5),f.Dc("ngModel",n.createGreetingModel.name),f.Nb(1),f.Dc("disabled",!t.valid)}},directives:[d.u,h.z,h.l,h.m,h.d,h.u,h.k,h.n,G.a,d.t],encapsulation:2}),e}(),I=t("PC/O"),P=t("Yj9t"),$=[{path:"greetings",component:j,canActivate:[I.a]}],D=function(){function e(){}return e.\u0275mod=f.Zb({type:e}),e.\u0275inj=f.Yb({factory:function(n){return new(n||e)},imports:[[P.a,u.f.forChild($)],u.f]}),e}(),q=t("PCNd"),N=function(){function e(){}return e.\u0275mod=f.Zb({type:e}),e.\u0275inj=f.Yb({factory:function(n){return new(n||e)},imports:[[h.f,d.c,q.a,D]]}),e}()}}]);