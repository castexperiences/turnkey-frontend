(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/wnf":function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var i=t("fXoL"),c=t("ofXK");function o(n,e){if(1&n){var t=i.hc();i.gc(0,"button",2),i.rc("click",(function(){return i.Pc(t),i.vc().showConfirmAction()})),i.bc(1,"span",3),i.fc()}if(2&n){var c=i.vc();i.Cc("disabled",c.state.disabled)}}function s(n,e){if(1&n){var t=i.hc();i.gc(0,"button",4),i.rc("click",(function(){return i.Pc(t),i.vc().confirmed()})),i.bc(1,"span",3),i.fc()}}var a=function(){function n(){this.state={confirming:!1,disabled:!1},this.confirmedAction=new i.q}return Object.defineProperty(n.prototype,"disabledState",{set:function(n){this.state.disabled=n},enumerable:!1,configurable:!0}),n.prototype.confirmed=function(){this.state.confirming=!1,this.confirmedAction.emit()},n.prototype.showConfirmAction=function(){var n=this;this.state.confirming=!0,setTimeout((function(){n.state.confirming=!1}),3e3)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["confirm-delete-no-modal"]],inputs:{disabledState:"disabledState"},outputs:{confirmedAction:"confirmedAction"},decls:2,vars:2,consts:[["class","small-button btn-outline-danger round",3,"disabled","click",4,"ngIf"],["class","small-button btn-outline-warning round",3,"click",4,"ngIf"],[1,"small-button","btn-outline-danger","round",3,"disabled","click"],[1,"fa","fa-trash-alt"],[1,"small-button","btn-outline-warning","round",3,"click"]],template:function(n,e){1&n&&(i.bd(0,o,2,1,"button",0),i.bd(1,s,2,0,"button",1)),2&n&&(i.Cc("ngIf",!e.state.confirming),i.Mb(1),i.Cc("ngIf",e.state.confirming))},directives:[c.u],encapsulation:2}),n}()},"9WpQ":function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n,e){if(!n)return"";var t=e.length>0?parseInt(e[0],10):20,i=e.length>1?e[1]:"...";return n.length>t?n.substring(0,t)+i:n},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Zb({name:"truncate",type:n,pure:!0}),n}()},BaBC:function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var i,c,o,s,a=t("lTCR"),r=t.n(a),d=r()(i||(o=["\n    query suppliersList (\n        $isManufacturer: Boolean\n    ) {\n        suppliers (\n            isManufacturer: $isManufacturer\n        ) {\n            edges  {\n                node {\n                    id\n                    company\n                    contactName\n                    email\n                    telephone\n                    parent {\n                        id\n                        company\n                    }\n                    isManufacturer\n                }\n            }\n        }\n    }\n"],s=["\n    query suppliersList (\n        $isManufacturer: Boolean\n    ) {\n        suppliers (\n            isManufacturer: $isManufacturer\n        ) {\n            edges  {\n                node {\n                    id\n                    company\n                    contactName\n                    email\n                    telephone\n                    parent {\n                        id\n                        company\n                    }\n                    isManufacturer\n                }\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,i=o)),u=r()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createSupplier(\n        $company: String!\n        $contactName: String!\n        $email: String\n        $telephone: String\n        $address: String\n        $notes: String\n        $isManufacturer: Boolean!\n    ) {\n        createSupplier(input: {\n            clientMutationId: ""\n            company: $company\n            contactName: $contactName\n            email: $email\n            telephone: $telephone\n            address: $address\n            notes: $notes\n            isManufacturer: $isManufacturer\n        }) {\n            id\n        }\n    }\n'],['\n    mutation createSupplier(\n        $company: String!\n        $contactName: String!\n        $email: String\n        $telephone: String\n        $address: String\n        $notes: String\n        $isManufacturer: Boolean!\n    ) {\n        createSupplier(input: {\n            clientMutationId: ""\n            company: $company\n            contactName: $contactName\n            email: $email\n            telephone: $telephone\n            address: $address\n            notes: $notes\n            isManufacturer: $isManufacturer\n        }) {\n            id\n        }\n    }\n']))),l=t("fXoL"),g=t("/IUn"),f=function(){function n(n){this.apollo=n}return n.prototype.list=function(n){return this.apollo.query({variables:{isManufacturer:n},query:d})},n.prototype.create=function(n){return this.apollo.mutate({mutation:u,variables:n})},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},D2Fp:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){this._value="\xa3"}return Object.defineProperty(n.prototype,"value",{set:function(n){this._value=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["input-append"]],inputs:{value:"value"},decls:3,vars:1,consts:[[1,"input-group-append"],[1,"input-group-text"]],template:function(n,e){1&n&&(i.gc(0,"div",0),i.gc(1,"div",1),i.dd(2),i.fc(),i.fc()),2&n&&(i.Mb(2),i.ed(e._value))},encapsulation:2}),n}()},DwNB:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var i=t("fXoL"),c=t("ofXK");function o(n,e){if(1&n&&(i.gc(0,"div",1),i.gc(1,"b"),i.dd(2),i.fc(),i.fc()),2&n){var t=i.vc();i.Cc("ngClass","alert-"+t._alertType),i.Mb(2),i.ed(t._text)}}var s=function(){function n(){}return Object.defineProperty(n.prototype,"alertType",{set:function(n){this._alertType=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{set:function(n){this._text=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"display",{set:function(n){this._display=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["modal-alert"]],inputs:{alertType:"alertType",text:"text",display:"display"},decls:1,vars:1,consts:[["class","modal-alert",3,"ngClass",4,"ngIf"],[1,"modal-alert",3,"ngClass"]],template:function(n,e){1&n&&i.bd(0,o,3,2,"div",0),2&n&&i.Cc("ngIf",e._display)},directives:[c.u,c.r],encapsulation:2}),n}()},KPdS:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var i=t("fXoL"),c=t("ZOsW"),o=t("1QgP"),s=t("3Pt+"),a=t("ofXK");function r(n,e){if(1&n&&(i.gc(0,"ng-option",5),i.dd(1),i.fc()),2&n){var t=e.$implicit;i.Cc("value",t),i.Mb(1),i.ed(t)}}var d=function(){function n(){this.searchEmitter=new i.q}return Object.defineProperty(n.prototype,"searchFields",{set:function(n){this._searchFields=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"setSearch",{set:function(n){this.searchField=n.searchField,this.searchQuery=n.searchQuery},enumerable:!1,configurable:!0}),n.prototype.clearSearch=function(){this.searchQuery=null},n.prototype.search=function(){var n=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(e){n.searchEmitter.emit({searchField:n.searchField,searchQuery:n.searchQuery})}),500)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["search"]],inputs:{searchFields:"searchFields",setSearch:"setSearch"},outputs:{searchEmitter:"searchEmitter"},decls:5,vars:5,consts:[["role","group",1,"btn-group","table-search"],["appShowErrorInputClass","","id","searchFieldId","name","searchFieldId","placeholder","-- Please Select --",3,"ngModel","searchable","clearable","ngModelChange","change"],["searchFieldId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["appShowErrorInputClass","","id","searchQuery","name","searchQuery","placeholder","Search","type","search","required","",1,"form-control",3,"ngModel","ngModelChange","keyup"],[3,"value"]],template:function(n,e){1&n&&(i.gc(0,"div",0),i.gc(1,"ng-select",1,2),i.rc("ngModelChange",(function(n){return e.searchField=n}))("change",(function(){return e.search()})),i.bd(3,r,2,2,"ng-option",3),i.fc(),i.gc(4,"input",4),i.rc("ngModelChange",(function(n){return e.searchQuery=n}))("keyup",(function(){return e.search()})),i.fc(),i.fc()),2&n&&(i.Mb(1),i.Cc("ngModel",e.searchField)("searchable",!1)("clearable",!1),i.Mb(2),i.Cc("ngForOf",e._searchFields),i.Mb(1),i.Cc("ngModel",e.searchQuery))},directives:[c.a,o.a,s.k,s.n,a.t,s.d,s.u,c.n],encapsulation:2}),n}()},KWY1:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n){return(100*n).toFixed(2)+"%"},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Zb({name:"percentage",type:n,pure:!0}),n}()},QVjv:function(n,e,t){"use strict";t.d(e,"a",(function(){return M}));var i,c,o,s,a,r,d,u,l=t("lTCR"),g=t.n(l),f=g()(i||(d=["\n    query jobList(\n        $after: String\n        $complete: Boolean\n        $inProduction: Boolean\n        $jobId: Int\n        $submissionId: Int\n        $customerName: String\n        $eventName: String\n        $castingCode: String\n        $incomingBatch: String\n        $outgoingBatch: String\n        $incomingBatched: Boolean\n        $onHold: Boolean\n        $dueOrder: String\n    ) {\n        jobs (\n            after: $after\n            complete: $complete\n            status_inProduction: $inProduction\n            id: $jobId\n            submission_id: $submissionId\n            submission_customer_fullName: $customerName\n            submission_customer_event_name: $eventName\n            submission_castingCode: $castingCode\n            incomingBatch: $incomingBatch\n            outgoingBatch: $outgoingBatch\n            status_incomingBatched: $incomingBatched\n            onHold: $onHold\n            order: {due: $dueOrder},\n        ) {\n            totalCount\n            edges  {\n                node {\n                    id\n                    submission {\n                        id\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            country\n                            postcode\n                            phone\n                            email\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        status {\n                            id\n                            name\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        batch {\n                            id\n                        }\n                        waxWeight\n                        metalWeight\n                        baseMetal {\n                            id\n                            name\n                        }\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        castingCode\n                        kit {\n                            id\n                            regCode\n                        }\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        jumpRing\n                        jumpRingPlacement\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        stoneDescription\n                        customerNotes\n                        totalPrice\n                        submittedAt\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    manufacturer {\n                        id\n                        company\n                    }\n                    currentlyWith {\n                        id\n                        company\n                    }\n                    status {\n                        id\n                        name\n                    }\n                    complete\n                    due\n                    rush\n                    onHold\n                    outgoingBatch {\n                        id\n                    }\n                    incomingBatch {\n                        id\n                    }\n                }\n                cursor\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"],u=["\n    query jobList(\n        $after: String\n        $complete: Boolean\n        $inProduction: Boolean\n        $jobId: Int\n        $submissionId: Int\n        $customerName: String\n        $eventName: String\n        $castingCode: String\n        $incomingBatch: String\n        $outgoingBatch: String\n        $incomingBatched: Boolean\n        $onHold: Boolean\n        $dueOrder: String\n    ) {\n        jobs (\n            after: $after\n            complete: $complete\n            status_inProduction: $inProduction\n            id: $jobId\n            submission_id: $submissionId\n            submission_customer_fullName: $customerName\n            submission_customer_event_name: $eventName\n            submission_castingCode: $castingCode\n            incomingBatch: $incomingBatch\n            outgoingBatch: $outgoingBatch\n            status_incomingBatched: $incomingBatched\n            onHold: $onHold\n            order: {due: $dueOrder},\n        ) {\n            totalCount\n            edges  {\n                node {\n                    id\n                    submission {\n                        id\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            country\n                            postcode\n                            phone\n                            email\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        status {\n                            id\n                            name\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        batch {\n                            id\n                        }\n                        waxWeight\n                        metalWeight\n                        baseMetal {\n                            id\n                            name\n                        }\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        castingCode\n                        kit {\n                            id\n                            regCode\n                        }\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        jumpRing\n                        jumpRingPlacement\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        stoneDescription\n                        customerNotes\n                        totalPrice\n                        submittedAt\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    manufacturer {\n                        id\n                        company\n                    }\n                    currentlyWith {\n                        id\n                        company\n                    }\n                    status {\n                        id\n                        name\n                    }\n                    complete\n                    due\n                    rush\n                    onHold\n                    outgoingBatch {\n                        id\n                    }\n                    incomingBatch {\n                        id\n                    }\n                }\n                cursor\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(d,"raw",{value:u}):d.raw=u,i=d)),b=g()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateJob(\n        $id: ID!,\n        $currentlyWith: String,\n        $due: String,\n        $rush: Boolean,\n        $onHold: Boolean,\n    ) {\n        updateJob(input: {\n            id: $id\n            currentlyWith: $currentlyWith,\n            due: $due,\n            rush: $rush,\n            onHold: $onHold,\n            clientMutationId: "",\n        }) {\n            id\n        }\n    }\n'],['\n    mutation updateJob(\n        $id: ID!,\n        $currentlyWith: String,\n        $due: String,\n        $rush: Boolean,\n        $onHold: Boolean,\n    ) {\n        updateJob(input: {\n            id: $id\n            currentlyWith: $currentlyWith,\n            due: $due,\n            rush: $rush,\n            onHold: $onHold,\n            clientMutationId: "",\n        }) {\n            id\n        }\n    }\n']))),m=g()(o||(o=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateOutgoingBatch(\n        $id: ID!,\n        $outgoingBatch: String\n        $status: String\n    ) {\n        updateJob(input: {\n            id: $id,\n            outgoingBatch: $outgoingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation updateOutgoingBatch(\n        $id: ID!,\n        $outgoingBatch: String\n        $status: String\n    ) {\n        updateJob(input: {\n            id: $id,\n            outgoingBatch: $outgoingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),p=g()(s||(s=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createJob(\n        $submission: String!,\n        $manufacturer: String!,\n        $status: String!,\n        $outgoingBatch: String,\n        $complete: Boolean!,\n        $rush: Boolean!,\n        $onHold: Boolean!,\n        $due: String,\n        $createdAt: String!,\n    ) {\n        createJob(input: {\n            clientMutationId: ""\n            submission: $submission,\n            manufacturer: $manufacturer,\n            status: $status,\n            outgoingBatch: $outgoingBatch,\n            complete: $complete,\n            rush: $rush,\n            onHold: $onHold,\n            due: $due,\n            createdAt: $createdAt,\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation createJob(\n        $submission: String!,\n        $manufacturer: String!,\n        $status: String!,\n        $outgoingBatch: String,\n        $complete: Boolean!,\n        $rush: Boolean!,\n        $onHold: Boolean!,\n        $due: String,\n        $createdAt: String!,\n    ) {\n        createJob(input: {\n            clientMutationId: ""\n            submission: $submission,\n            manufacturer: $manufacturer,\n            status: $status,\n            outgoingBatch: $outgoingBatch,\n            complete: $complete,\n            rush: $rush,\n            onHold: $onHold,\n            due: $due,\n            createdAt: $createdAt,\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),h=g()(a||(a=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query jobsByBatch(\n        $first: Int,\n        $outgoingBatch: String,\n        $incomingBatch: String\n    ) {\n        jobs(\n            first: $first,\n            outgoingBatch: $outgoingBatch,\n            incomingBatch: $incomingBatch,\n            \n        ) {\n            edges  {\n                node {\n                    id\n                    complete\n                    rush\n                    due\n                    createdAt\n                    submission {\n                        id\n                        status {\n                            id\n                            name\n                        }\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            postcode\n                            country\n                            email\n                            phone\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        castingCode\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringSize {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        measuredRingSize {\n                            id\n                            name\n                        }\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        baseMetal {\n                            id\n                            name\n                        }\n                        baseMetalPaid\n                        baseMetalPrice\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        stoneDescription\n                        upsellAdditionalItem\n                        upsellPlating\n                        upsellEngraving\n                        upsellStoneSetting\n                        upsellBaseMetal\n                        upsellEarring\n                        submittedAt\n                        updatedAt\n                        customerNotes\n                        totalPrice\n                        amountPaid\n                        estimatedLaborCost\n                        estimatedMetalCost\n                        waxWeight\n                        metalWeight\n                        jumpRing\n                        jumpRingPlacement\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    jobActions {\n                        edges {\n                            node {\n                                id\n                                action {\n                                    id\n                                    name\n                                }\n                                supplier {\n                                    id\n                                    company\n                                }\n                                started\n                                startedAt\n                                completed\n                                completedAt\n                                estimatedLaborCost\n                                estimatedMetalCost\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"],["\n    query jobsByBatch(\n        $first: Int,\n        $outgoingBatch: String,\n        $incomingBatch: String\n    ) {\n        jobs(\n            first: $first,\n            outgoingBatch: $outgoingBatch,\n            incomingBatch: $incomingBatch,\n            \n        ) {\n            edges  {\n                node {\n                    id\n                    complete\n                    rush\n                    due\n                    createdAt\n                    submission {\n                        id\n                        status {\n                            id\n                            name\n                        }\n                        customer {\n                            id\n                            fullName\n                            address1\n                            address2\n                            city\n                            county\n                            postcode\n                            country\n                            email\n                            phone\n                            event {\n                                id\n                                name\n                            }\n                        }\n                        kitType {\n                            id\n                            name\n                        }\n                        castingCode\n                        ringThickness {\n                            id\n                            name\n                        }\n                        ringSize {\n                            id\n                            name\n                        }\n                        ringResize\n                        originalRingSize {\n                            id\n                            name\n                        }\n                        ringSizeCustom {\n                            id\n                            name\n                        }\n                        measuredRingSize {\n                            id\n                            name\n                        }\n                        chainType {\n                            id\n                            name\n                        }\n                        chainLength {\n                            id\n                            name\n                        }\n                        chainPlating {\n                            id\n                            name\n                        }\n                        earringConfig {\n                            id\n                            name\n                        }\n                        engravingFont\n                        engravingText\n                        baseMetal {\n                            id\n                            name\n                        }\n                        baseMetalPaid\n                        baseMetalPrice\n                        plating {\n                            id\n                            name\n                        }\n                        finish {\n                            id\n                            name\n                        }\n                        stoneDescription\n                        upsellAdditionalItem\n                        upsellPlating\n                        upsellEngraving\n                        upsellStoneSetting\n                        upsellBaseMetal\n                        upsellEarring\n                        submittedAt\n                        updatedAt\n                        customerNotes\n                        totalPrice\n                        amountPaid\n                        estimatedLaborCost\n                        estimatedMetalCost\n                        waxWeight\n                        metalWeight\n                        jumpRing\n                        jumpRingPlacement\n                        submissionPhotos {\n                            edges {\n                                node {\n                                    id\n                                    objectName\n                                    exifDate\n                                    signedDownloadUrl\n                                    signedMidsizeDownloadUrl\n                                    signedThumbnailDownloadUrl\n                                }\n                            }\n                        }\n                    }\n                    jobActions {\n                        edges {\n                            node {\n                                id\n                                action {\n                                    id\n                                    name\n                                }\n                                supplier {\n                                    id\n                                    company\n                                }\n                                started\n                                startedAt\n                                completed\n                                completedAt\n                                estimatedLaborCost\n                                estimatedMetalCost\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]))),v=g()(r||(r=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateIncomingBatch(\n        $id: ID!,\n        $incomingBatch: String,\n        $status: String,\n        \n    ) {\n        updateJob(input: {\n            id: $id,\n            incomingBatch: $incomingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n'],['\n    mutation updateIncomingBatch(\n        $id: ID!,\n        $incomingBatch: String,\n        $status: String,\n        \n    ) {\n        updateJob(input: {\n            id: $id,\n            incomingBatch: $incomingBatch,\n            status: $status,\n            clientMutationId: "",\n        }) {\n            id\n            submission {\n                id\n            }\n        }\n    }\n']))),y=t("fXoL"),C=t("/IUn"),M=function(){function n(n){this.apollo=n}return n.prototype.create=function(n){return this.apollo.mutate({mutation:p,variables:n})},n.prototype.list=function(n,e,t,i,c,o,s,a,r,d,u,l,g){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===c&&(c=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===d&&(d=null),void 0===u&&(u=null),void 0===l&&(l=null),void 0===g&&(g="ASC"),this.apollo.watchQuery({query:f,fetchPolicy:"network-only",variables:{after:t,complete:n,inProduction:e,jobId:i,submissionId:c,customerName:o,eventName:s,castingCode:a,incomingBatch:r,outgoingBatch:d,incomingBatched:u,onHold:l,dueOrder:g}}).valueChanges},n.prototype.listByOutgoingBatch=function(n,e){return this.apollo.query({query:h,variables:{first:e,outgoingBatch:n},fetchPolicy:"network-only"})},n.prototype.listByIncomingBatch=function(n,e){return this.apollo.query({query:h,variables:{first:e,incomingBatch:n},fetchPolicy:"network-only"})},n.prototype.update=function(n){return this.apollo.mutate({mutation:b,variables:n})},n.prototype.updateOutgoingBatch=function(n){return this.apollo.mutate({mutation:m,variables:n})},n.prototype.updateIncomingBatch=function(n){return this.apollo.mutate({mutation:v,variables:n})},n.\u0275fac=function(e){return new(e||n)(y.oc(C.b))},n.\u0275prov=y.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},XhFI:function(n,e,t){"use strict";t.d(e,"a",(function(){return S}));var i=t("fXoL"),c=t("1kSV"),o=t("ofXK"),s=t("iUZM"),a=t("aX/C"),r=t("o973"),d=t("wOBz"),u=t("jmmt"),l=t("b44C"),g=t("XXSO"),f=t("SjCM");function b(n,e){if(1&n){var t=i.hc();i.gc(0,"a",3),i.rc("click",(function(n){i.Pc(t);var e=i.vc(),c=i.Mc(3);return e.openModal(c,n)})),i.bc(1,"span",4),i.fc()}}function m(n,e){if(1&n){var t=i.hc();i.gc(0,"button",5),i.rc("click",(function(n){i.Pc(t);var e=i.vc(),c=i.Mc(3);return e.openModal(c,n)})),i.fc()}}function p(n,e){if(1&n&&i.bc(0,"submission-view-stones",23),2&n){var t=i.vc(3);i.Cc("stoneDescription",t._submission.stoneDescription)("stones",t._stones)}}function h(n,e){1&n&&(i.gc(0,"div",24),i.bc(1,"loading-ring",25),i.fc()),2&n&&(i.Mb(1),i.Cc("size",60))}function v(n,e){if(1&n&&(i.gc(0,"div",13),i.gc(1,"div",16),i.bd(2,p,1,2,"submission-view-stones",21),i.bd(3,h,2,1,"div",22),i.fc(),i.fc()),2&n){var t=i.vc(2);i.Mb(2),i.Cc("ngIf",!t._loadingStones&&t._stones.length),i.Mb(1),i.Cc("ngIf",t._loadingStones)}}function y(n,e){if(1&n&&(i.gc(0,"div",26),i.gc(1,"div",16),i.bc(2,"submission-view-photos",27),i.fc(),i.fc()),2&n){var t=i.vc(2);i.Mb(2),i.Cc("photos",t._photos)}}function C(n,e){if(1&n&&(i.gc(0,"div",28),i.gc(1,"div",14),i.gc(2,"h5",29),i.dd(3,"Jobs"),i.fc(),i.bc(4,"app-submission-view-jobs",30),i.fc(),i.fc()),2&n){var t=i.vc(2);i.Mb(4),i.Cc("jobs",t._submission.jobs.edges)}}function M(n,e){if(1&n&&(i.gc(0,"div",6),i.gc(1,"div",7),i.gc(2,"div",8),i.gc(3,"h5",9),i.dd(4,"Submission "),i.gc(5,"a",10),i.wc(6,"numericId"),i.dd(7),i.wc(8,"numericId"),i.fc(),i.fc(),i.fc(),i.gc(9,"div",11),i.gc(10,"div"),i.wc(11,"lowercaseDashes"),i.gc(12,"span"),i.dd(13),i.fc(),i.fc(),i.fc(),i.fc(),i.fc(),i.gc(14,"div",12),i.gc(15,"div",13),i.gc(16,"div",14),i.bc(17,"submission-view-customer",15),i.fc(),i.fc(),i.gc(18,"div",13),i.gc(19,"div",16),i.bc(20,"submission-view-submission",17),i.fc(),i.fc(),i.bd(21,v,4,2,"div",18),i.bd(22,y,3,1,"div",19),i.bd(23,C,5,1,"div",20),i.fc()),2&n){var t=i.vc();i.Mb(5),i.Ec("href","/submission/view/",i.xc(6,20,t._submission.id),"",i.Sc),i.Mb(2),i.fd(" #",i.xc(8,22,t._submission.id),""),i.Mb(3),i.Pb("status-pill status-",i.xc(11,24,t._submission.status.name),""),i.Mb(3),i.ed(t._submission.status.name),i.Mb(4),i.Cc("castingCode",t._submission&&t._submission.castingCode?t._submission.castingCode:null)("customer",t._submission.customer)("isAdmin",t._isAdmin)("loadingCastingCode",t._loadingCastingCode)("originalCastingCode",t._castingCode)("regCode",t._submission.kit?t._submission.kit.regCode:null),i.Mb(3),i.Cc("castingCode",t._castingCode)("isAdmin",t._isAdmin)("loadingCastingCode",t._loadingCastingCode)("originalCastingCode",t._castingCode)("submission",t._submission),i.Mb(1),i.Cc("ngIf",!t._loadingStones&&t._stones.length),i.Mb(1),i.Cc("ngIf",t._photos&&t._photos.length>0),i.Mb(1),i.Cc("ngIf",t._submission.jobs&&t._submission.jobs.edges.length>0)}}var S=function(){function n(n){this.modalService=n,this._isAdmin=!1}return Object.defineProperty(n.prototype,"submission",{set:function(n){this._submission=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"photos",{set:function(n){this._photos=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stones",{set:function(n){this._stones=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingStones",{set:function(n){this._loadingStones=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"buttonStyle",{set:function(n){this._buttonStyle=n},enumerable:!1,configurable:!0}),n.prototype.openModal=function(n,e){e.stopPropagation(),this.modalService.open(n,{size:"lg"})},n.\u0275fac=function(e){return new(e||n)(i.ac(c.i))},n.\u0275cmp=i.Ub({type:n,selectors:[["view-submission-modal"]],inputs:{submission:"submission",photos:"photos",stones:"stones",castingCode:"castingCode",loadingStones:"loadingStones",loadingCastingCode:"loadingCastingCode",isAdmin:"isAdmin",buttonStyle:"buttonStyle"},decls:4,vars:2,consts:[["class","discreet-button",3,"click",4,"ngIf"],["class","btn icon-btn-outline mx-1 fas fa-search","type","button",3,"click",4,"ngIf"],["modalViewSubmission",""],[1,"discreet-button",3,"click"],[1,"fas","fa-search"],["type","button",1,"btn","icon-btn-outline","mx-1","fas","fa-search",3,"click"],[1,"modal-header","in-portal"],[1,"d-flex","w-100"],[1,"flex-grow-1"],["id","modal-basic-title",1,"modal-title"],["target","_blank",3,"href"],[1,"status"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"castingCode","customer","isAdmin","loadingCastingCode","originalCastingCode","regCode"],[1,"col-md-12","mt-3"],[3,"castingCode","isAdmin","loadingCastingCode","originalCastingCode","submission"],["class","row",4,"ngIf"],["class","row","id","submissionPhotos",4,"ngIf"],["class","row my-3",4,"ngIf"],[3,"stoneDescription","stones",4,"ngIf"],["class","mt-3 col-12",4,"ngIf"],[3,"stoneDescription","stones"],[1,"mt-3","col-12"],[3,"size"],["id","submissionPhotos",1,"row"],[3,"photos"],[1,"row","my-3"],[1,"card-title"],[3,"jobs"]],template:function(n,e){1&n&&(i.bd(0,b,2,0,"a",0),i.bd(1,m,1,0,"button",1),i.bd(2,M,24,26,"ng-template",null,2,i.cd)),2&n&&(i.Cc("ngIf",!e._buttonStyle),i.Mb(1),i.Cc("ngIf",e._buttonStyle))},directives:[o.u,s.a,a.a,r.a,d.a,u.a,l.a],pipes:[g.a,f.a],encapsulation:2}),n}()},YbyT:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t("fXoL"),c=t("jhN1"),o=function(){function n(n){this.sanitizer=n}return Object.defineProperty(n.prototype,"queryParams",{set:function(n){for(var e="",t=0,i=n;t<i.length;t++){var c=i[t];c&&(e+=c+" ")}e=e.replace(/[|&;$%@"<>()+,]/g,""),this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://maps.google.com/maps?q="+e+"&output=embed")},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(i.ac(c.b))},n.\u0275cmp=i.Ub({type:n,selectors:[["embedded-map"]],inputs:{queryParams:"queryParams"},decls:1,vars:1,consts:[["frameborder","0","scrolling","no","marginheight","0","marginwidth","0",3,"src"]],template:function(n,e){1&n&&i.bc(0,"iframe",0),2&n&&i.Cc("src",e.url,i.Rc)},styles:["iframe[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}"]}),n}()},"aX/C":function(n,e,t){"use strict";t.d(e,"a",(function(){return de}));var i,c,o,s=t("szSY"),a=t("zOkP"),r=t("PC64"),d=t("Rmj+"),u=t("lTCR"),l=(t.n(u)()(i||(c=["\n    query platingList {\n        platings {\n            edges {\n                node {\n                    id\n                    name\n                    price\n                }\n            }\n        }\n    }\n"],o=["\n    query platingList {\n        platings {\n            edges {\n                node {\n                    id\n                    name\n                    price\n                }\n            }\n        }\n    }\n"],Object.defineProperty?Object.defineProperty(c,"raw",{value:o}):c.raw=o,i=c)),t("fXoL")),g=(t("/IUn"),t("oZ8P")),f=t("S6Vu"),b=t("5eHb"),m=t("3Pt+"),p=t("ofXK"),h=t("ZOsW"),v=t("1kSV"),y=t("PxxC"),C=t("9tk/"),M=t("zVvu");function S(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Casting Type"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"titlecase"),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(4),l.ed(l.xc(5,1,t._submission.castingType.name))}}function P(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.waxWeight,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Sb("no",!i._submission.waxWeight),l.Mb(1),l.fd(" ",i._submission.waxWeight?i._submission.waxWeight+"g":"Not yet weighed"," ")}}function _(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.waxWeight,n)})),l.gc(2,"input",20,21),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc()._submission.waxWeight=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(2),l.Cc("ngModel",i._submission.waxWeight)}}function k(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Expected Weight"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"number"),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(4),l.fd("",l.yc(5,1,t._submission.expectedFinishWeight,"1.2-3"),"g")}}function w(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Date Received"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"simpleDateTime"),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(4),l.ed(l.xc(5,1,t._submission.dateReceived))}}function I(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Labor Cost"),l.fc(),l.gc(3,"span"),l.gc(4,"strong"),l.dd(5),l.wc(6,"currency"),l.fc(),l.gc(7,"span",24),l.dd(8,"Based on the submission"),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(5),l.ed(l.xc(6,1,t._submission.castingEstimateLaborSubmission))}}function x(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Metal Cost"),l.fc(),l.gc(3,"span"),l.gc(4,"strong"),l.dd(5),l.wc(6,"currency"),l.fc(),l.gc(7,"span",24),l.dd(8,"Based on the submission"),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(5),l.ed(l.xc(6,1,t._submission.castingEstimateMetalSubmission))}}function $(n,e){if(1&n&&(l.gc(0,"span",24),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var t=l.vc(2);l.Mb(1),l.fd("(Diff: ",l.xc(2,1,t._submission.castingEstimateLaborSubmission+t._submission.castingEstimateMetalSubmission-t._originalCastingCode.estimatedCost),")")}}function T(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Est Cost (Code)"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"currency"),l.gc(6,"span",24),l.dd(7,"Based on the casting code"),l.fc(),l.bd(8,$,3,3,"span",25),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(4),l.fd(" ",t._originalCastingCode||0!==t._originalCastingCode.estimatedCost?l.xc(5,2,t._originalCastingCode.estimatedCost):"Nada"," "),l.Mb(4),l.Cc("ngIf",0!==t._originalCastingCode.estimatedCost)}}function A(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.metalWeight,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",i._submission.metalWeight,"g ")}}function O(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.metalWeight,n)})),l.gc(2,"input",26,27),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.metalWeight=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.metalWeight)}}function E(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Finished Weight"),l.fc(),l.bd(3,A,3,1,"span",7),l.bd(4,O,6,1,"div",9),l.fc()),2&n){var t=l.vc();l.Sb("editable",t.keys.metalWeight&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.metalWeight),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.metalWeight)}}function B(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Casting Paid"),l.fc(),l.gc(3,"span"),l.dd(4),l.wc(5,"currency"),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(4),l.fd(" ",l.xc(5,1,t._submission.castingPrice)," ")}}function z(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.baseMetalPaid,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Sb("no",!i._submission.baseMetalPaid)("yes",i._submission.baseMetalPaid),l.Mb(1),l.Pb("fas ",i._submission.baseMetalPaid?"fa-check":"fa-times","")}}function j(n,e){if(1&n){var t=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.baseMetalPaid,n)})),l.gc(1,"input",29),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.baseMetalPaid=n})),l.fc(),l.bc(2,"label",30),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.Cc("ngModel",i._submission.baseMetalPaid)}}function R(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Base Metal Paid"),l.fc(),l.bd(3,z,3,7,"span",11),l.bd(4,j,3,1,"div",12),l.fc()),2&n){var t=l.vc();l.Sb("editable",t.keys.baseMetalPaid&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.baseMetalPaid),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.baseMetalPaid)}}function N(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"currency"),l.wc(3,"currency"),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.baseMetalPrice,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",!0!==i._submission.baseMetalPaid&&i._submission.baseMetalPrice>0?l.xc(2,1,i._submission.baseMetalPrice)+" deposit":l.xc(3,3,i._submission.baseMetalPrice)," ")}}function D(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.baseMetalPrice,n)})),l.gc(2,"input",31,32),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.baseMetalPrice=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.baseMetalPrice)}}function F(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Base Metal Price"),l.fc(),l.bd(3,N,5,5,"span",7),l.bd(4,D,6,1,"div",9),l.fc()),2&n){var t=l.vc();l.Sb("editable",t.keys.totalPrice&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.baseMetalPrice),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.baseMetalPrice)}}function L(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.gc(1,"strong"),l.dd(2),l.wc(3,"currency"),l.fc(),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.totalPrice,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.ed(l.xc(3,1,i._submission.totalPrice))}}function W(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.totalPrice,n)})),l.gc(2,"input",33,34),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.totalPrice=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.totalPrice)}}function U(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.gc(2,"strong"),l.dd(3,"Total Price"),l.fc(),l.fc(),l.bd(4,L,5,3,"span",7),l.bd(5,W,6,1,"div",9),l.fc()),2&n){var t=l.vc();l.Sb("editable",t.keys.totalPrice&&t._editable),l.Mb(4),l.Cc("ngIf",t.currentlyEditing!==t.keys.totalPrice),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.totalPrice)}}function G(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.gc(1,"strong"),l.dd(2),l.wc(3,"currency"),l.fc(),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.amountPaid,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.ed(l.xc(3,1,i._submission.amountPaid))}}function q(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.amountPaid,n)})),l.gc(2,"input",35,36),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.amountPaid=n})),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.amountPaid)}}function X(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.gc(2,"strong"),l.dd(3,"Amount Paid"),l.fc(),l.fc(),l.bd(4,G,5,3,"span",7),l.bd(5,q,6,1,"div",9),l.fc()),2&n){var t=l.vc();l.Sb("editable",t.keys.amountPaid&&t._editable),l.Mb(4),l.Cc("ngIf",t.currentlyEditing!==t.keys.amountPaid),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.amountPaid)}}function H(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.baseMetal,n,e._submission.baseMetal,e._submissionData.baseMetals)})),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(1),l.fd(" ",l.xc(2,1,i._submission.baseMetal.name)," ")}}function Y(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function Q(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.baseMetal,n,e._submission.baseMetal,e._submissionData.baseMetals)})),l.gc(2,"ng-select",37),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc()._submission.baseMetal=n})),l.bd(3,Y,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(2),l.Cc("ngModel",i._submission.baseMetal)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.baseMetals)}}function V(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.ringThickness,n,e._submission.ringThickness,e._submissionData.ringThicknesses)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.fd(" ",i._submission.ringThickness.name," ")}}function J(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function K(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.ringThickness,n,e._submission.ringThickness,e._submissionData.ringThicknesses)})),l.gc(2,"ng-select",42),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.ringThickness=n})),l.bd(3,J,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(2),l.Cc("ngModel",i._submission.ringThickness)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.ringThicknesses)}}function Z(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Ring Thickness"),l.fc(),l.bd(3,V,3,1,"span",7),l.bd(4,K,6,3,"div",9),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.ringThickness&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.ringThickness),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.ringThickness)}}function nn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.originalRingSize,n,e._submission.originalRingSize,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.fd(" ",i._submission.originalRingSize?l.xc(2,1,i._submission.originalRingSize.name):"N/A"," ")}}function en(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function tn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.originalRingSize,n,e._submission.originalRingSize,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",43),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.originalRingSize=n})),l.bd(3,en,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(2),l.Cc("ngModel",i._submission.originalRingSize)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.ringSizeCustoms)}}function cn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Original Ring Size"),l.fc(),l.bd(3,nn,4,3,"span",7),l.bd(4,tn,6,3,"div",9),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.originalRingSize&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.originalRingSize),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.originalRingSize)}}function on(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.ringSizeCustom,n,e._submission.ringSizeCustom,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,i._submission.ringSizeCustom.name)," ")}}function sn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function an(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.ringSizeCustom,n,e._submission.ringSizeCustom,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",44),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.ringSizeCustom=n})),l.bd(3,sn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.ringSizeCustom)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.ringSizeCustoms)}}function rn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.measuredRingSize,n,e._submission.measuredRingSize,e._submissionData.ringSizeCustoms)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Sb("text-muted",!i._submission.measuredRingSize),l.Mb(1),l.fd(" ",i._submission.measuredRingSize?l.xc(2,3,i._submission.measuredRingSize.name):"Not measured"," ")}}function dn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function un(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.measuredRingSize,n,e._submission.measuredRingSize,e._submissionData.ringSizeCustoms)})),l.gc(2,"ng-select",44),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.measuredRingSize=n})),l.bd(3,dn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.measuredRingSize)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.ringSizeCustoms)}}function ln(n,e){if(1&n&&(l.ec(0),l.bd(1,Z,5,4,"li",10),l.bd(2,cn,5,4,"li",10),l.gc(3,"li"),l.gc(4,"span"),l.dd(5),l.fc(),l.bd(6,on,4,3,"span",7),l.bd(7,an,6,3,"div",9),l.fc(),l.gc(8,"li"),l.gc(9,"span",40),l.dd(10,"Measured Ring Size"),l.fc(),l.bd(11,rn,4,5,"span",41),l.bd(12,un,6,3,"div",9),l.fc(),l.dc()),2&n){var t=l.vc();l.Mb(1),l.Cc("ngIf",t._submission.ringThickness),l.Mb(1),l.Cc("ngIf",t._submission.originalRingSize||t._submission.ringResize),l.Mb(1),l.Sb("editable",t.keys.ringSizeCustom&&t._editable),l.Mb(2),l.fd("",t._submission.ringResize?"Desired":""," Ring Size"),l.Mb(1),l.Cc("ngIf",t.currentlyEditing!==t.keys.ringSizeCustom),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.ringSizeCustom),l.Mb(1),l.Sb("editable",t.keys.measuredRingSize&&t._editable),l.Mb(1),l.Cc("ngbTooltip","The ring size when checked in by CAST"),l.Mb(2),l.Cc("ngIf",t.currentlyEditing!==t.keys.measuredRingSize),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.measuredRingSize)}}function gn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.earringConfig,n,e._submission.earringConfig,e._submissionData.earringConfigs)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,i._submission.earringConfig.name)," ")}}function fn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function bn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.earringConfig,n,e._submission.earringConfig,e._submissionData.earringConfigs)})),l.gc(2,"ng-select",45),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.earringConfig=n})),l.bd(3,fn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.earringConfig)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.earringConfigs)}}function mn(n,e){if(1&n&&(l.ec(0),l.gc(1,"li"),l.gc(2,"span"),l.dd(3,"Earring Config"),l.fc(),l.bd(4,gn,4,3,"span",7),l.bd(5,bn,6,3,"div",9),l.fc(),l.dc()),2&n){var t=l.vc();l.Mb(1),l.Sb("editable",t.keys.earringConfig&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.earringConfig),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.earringConfig)}}function pn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.finish,n,e._submission.finish,e._submissionData.finishes)})),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(1),l.fd(" ",i._submission.finish.name," ")}}function hn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function vn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.finish,n,e._submission.finish,e._submissionData.finishes)})),l.gc(2,"ng-select",46),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc()._submission.finish=n})),l.bd(3,hn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(2),l.Cc("ngModel",i._submission.finish)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.finishes)}}function yn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.jumpRing,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Sb("no",!i._submission.jumpRing)("yes",i._submission.jumpRing),l.Mb(1),l.Pb("fas ",i._submission.jumpRing?"fa-check":"fa-times","")}}function Cn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.jumpRing,n)})),l.gc(1,"input",47),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.jumpRing=n})),l.fc(),l.bc(2,"label",48),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.Cc("ngModel",i._submission.jumpRing)}}function Mn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Jump Ring"),l.fc(),l.bd(3,yn,3,7,"span",11),l.bd(4,Cn,3,1,"div",12),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.jumpRing&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.jumpRing),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.jumpRing)}}function Sn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.jumpRingPlacement,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.fd(" ",i._submission.jumpRingPlacement," ")}}function Pn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.jumpRingPlacement,n)})),l.gc(2,"textarea",49),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.jumpRingPlacement=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(2),l.Cc("ngModel",i._submission.jumpRingPlacement)}}function _n(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Placement"),l.fc(),l.bd(3,Sn,3,1,"span",7),l.bd(4,Pn,5,1,"div",9),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.jumpRingPlacement&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.jumpRingPlacement),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.jumpRingPlacement)}}function kn(n,e){if(1&n&&(l.ec(0),l.bd(1,Mn,5,4,"li",10),l.bd(2,_n,5,4,"li",10),l.dc()),2&n){var t=l.vc();l.Mb(1),l.Cc("ngIf",null!==t._submission.jumpRing),l.Mb(1),l.Cc("ngIf",null!==t._submission.jumpRing&&t._submission.jumpRing)}}function wn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.jumpRing,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Sb("no",!i._submission.ringResize)("yes",i._submission.ringResize),l.Mb(1),l.Pb("fas ",i._submission.ringResize?"fa-check":"fa-times","")}}function In(n,e){if(1&n){var t=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.ringResize,n)})),l.gc(1,"input",51),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.ringResize=n}))("click",(function(){return l.Pc(t),l.vc(2).toggleRingResize()})),l.fc(),l.bc(2,"label",52),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.Cc("ngModel",i._submission.ringResize)}}function xn(n,e){if(1&n){var t=l.hc();l.ec(0),l.gc(1,"li",50),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.ringResize,n)})),l.gc(2,"span"),l.dd(3,"Ring Resize"),l.fc(),l.bd(4,wn,3,7,"span",11),l.bd(5,In,3,1,"div",12),l.fc(),l.dc()}if(2&n){var i=l.vc();l.Mb(4),l.Cc("ngIf",i.currentlyEditing!==i.keys.ringResize),l.Mb(1),l.Cc("ngIf",i.currentlyEditing===i.keys.ringResize)}}function $n(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain"),l.fc(),l.gc(3,"span"),l.bc(4,"i"),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(3),l.Sb("no",!t._submission.chainType||t._submission.chainType.name===t.chainTypeNone)("yes",t._submission.chainType&&t._submission.chainType.name!==t.chainTypeNone),l.Mb(1),l.Pb("fas ",t._submission.chainType&&t._submission.chainType.name!==t.chainTypeNone?"fa-check":"fa-times","")}}function Tn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.dd(2),l.wc(3,"titlecase"),l.gc(4,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.plating,n,e._submission.plating,e._submissionData.platings)})),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Sb("no",i._submission.plating&&i._submission.plating.name===i.platingTypeNoPlating)("yes",i._submission.plating&&i._submission.plating.name!==i.platingTypeNoPlating),l.Mb(1),l.Pb("pr-1 fas ",i._submission.plating&&i._submission.plating.name!==i.platingTypeNoPlating?"fa-check":"fa-times",""),l.Mb(1),l.fd("",l.xc(3,8,i._submission.plating.name)," ")}}function An(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function On(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.plating,n,e._submission.plating,e._submissionData.platings)})),l.gc(2,"ng-select",53),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc()._submission.plating=n})),l.bd(3,An,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",23),l.rc("click",(function(n){return l.Pc(t),l.vc().stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(2),l.Cc("ngModel",i._submission.plating)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.platings)}}function En(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.bc(1,"i"),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.showEngravingSection,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Sb("no",!i._submission.engravingText)("yes",i._submission.engravingText),l.Mb(1),l.Pb("fas ",i._submission.engravingText||i.showEngravingSection?"fa-check":"fa-times","")}}function Bn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",28),l.rc("click",(function(n){l.Pc(t);var e=l.vc();return e.editing(e.keys.showEngravingSection,n)})),l.gc(1,"input",54),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc().showEngravingSection=n}))("click",(function(){return l.Pc(t),l.vc().toggleEngraving()})),l.fc(),l.bc(2,"label",55),l.fc()}if(2&n){var i=l.vc();l.Mb(1),l.Cc("ngModel",i.showEngravingSection)}}function zn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.chainType,n,e._submission.chainType,e._submissionData.chainTypes)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",l.xc(2,1,i._submission.chainType.name)," ")}}function jn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function Rn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.chainType,n,e._submission.chainType,e._submissionData.chainTypes)})),l.gc(2,"ng-select",56),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.chainType=n})),l.bd(3,jn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.chainType)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.chainTypes)}}function Nn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.chainLength,n,e._submission.chainLength,e._submissionData.chainLengths)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.fd(" ",i._submission.chainLength?l.xc(2,1,i._submission.chainLength.name):""," ")}}function Dn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function Fn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.chainLength,n,e._submission.chainLength,e._submissionData.chainLengths)})),l.gc(2,"ng-select",58),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.chainLength=n})),l.bd(3,Dn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(t),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(2),l.Cc("ngModel",i._submission.chainLength)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.chainLengths)}}function Ln(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain Length"),l.fc(),l.bd(3,Nn,4,3,"span",7),l.bd(4,Fn,6,3,"div",9),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.chainLength&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.chainLength),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.chainLength)}}function Wn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.chainPlating,n,e._submission.chainPlating,e._submissionData.platings)})),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(1),l.fd(" ",i._submission.chainPlating?l.xc(2,1,i._submission.chainPlating.name):""," ")}}function Un(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.node),l.Mb(1),l.fd(" ",l.xc(2,2,t.node.name)," ")}}function Gn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(3);return e.editing(e.keys.chainPlating,n,e._submission.chainPlating,e._submissionData.platings)})),l.gc(2,"ng-select",59),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(3)._submission.chainPlating=n})),l.bd(3,Un,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(t),l.vc(3).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(3);l.Mb(2),l.Cc("ngModel",i._submission.chainPlating)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.platings)}}function qn(n,e){if(1&n&&(l.gc(0,"li"),l.gc(1,"span"),l.dd(2,"Chain Plating"),l.fc(),l.bd(3,Wn,4,3,"span",7),l.bd(4,Gn,6,3,"div",9),l.fc()),2&n){var t=l.vc(2);l.Sb("editable",t.keys.chainPlating&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.chainPlating),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.chainPlating)}}function Xn(n,e){if(1&n&&(l.gc(0,"div",2),l.gc(1,"div",3),l.gc(2,"div",4),l.gc(3,"h6",5),l.dd(4,"Chain"),l.fc(),l.gc(5,"ul",6),l.gc(6,"li"),l.gc(7,"span"),l.dd(8,"Chain Type"),l.fc(),l.bd(9,zn,4,3,"span",7),l.bd(10,Rn,6,3,"div",9),l.fc(),l.bd(11,Ln,5,4,"li",10),l.bd(12,qn,5,4,"li",10),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(6),l.Sb("editable",t.keys.chainType&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.chainType),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.chainType),l.Mb(1),l.Cc("ngIf",t._submission.chainType.name!==t.chainTypeNone),l.Mb(1),l.Cc("ngIf",t._submission.chainType.name!==t.chainTypeNone)}}function Hn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.wc(2,"titlecase"),l.gc(3,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.engravingFont,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",i._submission.engravingFont?l.xc(2,1,i._submission.engravingFont):""," ")}}function Yn(n,e){if(1&n&&(l.gc(0,"ng-option",39),l.dd(1),l.wc(2,"titlecase"),l.fc()),2&n){var t=e.$implicit;l.Cc("value",t.name),l.Mb(1),l.fd(" ",l.xc(2,2,t.name)," ")}}function Qn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.engravingFont,n)})),l.gc(2,"ng-select",60),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.engravingFont=n})),l.bd(3,Yn,3,4,"ng-option",38),l.fc(),l.fc(),l.gc(4,"div",22),l.gc(5,"button",57),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.engravingFont)("searchable",!1),l.Mb(1),l.Cc("ngForOf",i._submissionData.engravingFonts)}}function Vn(n,e){if(1&n){var t=l.hc();l.gc(0,"span"),l.dd(1),l.gc(2,"button",17),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.engravingText,n)})),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(1),l.fd(" ",i._submission.engravingText," ")}}function Jn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",18),l.gc(1,"div",19),l.rc("click",(function(n){l.Pc(t);var e=l.vc(2);return e.editing(e.keys.engravingText,n)})),l.gc(2,"input",61),l.rc("ngModelChange",(function(n){return l.Pc(t),l.vc(2)._submission.engravingText=n})),l.fc(),l.fc(),l.gc(3,"div",22),l.gc(4,"button",57),l.rc("click",(function(n){return l.Pc(t),l.vc(2).stopEditing(n)})),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc(2);l.Mb(2),l.Cc("ngModel",i._submission.engravingText)}}function Kn(n,e){if(1&n&&(l.gc(0,"div",2),l.gc(1,"div",3),l.gc(2,"div",4),l.gc(3,"h6",5),l.dd(4,"Engraving"),l.fc(),l.gc(5,"ul",6),l.gc(6,"li"),l.gc(7,"span"),l.dd(8,"Engraving Font"),l.fc(),l.bd(9,Hn,4,3,"span",7),l.bd(10,Qn,6,3,"div",9),l.fc(),l.gc(11,"li"),l.gc(12,"span"),l.dd(13,"Engraving Text"),l.fc(),l.bd(14,Vn,3,1,"span",7),l.bd(15,Jn,5,1,"div",9),l.fc(),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(6),l.Sb("editable",t.keys.engravingFont&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.engravingFont),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.engravingFont),l.Mb(1),l.Sb("editable",t.keys.engravingText&&t._editable),l.Mb(3),l.Cc("ngIf",t.currentlyEditing!==t.keys.engravingText),l.Mb(1),l.Cc("ngIf",t.currentlyEditing===t.keys.engravingText)}}function Zn(n,e){if(1&n){var t=l.hc();l.gc(0,"div",62),l.gc(1,"button",63),l.rc("click",(function(){l.Pc(t);var n=l.vc(),e=l.Mc(1);return n.updateSubmission(e)})),l.dd(2,"Update Submission "),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(1),l.Cc("disabled",i.state.updating)}}function ne(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var t=l.vc().$implicit;l.Mb(1),l.fd("Cost: ",l.xc(2,1,t.cost),"")}}function ee(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.fc()),2&n){var t=l.vc().$implicit;l.Mb(1),l.fd("Margin: ",100*t.margin,"%")}}function te(n,e){if(1&n&&(l.gc(0,"li"),l.dd(1),l.wc(2,"currency"),l.fc()),2&n){var t=l.vc().$implicit;l.Mb(1),l.fd("Profit: ",l.xc(2,1,t.profit),"")}}function ie(n,e){if(1&n&&(l.gc(0,"div",66),l.gc(1,"b"),l.dd(2),l.fc(),l.bc(3,"br"),l.gc(4,"ul"),l.gc(5,"li"),l.dd(6),l.wc(7,"currency"),l.fc(),l.gc(8,"li"),l.dd(9),l.fc(),l.bd(10,ne,3,3,"li",7),l.bd(11,ee,2,1,"li",7),l.bd(12,te,3,3,"li",7),l.fc(),l.fc()),2&n){var t=e.$implicit;l.Mb(2),l.fd("",t.name,":"),l.Mb(4),l.fd("Price: ",l.xc(7,6,t.price),""),l.Mb(3),l.fd("Weight: ",t.weight,"g"),l.Mb(1),l.Cc("ngIf",t.cost),l.Mb(1),l.Cc("ngIf",null!==t.margin),l.Mb(1),l.Cc("ngIf",null!==t.profit)}}function ce(n,e){1&n&&(l.gc(0,"app-loading-shimmer"),l.gc(1,"div",67),l.gc(2,"div",68),l.bc(3,"div",69),l.fc(),l.gc(4,"div",70),l.bc(5,"div",69),l.fc(),l.gc(6,"div",71),l.bc(7,"div",69),l.fc(),l.fc(),l.gc(8,"div",67),l.gc(9,"div",68),l.bc(10,"div",69),l.fc(),l.gc(11,"div",70),l.bc(12,"div",69),l.fc(),l.gc(13,"div",71),l.bc(14,"div",69),l.fc(),l.fc(),l.fc())}function oe(n,e){if(1&n&&(l.gc(0,"div",1),l.bd(1,ie,13,8,"div",65),l.bd(2,ce,15,0,"app-loading-shimmer",7),l.fc()),2&n){var t=l.vc(2);l.Mb(1),l.Cc("ngForOf",t.data.metalWeightsAndPrices),l.Mb(1),l.Cc("ngIf",t.state.loadingPrices)}}function se(n,e){if(1&n&&(l.gc(0,"div",13),l.gc(1,"div",2),l.gc(2,"div",3),l.gc(3,"div",4),l.gc(4,"h6",5),l.dd(5,"Base Metal Prices"),l.fc(),l.gc(6,"ul",6),l.gc(7,"li"),l.gc(8,"span"),l.dd(9,"Prices"),l.fc(),l.bd(10,oe,3,2,"div",64),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc();l.Mb(10),l.Cc("ngIf",!t.state.loadingPrices)}}var ae=function(){return function(){}}(),re=function(){return function(){this.metalWeight="metalWeight",this.waxWeight="waxWeight",this.baseMetal="baseMetal",this.baseMetalPaid="baseMetalPaid",this.baseMetalPrice="baseMetalPricePaid",this.plating="plating",this.finish="finish",this.castingCode="castingCode",this.castingPrice="castingPrice",this.castingEstimateCode="castingEstimateCode",this.castingEstimateLaborSubmission="castingEstimateLaborSubmission",this.castingEstimateMetalSubmission="castingEstimateMetalSubmission",this.ringThickness="ringThickness",this.ringResize="ringResize",this.originalRingSize="originalRingSize",this.ringSizeCustom="ringSizeCustom",this.measuredRingSize="measuredRingSize",this.jumpRing="jumpRing",this.jumpRingPlacement="jumpRingPlacement",this.chainType="chainType",this.chainLength="chainLength",this.chainPlating="chainPlating",this.earringConfig="earringConfig",this.showEngravingSection="showEngravingSection",this.engravingFont="engravingFont",this.engravingText="engravingText",this.submittedAt="submittedAt",this.dateReceived="dateReceived",this.isEvent="isEvent",this.customerNotes="customerNotes",this.internalNotes="internalNotes",this.totalPrice="totalPrice",this.amountPaid="amountPaid",this.notes="notes"}}(),de=function(){function n(n,e,t){this.metalWeightAndPriceService=n,this.submissionService=e,this.toastrService=t,this._castingCode=null,this.clickEvent=null,this.currentlyEditing=null,this._editable=!1,this._isAdmin=!1,this.keys=new re,this._originalCastingCode=null,this.showEngravingSection=!1,this._submission=new ae,this._submissionData=new g.b,this.data={metalWeightsAndPrices:[]},this.state={_loadingCastingCode:!0,loadingPrices:!0,updating:!1},this.chainTypeNone=d.b,this.kitTypeEarring=a.e,this.kitTypePendant=a.f,this.kitTypeRing=a.g,this.platingTypeNoPlating="No Plating",this.silverBaseMetalName=r.m}return n.prototype.editing=function(n,e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),this._editable&&(t&&(this._submission[n]=i.find((function(n){return n.node.id===t.id})).node),e.stopPropagation(),this.currentlyEditing=n)},n.prototype.stopEditing=function(n){this.currentlyEditing=null},n.prototype.toggleEngraving=function(){this.showEngravingSection&&(this._submission.engravingText=null,this._submission.engravingFont=null)},n.prototype.toggleRingResize=function(){this._submission.ringResize&&(this._submission.originalRingSize=null)},n.prototype.updateSubmission=function(n){var e=this;this.state.updating=!0,this.toastrService.success("","Updating Submission Information");for(var t=JSON.parse(JSON.stringify(this._submission)),i=0,c=Object.keys(t);i<c.length;i++){var o=c[i];t[o]&&t[o].id&&(t[o]=t[o].id)}t.updatedAt=(new Date).toISOString(),this.submissionService.updateEdit(t).subscribe((function(t){e.state.updating=!1,e.toastrService.success("","Submission Information Updated"),n.form.markAsPristine()}))},Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingEstimateCode",{set:function(n){this._submission.castingEstimateCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"editable",{set:function(n){this._editable=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this.state._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"originalCastingCode",{set:function(n){this._originalCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submission",{set:function(n){var e=this;n.node&&(n=n.node),this._submission.id=n.id,this._submission.status=n.status,this._submission.kitType=n.kitType,this._submission.castingType=n.castingType?n.castingType:null,this._submission.waxWeight=n.waxWeight,this._submission.expectedFinishWeight=n.expectedFinishWeight,this._submission.metalWeight=n.metalWeight,this._submission.baseMetal=n.baseMetal,this._submission.plating=n.plating,this._submission.finish=n.finish,this._submission.castingCode=n.castingCode,this._submission.castingPrice=n.castingPrice,this._submission.castingEstimateLaborSubmission=n.estimatedLaborCost,this._submission.castingEstimateMetalSubmission=n.estimatedMetalCost,this._submission.ringThickness=n.ringThickness?n.ringThickness:null,this._submission.ringSizeCustom=n.ringSizeCustom?n.ringSizeCustom:null,this._submission.measuredRingSize=n.measuredRingSize?n.measuredRingSize:null,this._submission.originalRingSize=n.originalRingSize?n.originalRingSize:null,this._submission.ringResize=n.ringResize,this._submission.jumpRing=n.jumpRing,this._submission.jumpRingPlacement=n.jumpRingPlacement,this._submission.chainType=n.chainType?n.chainType:null,this._submission.chainLength=n.chainLength?n.chainLength:null,this._submission.chainPlating=n.chainPlating?n.chainPlating:null,this._submission.earringConfig=n.earringConfig?n.earringConfig:null,this._submission.engravingFont=n.engravingFont,this._submission.engravingText=n.engravingText,this._submission.submittedAt=n.submittedAt,this._submission.dateReceived=n.dateReceived,this._submission.isEvent=!!n.customer.event,this._submission.customerNotes=n.customerNotes,this._submission.internalNotes=n.internalNotes,this._submission.totalPrice=n.totalPrice,this._submission.amountPaid=n.amountPaid,this._submission.baseMetalPaid=n.baseMetalPaid,this._submission.baseMetalPrice=n.baseMetalPrice,this._submission.notes=n.notes,this._submission.waxWeight&&this.metalWeightAndPriceService.get(this._submission.waxWeight,n.kitType.id,n.earringConfig?n.earringConfig.id:null).subscribe((function(n){e.data.metalWeightsAndPrices=n,e.state.loadingPrices=!1}))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submissionData",{set:function(n){this._submissionData=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(l.ac(s.a),l.ac(f.a),l.ac(b.b))},n.\u0275cmp=l.Ub({type:n,selectors:[["submission-view-submission"]],hostBindings:function(n,e){1&n&&l.rc("click",(function(n){return e.stopEditing(n)}),!1,l.Nc)("keyup.Enter",(function(n){return e.stopEditing(n)}),!1,l.Nc)},inputs:{castingCode:"castingCode",castingEstimateCode:"castingEstimateCode",editable:"editable",isAdmin:"isAdmin",loadingCastingCode:"loadingCastingCode",originalCastingCode:"originalCastingCode",submission:"submission",submissionData:"submissionData"},decls:88,vars:55,consts:[["submissionViewForm","ngForm"],[1,"row"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card-details"],[4,"ngIf"],[3,"no",4,"ngIf"],["class","form-row w-100 align-items-center",4,"ngIf"],[3,"editable",4,"ngIf"],[3,"no","yes",4,"ngIf"],["class","checkbox-wrapper m-0",3,"click",4,"ngIf"],[1,"row","mt-3"],["class","col",4,"ngIf"],["class","col-12 tc mt-3",4,"ngIf"],["class","row mt-3",4,"ngIf"],["type","button",1,"btn","ml-1","icon-btn-outline","hover","icon-btn-small","fas","fa-pencil-alt",3,"click"],[1,"form-row","w-100","align-items-center"],[1,"col","flex-grow-1",3,"click"],["id","waxWeight","name","waxWeight","placeholder","Enter the weight of your wax","type","number",1,"form-control",3,"ngModel","ngModelChange"],["waxWeight","ngModel"],[1,"col-auto"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-check",3,"click"],[1,"sub-value"],["class","sub-value",4,"ngIf"],["id","metalWeight","name","metalWeight","placeholder","Finished item weight","type","number",1,"form-control",3,"ngModel","ngModelChange"],["metalWeight","ngModel"],[1,"checkbox-wrapper","m-0",3,"click"],["id","baseMetalPaid","name","baseMetalPaid","type","checkbox",3,"ngModel","ngModelChange"],["for","baseMetalPaid"],["id","baseMetalPrice","name","baseMetalPrice","placeholder","Base Metal Price","type","number",1,"form-control",3,"ngModel","ngModelChange"],["baseMetalPrice","ngModel"],["id","totalPrice","name","totalPrice","placeholder","How much did the item cost the customer","type","number",1,"form-control",3,"ngModel","ngModelChange"],["totalPrice","ngModel"],["id","amountPaid","name","amountPaid","placeholder","How much did the item cost the customer","type","number",1,"form-control",3,"ngModel","ngModelChange"],["amountPaid","ngModel"],["name","baseMetal",3,"ngModel","searchable","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngbTooltip"],[3,"text-muted",4,"ngIf"],["name","ringThickness",3,"ngModel","searchable","ngModelChange"],["name","originalRingSize",3,"ngModel","searchable","ngModelChange"],["name","ringSizeCustom",3,"ngModel","searchable","ngModelChange"],["name","earringConfig",3,"ngModel","searchable","ngModelChange"],["name","finish",3,"ngModel","searchable","ngModelChange"],["id","jumpRingCheckbox","name","jumpRingCheckbox","type","checkbox",3,"ngModel","ngModelChange"],["for","jumpRingCheckbox"],["name","jumpRingPlacement",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],["id","ringResizeCheckbox","name","ringResizeCheckbox","type","checkbox",3,"ngModel","ngModelChange","click"],["for","ringResizeCheckbox"],["name","plating",3,"ngModel","searchable","ngModelChange"],["id","showEngravingSectionCheckbox","name","showEngravingSectionCheckbox","type","checkbox",3,"ngModel","ngModelChange","click"],["for","showEngravingSectionCheckbox"],["name","chainType",3,"ngModel","searchable","ngModelChange"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-times",3,"click"],["name","chainLength",3,"ngModel","searchable","ngModelChange"],["name","chainPlating",3,"ngModel","searchable","ngModelChange"],["name","engravingFont",3,"ngModel","searchable","ngModelChange"],["name","engravingText","type","text",3,"ngModel","ngModelChange"],[1,"col-12","tc","mt-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","row",4,"ngIf"],["class","col-sm-4 mb-2",4,"ngFor","ngForOf"],[1,"col-sm-4","mb-2"],[1,"row","align-items-center","justify-content-center"],[1,"col-5"],[1,"shimmer","py-2"],[1,"col-4","pl-0"],[1,"col-3","pl-0"]],template:function(n,e){if(1&n&&(l.gc(0,"form",null,0),l.gc(2,"div",1),l.gc(3,"div",2),l.gc(4,"div",3),l.gc(5,"div",4),l.gc(6,"h6",5),l.dd(7,"Submission Details"),l.fc(),l.gc(8,"ul",6),l.bd(9,S,6,3,"li",7),l.gc(10,"li"),l.gc(11,"span"),l.dd(12,"Wax Weight"),l.fc(),l.bd(13,P,3,3,"span",8),l.bd(14,_,6,1,"div",9),l.fc(),l.bd(15,k,6,4,"li",7),l.gc(16,"li"),l.gc(17,"span"),l.dd(18,"Submitted"),l.fc(),l.gc(19,"span"),l.dd(20),l.wc(21,"simpleDateTime"),l.fc(),l.fc(),l.bd(22,w,6,3,"li",7),l.bd(23,I,9,3,"li",7),l.bd(24,x,9,3,"li",7),l.bd(25,T,9,4,"li",7),l.bd(26,E,5,4,"li",10),l.gc(27,"li"),l.gc(28,"span"),l.dd(29,"Submitted via"),l.fc(),l.gc(30,"span"),l.dd(31),l.fc(),l.fc(),l.gc(32,"li"),l.bc(33,"hr"),l.fc(),l.bd(34,B,6,3,"li",7),l.bd(35,R,5,4,"li",10),l.bd(36,F,5,4,"li",10),l.bd(37,U,6,4,"li",10),l.bd(38,X,6,4,"li",10),l.fc(),l.fc(),l.fc(),l.fc(),l.gc(39,"div",2),l.gc(40,"div",3),l.gc(41,"div",4),l.gc(42,"h6",5),l.dd(43,"Basic Details"),l.fc(),l.gc(44,"ul",6),l.gc(45,"li"),l.gc(46,"span"),l.dd(47,"Jewellery Type"),l.fc(),l.gc(48,"span"),l.dd(49),l.wc(50,"titlecase"),l.fc(),l.fc(),l.gc(51,"li"),l.gc(52,"span"),l.dd(53,"Base Metal"),l.fc(),l.bd(54,H,4,3,"span",7),l.bd(55,Q,6,3,"div",9),l.fc(),l.bd(56,ln,13,12,"ng-container",7),l.bd(57,mn,6,4,"ng-container",7),l.gc(58,"li"),l.gc(59,"span"),l.dd(60,"Finish"),l.fc(),l.bd(61,pn,3,1,"span",7),l.bd(62,vn,6,3,"div",9),l.fc(),l.gc(63,"li"),l.bc(64,"hr"),l.fc(),l.bd(65,kn,3,2,"ng-container",7),l.bd(66,xn,6,2,"ng-container",7),l.gc(67,"li"),l.gc(68,"span"),l.dd(69,"Metal Upgrade"),l.fc(),l.gc(70,"span"),l.bc(71,"i"),l.fc(),l.fc(),l.bd(72,$n,5,7,"li",7),l.gc(73,"li"),l.gc(74,"span"),l.dd(75,"Plating"),l.fc(),l.bd(76,Tn,5,10,"span",11),l.bd(77,On,6,3,"div",9),l.fc(),l.gc(78,"li"),l.gc(79,"span"),l.dd(80,"Engraving"),l.fc(),l.bd(81,En,3,7,"span",11),l.bd(82,Bn,3,1,"div",12),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.fc(),l.gc(83,"div",13),l.bd(84,Xn,13,6,"div",14),l.bd(85,Kn,16,8,"div",14),l.fc(),l.fc(),l.bd(86,Zn,3,1,"div",15),l.bd(87,se,11,1,"div",16)),2&n){var t=l.Mc(1);l.Mb(9),l.Cc("ngIf",e._submission.castingType),l.Mb(1),l.Sb("editable",e.keys.waxWeight&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.waxWeight),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.waxWeight),l.Mb(1),l.Cc("ngIf",e._submission.expectedFinishWeight),l.Mb(5),l.ed(l.xc(21,51,e._submission.submittedAt)),l.Mb(2),l.Cc("ngIf",e._submission.dateReceived),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._submission.castingEstimateLaborSubmission),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._submission.castingEstimateMetalSubmission),l.Mb(1),l.Cc("ngIf",e._isAdmin&&e._originalCastingCode),l.Mb(1),l.Cc("ngIf",e._submission.metalWeight),l.Mb(5),l.ed(e._submission.isEvent?"Event":"Kit"),l.Mb(3),l.Cc("ngIf",e._isAdmin&&!e._submission.isEvent&&e._submission.castingPrice),l.Mb(1),l.Cc("ngIf",null!==e._submission.baseMetalPaid),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(1),l.Cc("ngIf",e._isAdmin),l.Mb(11),l.ed(l.xc(50,53,e._submission.kitType.name)),l.Mb(2),l.Sb("editable",e.keys.baseMetal&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.baseMetal),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.baseMetal),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypeRing),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypeEarring),l.Mb(1),l.Sb("editable",e.keys.finish&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.finish),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.finish),l.Mb(3),l.Cc("ngIf",null!==e._submission.jumpRing&&e._submission.kitType.name===e.kitTypePendant),l.Mb(1),l.Cc("ngIf",(null!==e._submission.ringResize||e._editable)&&e._submission.kitType.name===e.kitTypeRing),l.Mb(4),l.Sb("no",e._submission.baseMetal.name===e.silverBaseMetalName)("yes",e._submission.baseMetal.name!==e.silverBaseMetalName),l.Mb(1),l.Pb("fas ",e._submission.baseMetal.name!==e.silverBaseMetalName?"fa-check":"fa-times",""),l.Mb(1),l.Cc("ngIf",e._submission.kitType.name===e.kitTypePendant),l.Mb(1),l.Sb("editable",e.keys.plating&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.plating),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.plating),l.Mb(1),l.Sb("editable",e.keys.showEngravingSection&&e._editable),l.Mb(3),l.Cc("ngIf",e.currentlyEditing!==e.keys.showEngravingSection),l.Mb(1),l.Cc("ngIf",e.currentlyEditing===e.keys.showEngravingSection),l.Mb(2),l.Cc("ngIf",e._submission.kitType.name===e.kitTypePendant&&(e._submission.chainType.name!==e.chainTypeNone||e._editable)),l.Mb(1),l.Cc("ngIf",e._submission.engravingFont&&e._submission.engravingText||e.showEngravingSection),l.Mb(1),l.Cc("ngIf",t.dirty),l.Mb(1),l.Cc("ngIf",!e.state.loadingPrices&&e._submission.waxWeight&&e._isAdmin)}},directives:[m.z,m.l,m.m,p.u,m.q,m.d,m.k,m.n,m.a,h.a,p.t,h.n,v.m,y.a],pipes:[C.a,p.G,p.g,M.a],styles:[""]}),n}()},b44C:function(n,e,t){"use strict";t.d(e,"a",(function(){return p}));var i=t("fXoL"),c=t("1kSV"),o=t("ofXK"),s=t("tyNb"),a=t("XXSO"),r=t("G0jp");function d(n,e){if(1&n&&(i.gc(0,"span",5),i.dd(1),i.wc(2,"simpleDate"),i.fc()),2&n){var t=i.vc().$implicit;i.Mb(1),i.fd(" ",i.xc(2,1,t.node.outgoingBatch.dateSent)," ")}}function u(n,e){if(1&n){var t=i.hc();i.gc(0,"a",6),i.rc("click",(function(){return i.Pc(t),i.vc(2).dismissModal("Redirecting to batch")})),i.wc(1,"numericId"),i.dd(2),i.wc(3,"numericId"),i.fc()}if(2&n){var c=i.vc().$implicit;i.Ec("routerLink","/manufacturing/batches/view/",i.xc(1,2,c.node.outgoingBatch.id),""),i.Mb(2),i.fd(" ",i.xc(3,4,c.node.outgoingBatch.id)," ")}}function l(n,e){1&n&&(i.gc(0,"span",5),i.dd(1,"N/A"),i.fc())}function g(n,e){if(1&n){var t=i.hc();i.gc(0,"a",6),i.rc("click",(function(){return i.Pc(t),i.vc(2).dismissModal("Redirecting to batch")})),i.wc(1,"numericId"),i.dd(2),i.wc(3,"numericId"),i.fc()}if(2&n){var c=i.vc().$implicit;i.Ec("routerLink","/manufacturing/batches/view/",i.xc(1,2,c.node.incomingBatch.id),""),i.Mb(2),i.fd(" ",i.xc(3,4,c.node.incomingBatch.id)," ")}}function f(n,e){1&n&&(i.gc(0,"span",5),i.dd(1,"N/A"),i.fc())}function b(n,e){if(1&n&&(i.gc(0,"tr"),i.gc(1,"th"),i.dd(2),i.wc(3,"numericId"),i.bc(4,"br"),i.bd(5,d,3,3,"span",3),i.fc(),i.gc(6,"td"),i.dd(7),i.fc(),i.gc(8,"td"),i.dd(9),i.wc(10,"simpleDate"),i.fc(),i.gc(11,"td"),i.bd(12,u,4,6,"a",4),i.bd(13,l,2,0,"span",3),i.fc(),i.gc(14,"td"),i.bd(15,g,4,6,"a",4),i.bd(16,f,2,0,"span",3),i.fc(),i.gc(17,"td"),i.dd(18),i.fc(),i.fc()),2&n){var t=e.$implicit;i.Mb(2),i.fd(" ",i.xc(3,9,t.node.id),""),i.Mb(3),i.Cc("ngIf",t.node.outgoingBatch&&t.node.outgoingBatch.dateSent),i.Mb(2),i.ed(t.node.manufacturer.company),i.Mb(2),i.ed(i.xc(10,11,t.node.due)),i.Mb(3),i.Cc("ngIf",t.node.outgoingBatch),i.Mb(1),i.Cc("ngIf",!t.node.outgoingBatch),i.Mb(2),i.Cc("ngIf",t.node.incomingBatch),i.Mb(1),i.Cc("ngIf",!t.node.incomingBatch),i.Mb(2),i.ed(t.node.status.name)}}function m(n,e){1&n&&(i.gc(0,"tr"),i.gc(1,"td",7),i.gc(2,"span",8),i.dd(3,"No jobs yet."),i.fc(),i.fc(),i.fc())}var p=function(){function n(n){this.modalService=n}return Object.defineProperty(n.prototype,"jobs",{set:function(n){n&&(this._jobs=n)},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.dismissModal=function(n){void 0===n&&(n=null),this.modalService.dismissAll(n)},n.\u0275fac=function(e){return new(e||n)(i.ac(c.i))},n.\u0275cmp=i.Ub({type:n,selectors:[["app-submission-view-jobs"]],inputs:{jobs:"jobs"},decls:18,vars:2,consts:[[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-muted",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],[1,"text-muted"],[3,"routerLink","click"],["colspan","72"],[1,"text-muted","text-center"]],template:function(n,e){1&n&&(i.gc(0,"table",0),i.gc(1,"thead"),i.gc(2,"tr"),i.gc(3,"th"),i.dd(4,"ID"),i.fc(),i.gc(5,"th"),i.dd(6,"Supplier"),i.fc(),i.gc(7,"th"),i.dd(8,"Due"),i.fc(),i.gc(9,"th"),i.dd(10,"Batch Out"),i.fc(),i.gc(11,"th"),i.dd(12,"Batch In"),i.fc(),i.gc(13,"th"),i.dd(14,"Status"),i.fc(),i.fc(),i.fc(),i.gc(15,"tbody"),i.bd(16,b,19,13,"tr",1),i.bd(17,m,4,0,"tr",2),i.fc(),i.fc()),2&n&&(i.Mb(16),i.Cc("ngForOf",e._jobs),i.Mb(1),i.Cc("ngIf",!e._jobs))},directives:[o.t,o.u,s.e],pipes:[a.a,r.a],styles:[""]}),n}()},c3nT:function(n,e,t){"use strict";t.r(e),t.d(e,"SubmissionModule",(function(){return Ke}));var i,c=t("ofXK"),o=t("3Pt+"),s=t("PCNd"),a=t("S6Vu"),r=t("HKlZ"),d=t("5Ndf"),u={id:"/base_metals/6",name:"Silver"},l=t("zOkP"),g=t("rYPC"),f=t("uA1o"),b=t("BaBC"),m=t("Nlbt"),p=t("1uah"),h=t("CIHE"),v=t("9TxS"),y=t("uzfv"),C=t("cXB8"),M=t("QVjv"),S=t("fXoL"),P=t("1kSV"),_=t("tyNb"),k=t("5eHb"),w=t("n4kJ"),I=t("KPdS"),x=t("Xv7A"),$=t("XhFI"),T=t("PxxC"),A=t("wOBz"),O=t("r1eF"),E=t("ZOsW"),B=t("1QgP"),z=t("VdD3"),j=t("sMau"),R=t("SjCM"),N=t("zVvu"),D=t("9tk/"),F=t("XXSO"),L=(i=function(n,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})(n,e)},function(n,e){function t(){this.constructor=n}i(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),W=function(n,e,t,i){return new(t||(t=Promise))((function(c,o){function s(n){try{r(i.next(n))}catch(e){o(e)}}function a(n){try{r(i.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}r((i=i.apply(n,e||[])).next())}))},U=function(n,e){var t,i,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,i&&(c=2&o[0]?i.return:o[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,o[1])).done)return c;switch(i=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],i=0}finally{t=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},G=["submissionWeightModal"];function q(n,e){if(1&n){var t=S.hc();S.ec(0),S.gc(1,"button",44),S.rc("click",(function(){S.Pc(t);var n=S.vc(2),e=S.Mc(95);return n.modalService.open(e)})),S.dd(2," Create Manufacture Batch "),S.fc(),S.gc(3,"button",44),S.rc("click",(function(){S.Pc(t);var n=S.vc(2),e=S.Mc(97);return n.modalService.open(e)})),S.dd(4," Add to Existing Batch "),S.fc(),S.gc(5,"button",44),S.rc("click",(function(){return S.Pc(t),S.vc(2).exportAddressData()})),S.dd(6," Export Address Data "),S.fc(),S.dc()}}function X(n,e){1&n&&(S.gc(0,"button",45),S.dd(1," No Available Actions "),S.fc())}function H(n,e){if(1&n&&(S.ec(0),S.bd(1,q,7,0,"ng-container",26),S.bd(2,X,2,0,"button",27),S.dc()),2&n){var t=S.vc();S.Mb(1),S.Cc("ngIf",t.isAdmin),S.Mb(1),S.Cc("ngIf",!t.isAdmin)}}function Y(n,e){1&n&&(S.gc(0,"button",45),S.dd(1," Loading Actions... "),S.fc())}function Q(n,e){if(1&n){var t=S.hc();S.gc(0,"div",46),S.gc(1,"input",47),S.rc("click",(function(){return S.Pc(t),S.vc().selectAll()}))("ngModelChange",(function(n){return S.Pc(t),S.vc().state.allSelected=n})),S.fc(),S.bc(2,"label",48),S.fc()}if(2&n){var i=S.vc();S.Mb(1),S.Cc("ngModel",i.state.allSelected)("value",i.state.allSelected)}}function V(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Submission"),S.fc())}function J(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Detail"),S.fc())}function K(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Code"),S.fc())}function Z(n,e){1&n&&(S.gc(0,"th"),S.dd(1,"Event Name"),S.fc())}function nn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var t=S.vc().$implicit;S.Mb(1),S.ed(null===t.submission.node.customer.event?"Kit":"Event")}}function en(n,e){if(1&n&&(S.gc(0,"td"),S.gc(1,"a",64),S.wc(2,"numericId"),S.dd(3),S.fc(),S.fc()),2&n){var t=S.vc().$implicit;S.Mb(1),S.Ec("routerLink","/event/view/",S.xc(2,2,t.submission.node.customer.event.id),""),S.Mb(2),S.ed(t.submission.node.customer.event.name)}}function tn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var t=S.vc().$implicit;S.Mb(1),S.ed(t.submission.node.castingCode)}}function cn(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.wc(2,"uppercase"),S.fc()),2&n){var t=S.vc().$implicit;S.Mb(1),S.ed(S.xc(2,1,t.submission.node.castingCode))}}function on(n,e){if(1&n&&(S.gc(0,"td"),S.dd(1),S.fc()),2&n){var t=S.vc().$implicit;S.Mb(1),S.ed(t.submission.node.customer.event.name)}}function sn(n,e){if(1&n&&(S.gc(0,"span"),S.dd(1," BMU "),S.bc(2,"i",65),S.fc()),2&n){var t=S.vc().$implicit;S.Sb("color-danger",!t.submission.node.baseMetalPaid)("color-success",!0===t.submission.node.baseMetalPaid),S.Mb(2),S.Sb("fa-check",!0===t.submission.node.baseMetalPaid)("fa-times",!t.submission.node.baseMetalPaid)}}function an(n,e){if(1&n&&(S.gc(0,"span"),S.dd(1),S.wc(2,"date"),S.fc()),2&n){var t=S.vc(3);S.Mb(1),S.fd(" Elapsed: ",S.zc(2,1,1e3*t.timeElapsed,"mm:ss","UTC"),"s \xa0 ")}}function rn(n,e){1&n&&S.bc(0,"span",68)}function dn(n,e){if(1&n){var t=S.hc();S.gc(0,"button",66),S.rc("click",(function(){S.Pc(t);var n=S.vc().$implicit;return S.vc(2).toggleSubmissionPhotoTimer(n.submission.node.id)})),S.bd(1,rn,1,0,"span",67),S.fc()}if(2&n){var i=S.vc().$implicit,c=S.vc(2);S.Sb("fa-stop",c.model.submissionPhotoTimingMap[i.submission.node.id]&&!1===c.submitting)("fa-stopwatch-20",!c.model.submissionPhotoTimingMap[i.submission.node.id]&&!1===c.submitting)("hover",!c.model.submissionPhotoTimingMap[i.submission.node.id]||!1===c.submitting),S.Cc("disabled",c.submitting),S.Mb(1),S.Cc("ngIf",!0===c.submitting)}}function un(n,e){if(1&n){var t=S.hc();S.gc(0,"button",69),S.rc("click",(function(){S.Pc(t);var n=S.vc().$implicit;return S.vc(2).openWeightModal(n.submission.node)})),S.fc()}if(2&n){var i=S.vc(3);S.Cc("disabled",i.submitting)}}function ln(n,e){if(1&n&&S.bc(0,"view-submission-modal",70),2&n){var t=S.vc().$implicit,i=S.vc(2);S.Cc("buttonStyle",!0)("castingCode",t.castingCodes.length?t.castingCodes[0]:null)("isAdmin",i.isAdmin)("loadingCastingCode",i.loadingCastingCode)("loadingStones",i.loadingStones)("photos",t.submission.node.submissionPhotos.edges)("stones",t.stones)("submission",t.submission.node)}}function gn(n,e){if(1&n){var t=S.hc();S.ec(0),S.gc(1,"tr"),S.wc(2,"lowercaseDashes"),S.gc(3,"td",53),S.rc("click",(function(){S.Pc(t);var n=e.$implicit;return S.vc(2).selectRow(n)})),S.gc(4,"div",46),S.gc(5,"input",54),S.rc("click",(function(){S.Pc(t);var n=e.$implicit;return S.vc(2).selectRow(n)}))("ngModelChange",(function(n){return S.Pc(t),e.$implicit.selected=n})),S.fc(),S.bc(6,"label",55),S.fc(),S.fc(),S.gc(7,"td"),S.bc(8,"i",56),S.fc(),S.gc(9,"td",57),S.rc("click",(function(){S.Pc(t);var n=e.$implicit;return S.vc(2).selectRow(n)})),S.dd(10),S.fc(),S.bd(11,nn,2,1,"td",26),S.bd(12,en,4,4,"td",26),S.bd(13,tn,2,1,"td",26),S.bd(14,cn,3,3,"td",26),S.bd(15,on,2,1,"td",26),S.gc(16,"td"),S.dd(17),S.wc(18,"titlecase"),S.bc(19,"br"),S.bd(20,sn,3,8,"span",58),S.fc(),S.gc(21,"td"),S.dd(22),S.wc(23,"currency"),S.fc(),S.gc(24,"td"),S.dd(25),S.wc(26,"simpleDateTime"),S.fc(),S.gc(27,"td",59),S.gc(28,"span"),S.dd(29),S.fc(),S.fc(),S.gc(30,"td",37),S.bd(31,an,3,5,"span",26),S.gc(32,"div",60),S.bd(33,dn,2,8,"button",61),S.bd(34,un,1,1,"button",62),S.fc(),S.bd(35,ln,1,8,"view-submission-modal",63),S.fc(),S.fc(),S.dc()}if(2&n){var i=e.$implicit,c=S.vc(2);S.Mb(1),S.Pb("status-",S.xc(2,30,i.submission.node.status.name),""),S.Sb("row-blocked",!c.model.submissionPhotoTimingMap[i.submission.node.id]&&!0===c.imageLoggingSessionState)("selected",i.selected),S.Mb(4),S.Ec("id","sub-cb-",i.submission.node.id,""),S.Cc("ngModel",i.selected)("name","submission"+i.submission.node.id),S.Mb(1),S.Ec("for","sub-cb-",i.submission.node.id,""),S.Mb(2),S.Sb("text-muted",0===i.submission.node.submissionPhotos.edges.length)("text-success",i.submission.node.submissionPhotos.edges.length>0),S.Mb(2),S.ed(i.submission.node.customer.fullName),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent&&null!==i.submission.node.customer.event),S.Mb(1),S.Cc("ngIf",null===c.model.typeEvent&&null===i.submission.node.customer.event),S.Mb(1),S.Cc("ngIf",!1===c.model.typeEvent),S.Mb(1),S.Cc("ngIf",!0===c.model.typeEvent),S.Mb(2),S.fd(" ",S.xc(18,32,i.submission.node.kitType.name),""),S.Mb(3),S.Cc("ngIf",i.submission.node.baseMetal&&i.submission.node.baseMetal.id!==c.metalSilver.id),S.Mb(2),S.ed(S.xc(23,34,i.submission.node.amountPaid)),S.Mb(3),S.ed(S.xc(26,36,i.submission.node.submittedAt)),S.Mb(4),S.ed(i.submission.node.status.name),S.Mb(2),S.Cc("ngIf",c.model.submissionPhotoTimingMap[i.submission.node.id]),S.Mb(2),S.Cc("ngIf",!1===c.imageLoggingSessionState||c.model.submissionPhotoTimingMap[i.submission.node.id]),S.Mb(1),S.Cc("ngIf",null===i.submission.node.customer.event&&i.submission.node.status.id===c.statusSubmissionCreated.id),S.Mb(1),S.Cc("ngIf",!1===c.imageLoggingSessionState)}}function fn(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td",71),S.gc(2,"p",72),S.dd(3,"No submissions found"),S.fc(),S.fc(),S.fc())}function bn(n,e){if(1&n&&(S.gc(0,"tbody"),S.gc(1,"tr",49),S.gc(2,"td",50),S.bc(3,"p",51),S.fc(),S.fc(),S.bd(4,gn,36,38,"ng-container",52),S.bd(5,fn,4,0,"tr",26),S.fc()),2&n){var t=S.vc();S.Mb(4),S.Cc("ngForOf",t.data.submissionAndInfos),S.Mb(1),S.Cc("ngIf",!t.data.submissionAndInfos.length)}}function mn(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td"),S.gc(2,"app-loading-shimmer"),S.gc(3,"div",73),S.gc(4,"div",74),S.bc(5,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(6,"td"),S.gc(7,"app-loading-shimmer"),S.gc(8,"div",76),S.gc(9,"div",74),S.bc(10,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(11,"td"),S.gc(12,"app-loading-shimmer"),S.gc(13,"div",76),S.gc(14,"div",77),S.bc(15,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(16,"td"),S.gc(17,"app-loading-shimmer"),S.gc(18,"div",76),S.gc(19,"div",78),S.bc(20,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(21,"td"),S.gc(22,"app-loading-shimmer"),S.gc(23,"div",76),S.gc(24,"div",79),S.bc(25,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(26,"td"),S.gc(27,"app-loading-shimmer"),S.gc(28,"div",76),S.gc(29,"div",79),S.bc(30,"div",75),S.fc(),S.gc(31,"div",80),S.bc(32,"div",81),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(33,"td"),S.gc(34,"app-loading-shimmer"),S.gc(35,"div",76),S.gc(36,"div",79),S.bc(37,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(38,"td"),S.gc(39,"app-loading-shimmer"),S.gc(40,"div",76),S.gc(41,"div",77),S.bc(42,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(43,"td"),S.gc(44,"app-loading-shimmer"),S.gc(45,"div",76),S.gc(46,"div",82),S.bc(47,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(48,"td",37),S.gc(49,"app-loading-shimmer"),S.gc(50,"div",73),S.gc(51,"div",79),S.bc(52,"div",75),S.fc(),S.fc(),S.fc(),S.fc(),S.fc())}function pn(n,e){1&n&&(S.gc(0,"tbody"),S.gc(1,"tr",49),S.gc(2,"td",50),S.bc(3,"p",51),S.fc(),S.fc(),S.bd(4,mn,53,0,"tr",52),S.fc()),2&n&&(S.Mb(4),S.Cc("ngForOf"," ".repeat(3).split("")))}function hn(n,e){1&n&&(S.gc(0,"div",83),S.bc(1,"loading-ring",84),S.fc()),2&n&&(S.Mb(1),S.Cc("size",40))}function vn(n,e){1&n&&S.bc(0,"loading-ring",84),2&n&&S.Cc("size",30)}function yn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"titlecase"),S.fc()),2&n){var t=e.$implicit;S.Cc("value",t),S.Mb(1),S.fd("",S.xc(2,2,t.node.company)," ")}}function Cn(n,e){if(1&n&&(S.gc(0,"label",98),S.dd(1),S.wc(2,"titlecase"),S.fc()),2&n){var t=S.vc(3);S.Mb(1),S.fd(" Notes for ",S.xc(2,1,t.model.selectedSupplier.node.company)," ")}}function Mn(n,e){if(1&n){var t=S.hc();S.ec(0),S.bd(1,Cn,3,3,"label",95),S.gc(2,"textarea",96,97),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc(2).model.batchNotes=n})),S.dd(4,"                    "),S.fc(),S.dc()}if(2&n){var i=S.vc(2);S.Mb(1),S.Cc("ngIf",i.model.selectedSupplier),S.Mb(1),S.Cc("ngModel",i.model.batchNotes)}}function Sn(n,e){if(1&n){var t=S.hc();S.bc(0,"modal-header",85),S.gc(1,"div",86),S.gc(2,"form",8,87),S.gc(4,"div",88),S.gc(5,"label",89),S.dd(6,"Which Supplier?"),S.fc(),S.gc(7,"ng-select",90,91),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc().model.selectedSupplier=n})),S.bd(9,yn,3,4,"ng-option",92),S.fc(),S.bd(10,Mn,5,2,"ng-container",26),S.fc(),S.fc(),S.fc(),S.gc(11,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(t),S.vc().createManufactureBatch()})),S.fc()}if(2&n){var i=e.$implicit,c=S.Mc(3),o=S.vc();S.Cc("modal",i),S.Mb(7),S.Cc("ngModel",o.model.selectedSupplier)("searchable",!1),S.Mb(2),S.Cc("ngForOf",o.data.suppliers),S.Mb(1),S.Cc("ngIf",o.model.selectedSupplier),S.Mb(1),S.Cc("form",c)("modal",i)("saveButtonName","Create")}}function Pn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"numericId"),S.fc()),2&n){var t=e.$implicit;S.Cc("value",t.node),S.Mb(1),S.fd("Batch #",S.xc(2,2,t.node.id)," ")}}function _n(n,e){if(1&n){var t=S.hc();S.bc(0,"modal-header",99),S.gc(1,"div",86),S.gc(2,"form",8,100),S.gc(4,"div",88),S.gc(5,"label",89),S.dd(6,"Which Batch?"),S.fc(),S.gc(7,"ng-select",101,91),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc().data.mutationBatch=n})),S.bd(9,Pn,3,4,"ng-option",92),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(10,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(t),S.vc().addSelectedToManufactureBatch()})),S.fc()}if(2&n){var i=e.$implicit,c=S.Mc(3),o=S.vc();S.Cc("modal",i),S.Mb(7),S.Cc("ngModel",o.data.mutationBatch)("searchable",!1),S.Mb(2),S.Cc("ngForOf",o.data.availableBatches),S.Mb(1),S.Cc("form",c)("modal",i)("saveButtonName","Add")}}function kn(n,e){if(1&n&&(S.gc(0,"ng-option",94),S.dd(1),S.wc(2,"uppercase"),S.fc()),2&n){var t=S.vc().$implicit;S.Cc("value",t),S.Mb(1),S.fd(" ",S.xc(2,2,t.node.name)," ")}}function wn(n,e){if(1&n&&(S.ec(0),S.bd(1,kn,3,4,"ng-option",112),S.dc()),2&n){var t=e.$implicit;S.Mb(1),S.Cc("ngIf","Leave as is"!==t.node.name)}}function In(n,e){if(1&n){var t=S.hc();S.gc(0,"div",104),S.gc(1,"label",108),S.dd(2,"Measured Ring Size (optional)"),S.fc(),S.gc(3,"ng-select",109,110),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc(2).model.measuredRingSize=n})),S.bd(5,wn,2,1,"ng-container",52),S.fc(),S.bc(6,"app-error-messages",111),S.fc()}if(2&n){var i=S.Mc(4),c=S.vc(2);S.Mb(3),S.Cc("ngModel",c.model.measuredRingSize)("notFoundText",c.loadingActions?"Loading":"Nothing found")("searchable",!0),S.Mb(2),S.Cc("ngForOf",c.data.ringSizeCustoms),S.Mb(1),S.Cc("field",i)}}function xn(n,e){if(1&n){var t=S.hc();S.bc(0,"modal-header",102),S.wc(1,"numericId"),S.gc(2,"div",86),S.gc(3,"form",8,103),S.gc(5,"div",104),S.gc(6,"label",105),S.dd(7,"Wax Weight"),S.fc(),S.gc(8,"input",106),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc().model.waxWeight=n})),S.fc(),S.fc(),S.bd(9,In,7,5,"div",107),S.fc(),S.fc(),S.gc(10,"modal-footer",93),S.rc("modalSaved",(function(){return S.Pc(t),S.vc().markAsReceived()})),S.fc()}if(2&n){var i=e.$implicit,c=S.Mc(4),o=S.vc();S.Ec("title","Check In Item - #",S.xc(1,7,o.data.submission.id),""),S.Cc("modal",i),S.Mb(8),S.Cc("ngModel",o.model.waxWeight),S.Mb(1),S.Cc("ngIf",o.data.submission.kitType.id===o.TYPE_RING),S.Mb(1),S.Cc("form",c)("modal",i)("saveButtonName","Confirm")}}var $n=function(n){return{searchField:n,searchQuery:null}},Tn=function(n,e,t,i){return[n,e,t,i]},An=function(n){function e(e,t,i,c,o,s,a,r,g,f,b,m,p){var h=n.call(this)||this;return h.appUserService=e,h.castingCodeService=t,h.exportDataService=i,h.imageLoggingSessionService=c,h.jobService=o,h.modalService=s,h.ringSizeCustomService=a,h.router=r,h.stoneSubmissionService=g,h.submissionBatchService=f,h.submissionService=b,h.supplierService=m,h.toastrService=p,h.submissionStatusPending="pending",h.submissionStatusReceived="received",h.submissionStatusCreated="created",h.submissionStatusCompleted="completed",h.submissionId="Submission ID",h.customerName="Customer Name",h.eventName="Event Name",h.castingCode="Casting Code",h.TYPE_RING=l.d,h.statusSubmissionCreated=d.e,h.metalSilver=u,h.model={batchNotes:null,createImageLoggingSessionMap:{},currentSubmissionSearch:null,selectedSupplier:null,status:h.submissionStatusCreated,submissionPhotoTimingMap:{},typeEvent:null,waxWeight:null,measuredRingSize:null},h.data={availableBatches:[],mutationBatch:null,selections:[],submissionAndInfos:[],suppliers:[],submission:null,ringSizeCustoms:[]},h.imageLoggingSessionState=!1,h.isAdmin=!1,h.loadingActions=!0,h.loadingStones=!0,h.loadingCastingCode=!0,h.submitting=!1,h.timeElapsed=0,h}return L(e,n),e.prototype.unloadNotification=function(n){var e=this;this.data.submissionAndInfos.some((function(n){return e.model.submissionPhotoTimingMap[n.submission.node.id]}))&&(n.returnValue=!0)},e.prototype.ngOnDestroy=function(){return W(this,void 0,void 0,(function(){var n,e,t;return U(this,(function(i){switch(i.label){case 0:n=0,e=this.data.submissionAndInfos,i.label=1;case 1:return n<e.length?this.model.submissionPhotoTimingMap[(t=e[n]).submission.node.id]?[4,this.endImageLoggingSession(t.submission.node)]:[3,3]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.ngOnInit=function(){return W(this,void 0,void 0,(function(){var n=this;return U(this,(function(e){switch(e.label){case 0:return this.appUserService.getMe().subscribe((function(e){n.isAdmin=n.appUserService.isAdmin(e.data.appUser.roles),n.isAdmin?Object(p.a)(n.submissionBatchService.list(null,null,!1,!0,"DESC",!1),n.supplierService.list(!0),n.ringSizeCustomService.list()).subscribe((function(e){var t=e[0],i=e[2];n.data.suppliers=e[1].data.suppliers.edges,n.data.availableBatches=t.data.submissionBatches.edges,n.data.ringSizeCustoms=i.data.ringSizeCustoms.edges,n.loadingActions=!1})):n.loadingActions=!1})),this.liveTimeInterval=setInterval((function(){n.liveTimeCreate()}),500),[4,this.updateTable(null)];case 1:return e.sent(),[2]}}))}))},e.prototype.updateTableWithSearch=function(n,e){return W(this,void 0,void 0,(function(){var n=this;return U(this,(function(t){return this.state.loading=!0,this.state.allSelected=!1,this.data.selections=[],this.model.currentSubmissionSearch&&this.model.currentSubmissionSearch.unsubscribe(),this.model.currentSubmissionSearch=e.subscribe((function(e){var t=JSON.parse(JSON.stringify(n.data.submissionAndInfos));n.data.submissionAndInfos=[];for(var i=0,c=e.data.submissions.edges;i<c.length;i++){for(var o=c[i],s=!1,a=0,r=t;a<r.length;a++){var d=r[a];d.submission.node.id===o.node.id&&(s=d.selected)}n.data.submissionAndInfos.push({submission:o,selected:s,stones:[],castingCodes:[]})}for(var u=[],l=[],g=0,f=n.data.submissionAndInfos;g<f.length;g++){var b=f[g];b.submission.node.kit&&l.push(b.submission.node.kit.id),u.push(b.submission.node.id.replace(/^\D+/,""))}n.castingCodeService.listByKitIds(l).subscribe((function(e){for(var t=0,i=n.data.submissionAndInfos;t<i.length;t++)for(var c=i[t],o=0,s=e.data.castingCodes.edges;o<s.length;o++){var a=s[o];c.submission.node.castingCode===a.node.code&&c.castingCodes.push(a.node)}n.loadingCastingCode=!1})),n.stoneSubmissionService.listBySubmission(u).subscribe((function(e){for(var t=0,i=n.data.submissionAndInfos;t<i.length;t++)for(var c=i[t],o=0,s=e.data.stoneSubmissions.edges;o<s.length;o++){var a=s[o];c.submission.node.id===a.node.submission.id&&c.stones.push(a.node)}n.loadingStones=!1})),n.handlePagination(e.data.submissions)})),[2]}))}))},e.prototype.updateTable=function(n){return W(this,void 0,void 0,(function(){var e,t,i;return U(this,(function(c){return e=null,t=null,i=null,this.model.status===this.submissionStatusPending?e=d.l.id:this.model.status===this.submissionStatusReceived?e=d.o.id:this.model.status===this.submissionStatusCreated?t=!0:this.model.status===this.submissionStatusCompleted&&(i=!0),this.updateTableWithSearch(null,this.submissionService.listAllSubmission(n,"DESC",this.model.typeEvent,e,t,i)),[2]}))}))},e.prototype.search=function(n){if(n.searchQuery&&n.searchField){var e=null,t=null,i=null;this.model.status===this.submissionStatusPending?e=d.l.id:this.model.status===this.submissionStatusReceived?e=d.o.id:this.model.status===this.submissionStatusCreated?t=!0:this.model.status===this.submissionStatusCompleted&&(i=!0);var c=null;switch(n.searchField){case this.submissionId:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,t,i,n.searchQuery);break;case this.customerName:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,t,i,null,n.searchQuery);break;case this.eventName:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,t,i,null,null,n.searchQuery);break;case this.castingCode:c=this.submissionService.listAllSubmission(null,"DESC",this.model.typeEvent,e,t,i,null,null,null,n.searchQuery)}this.updateTableWithSearch(null,c)}else this.updateTable(null)},e.prototype.onChangeStatusFilter=function(){return W(this,void 0,void 0,(function(){return U(this,(function(n){return this.softReset(),this.updateTable(null),[2]}))}))},e.prototype.startTimer=function(){var n=this;this.timeElapsed=0,this.interval=setInterval((function(){n.timeElapsed++}),1e3)},e.prototype.endTimer=function(){clearInterval(this.interval)},e.prototype.liveTimeCreate=function(){var n=new Date;this.liveTime=("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2)},e.prototype.toggleSubmissionPhotoTimer=function(n){return W(this,void 0,void 0,(function(){var e,t,i;return U(this,(function(c){switch(c.label){case 0:this.submitting=!0,e=0,t=this.data.submissionAndInfos,c.label=1;case 1:return e<t.length?(i=t[e]).submission.node.id!==n?[3,6]:this.model.submissionPhotoTimingMap[i.submission.node.id]?[3,3]:[4,this.createImageLoggingSession(i.submission.node)]:[3,9];case 2:return c.sent(),[3,5];case 3:return[4,this.endImageLoggingSession(i.submission.node)];case 4:c.sent(),c.label=5;case 5:return[3,8];case 6:return this.model.submissionPhotoTimingMap[i.submission.node.id]?(this.model.submissionPhotoTimingMap[i.submission.node.id]=!1,[4,this.endImageLoggingSession(i.submission.node)]):[3,8];case 7:c.sent(),c.label=8;case 8:return e++,[3,1];case 9:return this.submitting=!1,[2]}}))}))},e.prototype.createImageLoggingSession=function(n){return W(this,void 0,void 0,(function(){var e,t,i;return U(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=this.model.createImageLoggingSessionMap,t=n.id,[4,this.imageLoggingSessionService.create({startTime:(new Date).toISOString(),submission:n.id})];case 1:return e[t]=c.sent(),this.imageLoggingSessionState=!0,this.startTimer(),this.toastrService.success("Started photo timing session for submission "+n.kitType.name+" ("+n.customer.fullName+")"),this.model.submissionPhotoTimingMap[n.id]=!this.model.submissionPhotoTimingMap[n.id],[3,3];case 2:return i=c.sent(),this.toastrService.error("Error starting image logging session!"),console.error(i),[3,3];case 3:return[2]}}))}))},e.prototype.endImageLoggingSession=function(n){return W(this,void 0,void 0,(function(){var e;return U(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.imageLoggingSessionService.updateEndTime({id:this.model.createImageLoggingSessionMap[n.id].createImageLoggingSession.id,endTime:(new Date).toISOString()})];case 1:return t.sent(),this.imageLoggingSessionState=!1,this.endTimer(),this.toastrService.success("Ended photo timing session for "+n.kitType.name+" ("+n.customer.fullName+")"),this.model.submissionPhotoTimingMap[n.id]=!1,[3,3];case 2:return e=t.sent(),this.toastrService.error("Error stopping image logging session!"),console.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.selectRow=function(n){if(!this.submitting)if(n.selected){n.selected=!n.selected;var e=this.data.selections.findIndex((function(e){return e.submission.node.id===n.submission.node.id}));this.data.selections.splice(e,1)}else n.selected=!0,this.data.selections.push(n)},e.prototype.selectAll=function(){if(!this.submitting){if(this.state.allSelected=!this.state.allSelected,!this.state.allSelected)for(var n=0,e=this.data.submissionAndInfos;n<e.length;n++)(c=e[n]).selected=!0,this.selectRow(c);for(var t=0,i=this.data.submissionAndInfos;t<i.length;t++){var c;(c=i[t]).selected=this.state.allSelected,this.state.allSelected&&-1===this.data.selections.indexOf(c)&&this.data.selections.push(c)}}},e.prototype.createManufactureBatch=function(){var n=this;if(!this.submitting&&this.data.selections.length){this.submitting=!0;var e=(new Date).toISOString();this.toastrService.success(null,"Creating Batch"),this.submissionBatchService.create({status:d.g.id,createdAt:e,updatedAt:e,supplier:this.model.selectedSupplier.node.id,notes:this.model.batchNotes}).subscribe((function(e){n.data.mutationBatch=e.data.createSubmissionBatch,n.toastrService.success(null,"Batch Created"),n.addSelectedToManufactureBatch()}))}},e.prototype.addSelectedToManufactureBatch=function(){for(var n=this,e=(new Date).toISOString(),t=0,i=0,c=this.toastrService.success(null,"Adding Items to Batch",{timeOut:3e4}),o=0,s=this.data.selections;o<s.length;o++){var a=s[o];if(a.submission.node.waxWeight){var r=a.submission.node.jobs.edges.find((function(n){return!1===n.node.complete}));i+=1,(r?this.jobService.updateOutgoingBatch({id:r.node.id,outgoingBatch:this.data.mutationBatch.id,status:d.g.id}):this.jobService.create({submission:a.submission.node.id,manufacturer:this.data.mutationBatch.supplier.id,status:d.g.id,outgoingBatch:this.data.mutationBatch.id,complete:!1,rush:!1,onHold:!1,createdAt:e})).subscribe((function(e){t+=1;for(var o=0,s=n.data.selections;o<s.length;o++){var a=s[o];if(e.data.updateJob&&e.data.updateJob.submission.id===a.submission.node.id){a.submission.node.status=d.g;break}if(e.data.createJob&&e.data.createJob.submission.id===a.submission.node.id){a.submission.node.status=d.g;break}}t===i?(c.toastRef.close(),n.toastrService.success(null,"Added "+i+" Items to Batch"),n.router.navigate(["manufacturing","batches","view",n.data.mutationBatch.id.replace(/\D/g,"")])):(c.toastRef.componentInstance.title="Added "+t+"/"+i+" Items to Batch",c.toastRef.timeoutReset())}))}else this.toastrService.info(null,"Item by "+a.submission.node.customer.fullName+" must be received and logged first")}0===i&&(c.toastRef.close(),this.submitting=!1)},e.prototype.resetSelections=function(){this.data.selections=[];for(var n=0,e=this.data.submissionAndInfos;n<e.length;n++)e[n].selected=!1},e.prototype.previousPage=function(){this.resetSelections(),n.prototype.previousPage.call(this)},e.prototype.nextPage=function(){this.resetSelections(),n.prototype.nextPage.call(this)},e.prototype.exportAddressData=function(){if(this.state.exporting=!0,this.data.selections.length<1)return this.toastrService.error("You must select at least one submission."),void(this.state.exporting=!1);for(var n,e=[],t=[],i=0,c=this.data.selections;i<c.length;i++)n=this.exportDataService.flattenObject(c[i],e),t.push(n.data),e=n.headers;this.exportDataService.whiteListColumns(["submission.node.id","fullName","address1","address2","city","county","postcode","country","email","castingCode"],t),this.exportDataService.renameColumns({"submission.node.id":"Order Reference"},t),this.exportDataService.addStaticValues({weight:.03,packageSize:"large letter",serviceCode:"BPR1",serviceRegisterCode:"01"},t),this.exportDataService.exportToCsv("submission_export_"+(new Date).toLocaleString(),Object.keys(t[0]),t),this.toastrService.success("Exported and downloading file"),this.state.exporting=!1},e.prototype.openWeightModal=function(n){this.modalService.open(this.submissionWeightModal,{keyboard:!1,centered:!0,backdrop:"static",size:"sm"}),this.data.submission=n},e.prototype.markAsReceived=function(){return W(this,void 0,void 0,(function(){var n,e,t,i,c,o;return U(this,(function(s){switch(s.label){case 0:return this.data.submission?(n=null,e=this.model.waxWeight,t=this.model.measuredRingSize,this.model.waxWeight=null,this.model.measuredRingSize=null,t&&(n=t.node.id),i=this.data.submission,this.toastrService.info("Updating submission","Processing"),i.markingAsReceived=!0,c={id:i.id,status:d.o.id,updatedAt:(new Date).toISOString(),waxWeight:e,measuredRingSize:n},[4,this.submissionService.update(c)]):(this.toastrService.warning("No submission selected","Warning!"),[2]);case 1:return(o=s.sent()).data&&o.data.updateSubmission.status.id===d.o.id&&(i.status={id:o.data.updateSubmission.status.id,name:o.data.updateSubmission.status.name,partnerComplete:o.data.updateSubmission.status.partnerComplete,customerComplete:o.data.updateSubmission.status.customerComplete,__typename:"Status"},i.waxWeight=e,t&&(i.measuredRingSize=t.node),this.toastrService.success("Submission ("+i.castingCode+") has been updated.","Complete")),i.markingAsReceived=!1,this.data.submission=null,[2]}}))}))},e.\u0275fac=function(n){return new(n||e)(S.ac(m.a),S.ac(v.a),S.ac(y.a),S.ac(g.a),S.ac(M.a),S.ac(P.i),S.ac(C.a),S.ac(_.b),S.ac(h.a),S.ac(f.a),S.ac(a.a),S.ac(b.a),S.ac(k.b))},e.\u0275cmp=S.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(n,e){var t;1&n&&S.jd(G,!0),2&n&&S.Lc(t=S.sc())&&(e.submissionWeightModal=t.first)},hostBindings:function(n,e){1&n&&S.rc("beforeunload",(function(n){return e.unloadNotification(n)}),!1,S.Oc)},features:[S.Jb],decls:100,vars:60,consts:[["subtitle","All Created Submissions","title","All Submissions"],[1,"container","form-container"],[1,"row","mb-2","transparent","justify-content-center"],[1,"col"],[1,"bd-callout","bd-callout-warning"],[1,"language-term"],[1,"token","input"],[1,"token","prompt"],["novalidate",""],["allSubmissionsForm","ngForm"],[1,"row","mt-5","transparent","justify-content-center"],[1,"row","text-center"],[1,"col-sm-5"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","nav-group"],["autocomplete","off","id","allSubmissions","name","allSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","eventSubmissions","name","eventSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","kitSubmissions","name","kitSubmissions","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","allStatuses","name","allStatuses","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusCreated","name","statusCreated","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusReceived","name","statusReceived","type","radio",3,"ngModel","value","change","ngModelChange"],["autocomplete","off","id","statusCompleted","name","statusCompleted","type","radio",3,"ngModel","value","change","ngModelChange"],[1,"col-sm-2"],["ngbDropdown","",1,"d-inline-block"],["id","sortMenu","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["aria-labelledby","sortMenu","ngbDropdownMenu",""],[4,"ngIf"],["class","btn btn-outline-primary","ngbDropdownItem","",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"tc"],[3,"setSearch","searchFields","searchEmitter"],[1,"table-responsive"],[1,"table","list-view"],[1,"shrink","checkbox"],["class","checkbox-wrapper checkbox-inline","style","margin: 0;",4,"ngIf"],[1,"shrink"],[1,"tr"],["class","text-center",4,"ngIf"],[3,"state","nextPage","previousPage"],[3,"size",4,"ngIf"],["modalCreateSupplierBatch",""],["modalAddToManufactureBatch",""],["submissionWeightModal",""],["ngbDropdownItem","",1,"btn","btn-outline-primary",3,"click"],["ngbDropdownItem","",1,"btn","btn-outline-primary"],[1,"checkbox-wrapper","checkbox-inline",2,"margin","0"],["id","selectAll","name","selectAll","type","checkbox",3,"ngModel","value","click","ngModelChange"],["for","selectAll"],[1,"spacer",2,"height","21px"],["colspan","42"],[1,"selected-text"],[4,"ngFor","ngForOf"],[1,"pr-0","checkbox",3,"click"],["type","checkbox",3,"ngModel","name","id","click","ngModelChange"],[3,"for"],[1,"fas","fa-camera"],[3,"click"],[3,"color-danger","color-success",4,"ngIf"],[1,"status"],[1,"btn-group"],["class","btn icon-btn-outline mx-1 fas","type","button",3,"fa-stop","fa-stopwatch-20","hover","disabled","click",4,"ngIf"],["class","btn icon-btn-outline mx-1 fas fa-clipboard-check hover text-danger","type","button",3,"disabled","click",4,"ngIf"],[3,"buttonStyle","castingCode","isAdmin","loadingCastingCode","loadingStones","photos","stones","submission",4,"ngIf"],[3,"routerLink"],[1,"fas"],["type","button",1,"btn","icon-btn-outline","mx-1","fas",3,"disabled","click"],["aria-hidden","true","class","spinner-border spinner-border-sm",4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","icon-btn-outline","mx-1","fas","fa-clipboard-check","hover","text-danger",3,"disabled","click"],[3,"buttonStyle","castingCode","isAdmin","loadingCastingCode","loadingStones","photos","stones","submission"],["colspan","6"],[1,"text-muted","text-center"],[1,"row","align-items-center","justify-content-center"],[1,"col-4"],[1,"shimmer","py-2"],[1,"row","align-items-center"],[1,"col-10"],[1,"col-5"],[1,"col-6"],[1,"col-2"],[1,"shimmer","pl-1","py-2"],[1,"col-8"],[1,"text-center"],[3,"size"],["title","Create Supplier Batch?",3,"modal"],[1,"modal-body"],["createSupplierBatchModalForm","ngForm"],[1,"form-group","mb-0"],["for","selectSupplier",1,"req"],["appShowErrorInputClass","","id","selectSupplier","name","selectSupplier","placeholder","-- Please Select --","required","",3,"ngModel","searchable","ngModelChange"],["selectSupplier","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"form","modal","saveButtonName","modalSaved"],[3,"value"],["class","mt-3","for","batchNotes",4,"ngIf"],["id","batchNotes","maxlength","511","name","batchNotes",1,"col-12","ta-medium-height",3,"ngModel","ngModelChange"],["batchNotes","ngModel"],["for","batchNotes",1,"mt-3"],["title","Add To Batch",3,"modal"],["addToManufactureBatchModalForm","ngForm"],["appShowErrorInputClass","","id","selectBatch","name","selectBatch","placeholder","-- Please Select --","required","",3,"ngModel","searchable","ngModelChange"],[3,"modal","title"],["updateWaxWeightForm","ngForm"],[1,"form-group"],["for","waxWeight",1,"req"],["appShowErrorInputClass","","id","waxWeight","maxlength","255","min","0","name","waxWeight","placeholder","0.000g","required","","type","number",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],["for","measuredRingSize",1,"req"],["appShowErrorInputClass","","id","measuredRingSize","name","measuredRingSize","placeholder","-- Please Select--",3,"ngModel","notFoundText","searchable","ngModelChange"],["measuredRingSize","ngModel"],[3,"field"],[3,"value",4,"ngIf"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"div",1),S.gc(2,"div",2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"h4"),S.dd(6,"Sync the Camera Time"),S.fc(),S.gc(7,"p"),S.dd(8," Before you start photographing, ensure that the camera or device is synchronised to the second with the server and UK time. "),S.bc(9,"br"),S.dd(10," The current live time is: "),S.gc(11,"strong"),S.dd(12),S.fc(),S.bc(13,"br"),S.dd(14," Alternatively, you can see the server time by entering the following command from your CLI "),S.fc(),S.gc(15,"pre",5),S.dd(16,"        "),S.gc(17,"code",5),S.dd(18,"\n            "),S.gc(19,"span",6),S.dd(20,"\n                "),S.gc(21,"span",7),S.dd(22,"$ "),S.fc(),S.dd(23),S.fc(),S.dd(24,"\n        "),S.fc(),S.dd(25,"\n    "),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(26,"form",8,9),S.gc(28,"div",10),S.gc(29,"div",3),S.gc(30,"div",11),S.gc(31,"div",12),S.gc(32,"div",13),S.gc(33,"label",14),S.gc(34,"input",15),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(35," All "),S.fc(),S.gc(36,"label",14),S.gc(37,"input",16),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(38," Event "),S.fc(),S.gc(39,"label",14),S.gc(40,"input",17),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.typeEvent=n})),S.fc(),S.dd(41," Kit "),S.fc(),S.fc(),S.fc(),S.gc(42,"div",12),S.gc(43,"div",13),S.gc(44,"label",14),S.gc(45,"input",18),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(46," All "),S.fc(),S.gc(47,"label",14),S.gc(48,"input",19),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(49," Created "),S.fc(),S.gc(50,"label",14),S.gc(51,"input",20),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(52," Received "),S.fc(),S.gc(53,"label",14),S.gc(54,"input",21),S.rc("change",(function(){return e.onChangeStatusFilter()}))("ngModelChange",(function(n){return e.model.status=n})),S.fc(),S.dd(55," Completed "),S.fc(),S.fc(),S.fc(),S.gc(56,"div",22),S.gc(57,"div",23),S.gc(58,"button",24),S.dd(59,"Action"),S.fc(),S.gc(60,"div",25),S.bd(61,H,3,2,"ng-container",26),S.bd(62,Y,2,0,"button",27),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(63,"div",28),S.gc(64,"div",29),S.gc(65,"div",30),S.gc(66,"search",31),S.rc("searchEmitter",(function(n){return e.search(n)})),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(67,"div",32),S.gc(68,"table",33),S.gc(69,"thead"),S.gc(70,"tr"),S.gc(71,"th",34),S.bd(72,Q,3,2,"div",35),S.fc(),S.bc(73,"th",36),S.gc(74,"th"),S.dd(75,"Customer"),S.fc(),S.bd(76,V,2,0,"th",26),S.bd(77,J,2,0,"th",26),S.bd(78,K,2,0,"th",26),S.bd(79,Z,2,0,"th",26),S.gc(80,"th"),S.dd(81,"Type"),S.fc(),S.gc(82,"th"),S.dd(83,"Paid (\xa3)"),S.fc(),S.gc(84,"th"),S.dd(85,"Submitted"),S.fc(),S.gc(86,"th"),S.dd(87,"Status"),S.fc(),S.bc(88,"th",37),S.fc(),S.fc(),S.bd(89,bn,6,2,"tbody",26),S.bd(90,pn,5,1,"tbody",26),S.fc(),S.bd(91,hn,2,1,"div",38),S.fc(),S.gc(92,"table-controls",39),S.rc("nextPage",(function(){return e.nextPage()}))("previousPage",(function(){return e.previousPage()})),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(93,vn,1,1,"loading-ring",40),S.bd(94,Sn,12,8,"ng-template",null,41,S.cd),S.bd(96,_n,11,7,"ng-template",null,42,S.cd),S.bd(98,xn,11,9,"ng-template",null,43,S.cd)),2&n&&(S.Mb(12),S.ed(e.liveTime),S.Mb(11),S.fd("\n                ",' heroku run -a management-tool-api "{ while true ; do date ; sleep 0.1 ; done } | uniq"',"\n            "),S.Mb(5),S.Sb("form-blocked",!0===e.submitting),S.Mb(5),S.Sb("active",null===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",null),S.Mb(2),S.Sb("active",!0===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",!0),S.Mb(2),S.Sb("active",!1===e.model.typeEvent),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.typeEvent)("value",!1),S.Mb(4),S.Sb("active",null===e.model.status),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",null),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusCreated),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusCreated),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusReceived),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusReceived),S.Mb(2),S.Sb("active",e.model.status===e.submissionStatusCompleted),S.Nb("disabled",e.state.loading||e.imageLoggingSessionState),S.Mb(1),S.Cc("ngModel",e.model.status)("value",e.submissionStatusCompleted),S.Mb(7),S.Cc("ngIf",!e.loadingActions),S.Mb(1),S.Cc("ngIf",e.loadingActions),S.Mb(4),S.Cc("setSearch",S.Gc(53,$n,e.customerName))("searchFields",S.Jc(55,Tn,e.submissionId,e.customerName,e.castingCode,e.eventName)),S.Mb(6),S.Cc("ngIf",!e.state.loading),S.Mb(4),S.Cc("ngIf",null===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",null===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",!1===e.model.typeEvent),S.Mb(1),S.Cc("ngIf",!0===e.model.typeEvent),S.Mb(10),S.Cc("ngIf",!e.state.loading),S.Mb(1),S.Cc("ngIf",e.state.loading),S.Mb(1),S.Cc("ngIf",e.state.loading),S.Mb(1),S.Cc("state",e.state),S.Mb(1),S.Cc("ngIf",e.submitting))},directives:[w.a,o.z,o.l,o.m,o.s,o.d,o.k,o.n,P.c,P.h,P.f,c.u,I.a,x.a,P.e,o.a,c.t,_.e,$.a,T.a,A.a,O.a,E.a,B.a,o.u,z.a,E.n,o.g,o.q,j.a],pipes:[R.a,c.G,N.a,D.a,F.a,c.I,c.f],styles:[""]}),e}(r.a),On=t("oZ8P");function En(n,e){if(1&n&&(S.gc(0,"pre",15),S.dd(1,"        "),S.gc(2,"code",15),S.dd(3,"\n            "),S.gc(4,"span",16),S.dd(5,"\n                "),S.gc(6,"span",17),S.dd(7,"Submission ID: "),S.fc(),S.dd(8),S.fc(),S.dd(9,"\n        "),S.fc(),S.dd(10,"\n    "),S.fc()),2&n){S.vc();var t=S.Mc(6);S.Mb(8),S.fd("\n              ",t.value,"\n            ")}}function Bn(n,e){1&n&&(S.gc(0,"td"),S.bc(1,"loading-ring",20),S.fc()),2&n&&(S.Mb(1),S.Cc("size",20))}function zn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Success"),S.fc())}function jn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Error"),S.fc())}function Rn(n,e){1&n&&(S.gc(0,"td",11),S.dd(1,"Already Scanned"),S.fc())}function Nn(n,e){if(1&n&&(S.gc(0,"tr"),S.gc(1,"td"),S.dd(2),S.fc(),S.bd(3,Bn,2,1,"td",18),S.bd(4,zn,2,0,"td",19),S.bd(5,jn,2,0,"td",19),S.bd(6,Rn,2,0,"td",19),S.fc()),2&n){var t=e.$implicit;S.Mb(2),S.ed(t.id),S.Mb(1),S.Cc("ngIf","loading"===t.status),S.Mb(1),S.Cc("ngIf","success"===t.status),S.Mb(1),S.Cc("ngIf","error"===t.status),S.Mb(1),S.Cc("ngIf","alreadyScanned"===t.status)}}function Dn(n,e){if(1&n){var t=S.hc();S.bc(0,"modal-header",2),S.gc(1,"div",3),S.gc(2,"div",4),S.bc(3,"img",5),S.bd(4,En,11,1,"pre",6),S.fc(),S.gc(5,"input",7,8),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc()._barcodeValue=n}))("keyup.enter",(function(){return S.Pc(t),S.vc().onScanned()})),S.fc(),S.gc(7,"div",9),S.gc(8,"table",10),S.gc(9,"thead"),S.gc(10,"tr"),S.gc(11,"th"),S.dd(12,"ID"),S.fc(),S.gc(13,"th",11),S.dd(14,"STATUS"),S.fc(),S.fc(),S.fc(),S.gc(15,"tbody"),S.bd(16,Nn,7,5,"tr",12),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(17,"div",13),S.gc(18,"button",14),S.rc("click",(function(){return S.Pc(t),S.vc().modalService.dismissAll()})),S.dd(19," Done Scanning "),S.fc(),S.fc()}if(2&n){var i=e.$implicit,c=S.Mc(6),o=S.vc();S.Cc("modal",i),S.Mb(4),S.Cc("ngIf",c.value),S.Mb(1),S.Cc("ngModel",o._barcodeValue),S.Mb(11),S.Cc("ngForOf",o.scanned)}}var Fn=function(){function n(n){this.modalService=n,this.scanned=[],this._onScanned=new S.q}return Object.defineProperty(n.prototype,"disabled",{set:function(n){this._disabled=n},enumerable:!1,configurable:!0}),n.prototype.onScanned=function(){if(null!==this._barcodeValue){for(var n=0,e=this.scanned;n<e.length;n++)if(e[n].id===this._barcodeValue)return void this.scanned.push({id:this._barcodeValue,status:"alreadyScanned"});this.scanned.push({id:this._barcodeValue,status:"loading"}),this._onScanned.emit(this._barcodeValue),this._barcodeValue=null}},n.prototype.openScannerModal=function(n){var e=this;this.modalService.open(n).result.then((function(){clearInterval(e.scannerInterval)}),(function(){clearInterval(e.scannerInterval)})),this.scannerInterval=setInterval((function(n){document.getElementById("scannerInput").focus()}),100)},Object.defineProperty(n.prototype,"updateScanned",{set:function(n){for(var e=0,t=this.scanned;e<t.length;e++){var i=t[e];if(n.id===i.id)return void(i.status=n.status)}},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(S.ac(P.i))},n.\u0275cmp=S.Ub({type:n,selectors:[["scanner-modal"]],inputs:{disabled:"disabled",updateScanned:"updateScanned"},outputs:{_onScanned:"_onScanned"},decls:4,vars:1,consts:[["type","button",1,"btn","btn-primary",3,"disabled","click"],["scanModal",""],["title","Scanning Now",3,"modal"],[1,"modal-body"],[1,"text-center"],["src","/assets/img/barcode.gif",2,"max-width","50%"],["class","language-term",4,"ngIf"],["id","scannerInput",1,"ui-hidden-accessible",3,"ngModel","ngModelChange","keyup.enter"],["barcodeValue","ngModel"],[1,"table-responsive"],[1,"table"],[1,"tc"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"language-term"],[1,"token","input"],[1,"token","prompt"],[4,"ngIf"],["class","tc",4,"ngIf"],[3,"size"]],template:function(n,e){if(1&n){var t=S.hc();S.gc(0,"button",0),S.rc("click",(function(){S.Pc(t);var n=S.Mc(3);return e.openScannerModal(n)})),S.dd(1," Scan\n"),S.fc(),S.bd(2,Dn,20,4,"ng-template",null,1,S.cd)}2&n&&S.Cc("disabled",e._disabled)},directives:[O.a,c.u,o.d,o.k,o.n,c.t,A.a],styles:[""]}),n}();function Ln(n,e){if(1&n){var t=S.hc();S.ec(0),S.gc(1,"tr"),S.wc(2,"lowercase"),S.gc(3,"td"),S.dd(4),S.fc(),S.gc(5,"td"),S.dd(6),S.wc(7,"titlecase"),S.fc(),S.gc(8,"td"),S.dd(9),S.wc(10,"currency"),S.fc(),S.gc(11,"td"),S.dd(12),S.wc(13,"simpleDateTime"),S.fc(),S.gc(14,"td",21),S.gc(15,"span"),S.dd(16),S.fc(),S.fc(),S.gc(17,"td",22),S.gc(18,"button",23),S.rc("click",(function(){S.Pc(t);var n=e.$implicit;return S.vc(2).viewSubmission(n.id)})),S.bc(19,"span",24),S.fc(),S.fc(),S.fc(),S.dc()}if(2&n){var i=e.$implicit;S.Mb(1),S.Pb("status-",S.xc(2,8,i.status.name),""),S.Mb(3),S.ed(i.customer.fullName),S.Mb(2),S.ed(S.xc(7,10,i.kitType.name)),S.Mb(3),S.ed(S.xc(10,12,i.totalPrice)),S.Mb(3),S.ed(S.xc(13,14,i.submittedAt)),S.Mb(4),S.ed(i.status.name)}}function Wn(n,e){1&n&&(S.gc(0,"tr"),S.gc(1,"td",25),S.gc(2,"p",26),S.dd(3,"No submissions scanned"),S.fc(),S.fc(),S.fc())}function Un(n,e){if(1&n&&(S.gc(0,"div",3),S.gc(1,"div",4),S.gc(2,"div",17),S.gc(3,"table",18),S.gc(4,"thead"),S.gc(5,"tr"),S.gc(6,"th"),S.dd(7,"Customer"),S.fc(),S.gc(8,"th"),S.dd(9,"Type"),S.fc(),S.gc(10,"th"),S.dd(11,"Paid (\xa3)"),S.fc(),S.gc(12,"th"),S.dd(13,"Submitted"),S.fc(),S.gc(14,"th"),S.dd(15,"Status"),S.fc(),S.bc(16,"th"),S.fc(),S.fc(),S.gc(17,"tbody"),S.bd(18,Ln,20,16,"ng-container",19),S.bd(19,Wn,4,0,"tr",20),S.fc(),S.fc(),S.fc(),S.fc(),S.fc()),2&n){var t=S.vc();S.Mb(18),S.Cc("ngForOf",t.data.submissions),S.Mb(1),S.Cc("ngIf",!t.data.submissions.length)}}var Gn,qn,Xn,Hn,Yn=function(){function n(n,e,t){this.appUserService=n,this.router=e,this.submissionService=t,this.receivedByCAST="receivedByCAST",this.atManufacturing="atManufacturing",this.backAtCAST="backAtCAST",this.sentToCustomer="sentToCustomer",this.model={typeScan:null,status:null,updateScanned:null},this.data={submissions:[]},this.state={isAdmin:!1}}return n.prototype.ngOnInit=function(){var n=this;this.appUserService.getMe().subscribe((function(e){n.state.isAdmin=n.appUserService.isAdmin(e.data.appUser.roles)}))},n.prototype.onChangeSubmissionType=function(){},n.prototype.submissionScanned=function(n){var e=this,t=new Date,i=null;switch(this.model.typeScan){case this.receivedByCAST:i=d.o.id;break;case this.atManufacturing:i=d.i.id;break;case this.backAtCAST:i=d.d.id;break;case this.sentToCustomer:i=d.n.id}var c={id:"/submissions/"+n,updatedAt:t.toUTCString(),status:i};this.submissionService.update(c).then((function(n){e.data.submissions.push(n.data.updateSubmission),e.model.updateScanned={id:n.data.updateSubmission.id.replace(/\D/g,""),status:"success"}}),(function(t){e.model.updateScanned={id:n,status:"error"}}))},n.prototype.viewSubmission=function(n){this.router.navigate(["submission","view",n.replace(/\D/g,"")])},n.\u0275fac=function(e){return new(e||n)(S.ac(m.a),S.ac(_.b),S.ac(a.a))},n.\u0275cmp=S.Ub({type:n,selectors:[["ng-component"]],decls:24,vars:19,consts:[["title","Scan In Submissions"],["novalidate",""],["scanSubmissionsForm","ngForm"],[1,"card","mt-5"],[1,"card-body"],[1,"row","text-center","mb-5"],[1,"col-sm-12"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","nav-group"],["type","radio","name","receivedByCAST","id","receivedByCAST","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","atManufacturing","id","atManufacturing","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","backAtCAST","id","backAtCAST","autocomplete","off",3,"value","ngModel","ngModelChange","change"],["type","radio","name","sentToCustomer","id","sentToCustomer","autocomplete","off",3,"value","ngModel","ngModelChange","change"],[1,"row"],[1,"col-12","tc"],[3,"disabled","updateScanned","_onScanned"],["class","card mt-5",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"status"],[1,"tr"],["type","button",1,"small-button","btn-outline-secondary","round",3,"click"],[1,"fa","fa-eye"],["colspan","6"],[1,"text-muted","text-center"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"form",1,2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"div",5),S.gc(6,"div",6),S.gc(7,"div",7),S.gc(8,"label",8),S.gc(9,"input",9),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(10," Received by CAST "),S.fc(),S.gc(11,"label",8),S.gc(12,"input",10),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(13," At Manufacturing "),S.fc(),S.gc(14,"label",8),S.gc(15,"input",11),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(16," Back At CAST "),S.fc(),S.gc(17,"label",8),S.gc(18,"input",12),S.rc("ngModelChange",(function(n){return e.model.typeScan=n}))("change",(function(){return e.onChangeSubmissionType()})),S.fc(),S.dd(19," Sent to Customer "),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(20,"div",13),S.gc(21,"div",14),S.gc(22,"scanner-modal",15),S.rc("_onScanned",(function(n){return e.submissionScanned(n)})),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(23,Un,20,2,"div",16),S.fc()),2&n&&(S.Mb(8),S.Sb("active",e.model.typeScan===e.receivedByCAST),S.Mb(1),S.Cc("value",e.receivedByCAST)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.atManufacturing),S.Mb(1),S.Cc("value",e.atManufacturing)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.backAtCAST),S.Mb(1),S.Cc("value",e.backAtCAST)("ngModel",e.model.typeScan),S.Mb(2),S.Sb("active",e.model.typeScan===e.sentToCustomer),S.Mb(1),S.Cc("value",e.sentToCustomer)("ngModel",e.model.typeScan),S.Mb(4),S.Cc("disabled",null===e.model.typeScan)("updateScanned",e.model.updateScanned),S.Mb(1),S.Cc("ngIf",e.data.submissions.length>0))},directives:[w.a,o.z,o.l,o.m,o.s,o.d,o.k,o.n,Fn,c.u,c.t],pipes:[c.q,c.G,N.a,D.a],styles:[""]}),n}(),Qn=t("tk/3"),Vn=t("lTCR"),Jn=t.n(Vn),Kn=Jn()(Gn||(Xn=['\n    mutation createSignedUploadUrl(\n        $contentType: String!,\n        $extension: String!\n    ) {\n        createSignedUploadUrl(input: {\n            _id: "1",\n            contentType: $contentType,\n            extension: $extension,\n            clientMutationId: ""\n        }) {\n            id,\n            objectName,\n            signedUrl\n        }\n    }\n'],Hn=['\n    mutation createSignedUploadUrl(\n        $contentType: String!,\n        $extension: String!\n    ) {\n        createSignedUploadUrl(input: {\n            _id: "1",\n            contentType: $contentType,\n            extension: $extension,\n            clientMutationId: ""\n        }) {\n            id,\n            objectName,\n            signedUrl\n        }\n    }\n'],Object.defineProperty?Object.defineProperty(Xn,"raw",{value:Hn}):Xn.raw=Hn,Gn=Xn)),Zn=Jn()(qn||(qn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createProcessUploadedSubmissionsRequest(\n        $numberToProcess: Int!\n    ) {\n        createProcessUploadedSubmissionsRequest(input: {\n            numberToProcess: $numberToProcess,\n            clientMutationId: ""\n        }) {\n            id,\n            numberProcessed\n        }\n    }\n'],['\n    mutation createProcessUploadedSubmissionsRequest(\n        $numberToProcess: Int!\n    ) {\n        createProcessUploadedSubmissionsRequest(input: {\n            numberToProcess: $numberToProcess,\n            clientMutationId: ""\n        }) {\n            id,\n            numberProcessed\n        }\n    }\n']))),ne=t("/IUn"),ee=function(n,e,t,i){return new(t||(t=Promise))((function(c,o){function s(n){try{r(i.next(n))}catch(e){o(e)}}function a(n){try{r(i.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}r((i=i.apply(n,e||[])).next())}))},te=function(n,e){var t,i,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,i&&(c=2&o[0]?i.return:o[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,o[1])).done)return c;switch(i=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],i=0}finally{t=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ie=function(){function n(n,e){this.http=n,this.apollo=e}return n.prototype.createSignedUploadUrl=function(n){return ee(this,void 0,void 0,(function(){return te(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:Kn,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.prototype.uploadFile=function(n,e){return ee(this,void 0,void 0,(function(){var t,i;return te(this,(function(c){return t=new Qn.d({"Content-Type":n.type}),i=new Qn.e("PUT",e,n,{headers:t,reportProgress:!0}),[2,this.http.request(i).toPromise()]}))}))},n.prototype.processUploads=function(n){return ee(this,void 0,void 0,(function(){return te(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:Zn,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.\u0275fac=function(e){return new(e||n)(S.oc(Qn.b),S.oc(ne.b))},n.\u0275prov=S.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),ce=t("kvL/"),oe=function(n,e,t,i){return new(t||(t=Promise))((function(c,o){function s(n){try{r(i.next(n))}catch(e){o(e)}}function a(n){try{r(i.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}r((i=i.apply(n,e||[])).next())}))},se=function(n,e){var t,i,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,i&&(c=2&o[0]?i.return:o[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,o[1])).done)return c;switch(i=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],i=0}finally{t=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function ae(n,e){if(1&n){var t=S.hc();S.gc(0,"ngx-dropzone-preview",10),S.rc("removed",(function(){S.Pc(t);var n=e.$implicit;return S.vc().onRemove(n)})),S.gc(1,"ngx-dropzone-label"),S.dd(2),S.fc(),S.fc()}if(2&n){var i=e.$implicit;S.Cc("file",i)("removable",!0),S.Mb(2),S.gd("",i.name," (",i.type,")")}}function re(n,e){if(1&n&&(S.gc(0,"p",11),S.dd(1),S.fc()),2&n){var t=S.vc();S.Mb(1),S.fd("Processed: ",t.processed," file(s)")}}function de(n,e){1&n&&S.bc(0,"loading-ring",12),2&n&&S.Cc("size",100)}var ue=function(){function n(n,e){this.fileUploadService=n,this.toastr=e,this.numUploadsToProcess=20,this.data={files:[]},this.state={submitting:!1},this.model={},this.processed=0}return n.prototype.onSelect=function(n){var e;(e=this.data.files).push.apply(e,n.addedFiles)},n.prototype.onRemove=function(n){this.data.files.splice(this.data.files.indexOf(n),1)},n.prototype.doUpload=function(){return oe(this,void 0,void 0,(function(){var n,e,t=this;return se(this,(function(i){switch(i.label){case 0:this.state.submitting=!0,this.processed=0,i.label=1;case 1:return i.trys.push([1,3,4,5]),n=this.data.files.map((function(n){return t.fileUploadService.createSignedUploadUrl({contentType:n.type,extension:n.name.split(".").pop()}).then((function(e){return t.processed++,t.fileUploadService.uploadFile(n,e.createSignedUploadUrl.signedUrl)}))})),[4,Promise.all(n)];case 2:return i.sent(),this.toastr.success("Image(s) uploaded successfully!"),this.data.files=[],[3,5];case 3:return e=i.sent(),this.toastr.error("Ohnoes! Something went wrong with the upload :("),console.error(e),[3,5];case 4:return this.state.submitting=!1,[7];case 5:return[2]}}))}))},n.prototype.processUploads=function(){return oe(this,void 0,void 0,(function(){var n,e,t,i;return se(this,(function(c){switch(c.label){case 0:this.state.submitting=!0,c.label=1;case 1:c.trys.push([1,5,6,7]),n=-1,e=0,c.label=2;case 2:return 0===n?[3,4]:[4,this.fileUploadService.processUploads({numberToProcess:this.numUploadsToProcess})];case 3:return t=c.sent(),e+=n=t.createProcessUploadedSubmissionsRequest.numberProcessed,[3,2];case 4:return 0===e?this.toastr.warning("0 files were succesfully processed on the server"):this.toastr.success(e+" files processed"),[3,7];case 5:return i=c.sent(),this.toastr.error("Error requesting processing of uploads"),console.error(i),[3,7];case 6:return this.state.submitting=!1,[7];case 7:return[2]}}))}))},n.\u0275fac=function(e){return new(e||n)(S.ac(ie),S.ac(k.b))},n.\u0275cmp=S.Ub({type:n,selectors:[["ng-component"]],decls:23,vars:5,consts:[["subtitle","Upload the photos taken from a wax logging session","title","Upload Wax Images"],[1,"card","mt-5"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"mb-3",3,"change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","lead",4,"ngIf"],[3,"size",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"lead"],[3,"size"]],template:function(n,e){1&n&&(S.bc(0,"page-title",0),S.gc(1,"div",1),S.gc(2,"div",2),S.gc(3,"div",3),S.gc(4,"div",4),S.gc(5,"h4"),S.dd(6,"Upload Photos"),S.fc(),S.gc(7,"ngx-dropzone",5),S.rc("change",(function(n){return e.onSelect(n)})),S.gc(8,"ngx-dropzone-label"),S.dd(9,"Drop you photo(s) here."),S.fc(),S.bd(10,ae,3,4,"ngx-dropzone-preview",6),S.fc(),S.gc(11,"button",7),S.rc("click",(function(){return e.doUpload()})),S.dd(12," Upload "),S.fc(),S.bd(13,re,2,1,"p",8),S.fc(),S.fc(),S.fc(),S.fc(),S.gc(14,"div",1),S.gc(15,"div",2),S.gc(16,"div",3),S.gc(17,"div",4),S.gc(18,"h4"),S.dd(19,"Process Uploads on the Server"),S.fc(),S.gc(20,"button",7),S.rc("click",(function(){return e.processUploads()})),S.dd(21," Process Uploads "),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.bd(22,de,1,1,"loading-ring",9)),2&n&&(S.Mb(10),S.Cc("ngForOf",e.data.files),S.Mb(1),S.Cc("disabled",e.state.submitting||0===e.data.files.length),S.Mb(2),S.Cc("ngIf",!0===e.state.submitting||e.processed>0),S.Mb(7),S.Cc("disabled",e.state.submitting),S.Mb(2),S.Cc("ngIf",e.state.submitting))},directives:[w.a,ce.a,ce.g,c.t,c.u,ce.d,A.a],encapsulation:2}),n}(),le=[{path:"list",component:An},{path:"view/:id",component:On.a},{path:"scan",component:Yn},{path:"upload",component:ue}],ge=function(){function n(){}return n.\u0275mod=S.Yb({type:n}),n.\u0275inj=S.Xb({factory:function(e){return new(e||n)},imports:[[_.f.forChild(le)],_.f]}),n}();function fe(n,e){if(1&n){var t=S.hc();S.gc(0,"button",2),S.rc("click",(function(){return S.Pc(t),S.vc().showConfirmAction()})),S.dd(1),S.fc()}if(2&n){var i=S.vc();S.Cc("disabled",i.state.disabled),S.Mb(1),S.fd(" ",i._buttonText,"\n")}}function be(n,e){if(1&n){var t=S.hc();S.gc(0,"button",3),S.rc("click",(function(){return S.Pc(t),S.vc().confirmed()})),S.dd(1," Confirm?\n"),S.fc()}}var me,pe=function(){function n(){this.state={confirming:!1,disabled:!1},this.confirmedAction=new S.q}return Object.defineProperty(n.prototype,"buttonText",{set:function(n){this._buttonText=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabledState",{set:function(n){this.state.disabled=n},enumerable:!1,configurable:!0}),n.prototype.confirmed=function(){this.state.confirming=!1,this.confirmedAction.emit()},n.prototype.showConfirmAction=function(){var n=this;this.state.confirming=!0,setTimeout((function(){n.state.confirming=!1}),3e3)},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=S.Ub({type:n,selectors:[["confirm-action"]],inputs:{buttonText:"buttonText",disabledState:"disabledState"},outputs:{confirmedAction:"confirmedAction"},decls:2,vars:2,consts:[["class","btn btn-lg btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-lg btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-lg","btn-primary",3,"disabled","click"],[1,"btn","btn-lg","btn-warning",3,"click"]],template:function(n,e){1&n&&(S.bd(0,fe,2,2,"button",0),S.bd(1,be,2,0,"button",1)),2&n&&(S.Cc("ngIf",!e.state.confirming),S.Mb(1),S.Cc("ngIf",e.state.confirming))},directives:[c.u],encapsulation:2}),n}(),he=t("rhck"),ve=t("/wnf"),ye=t("YbyT"),Ce=t("57tZ"),Me=t("xzcs"),Se=t("D2Fp"),Pe=t("lbMj"),_e=t("IfPz"),ke=t("ZtzB"),we=t("zoH9"),Ie=t("DWOX"),xe=t("DwNB"),$e=t("Cdzh"),Te=t("BAfr"),Ae=t("mhvR"),Oe=t("iUZM"),Ee=Jn()(me||(me=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation createSubmissionNote(\n        $submissionId: String!,\n        $note: String!,\n        $adminOnly: Boolean!,\n        $updatedAt: String!,\n        $createdAt: String!,\n        $emailToCustomer: Boolean!,\n    ) {\n        createSubmissionNote(input: {\n            clientMutationId: ""\n            submission: $submissionId,\n            note: $note,\n            adminOnly: $adminOnly,\n            updatedAt: $updatedAt,\n            createdAt: $createdAt,\n            emailToCustomer: $emailToCustomer,\n        }) {\n            id\n            note\n            addedBy\n            adminOnly\n            emailToCustomer\n            createdAt\n        }\n    }\n'],['\n    mutation createSubmissionNote(\n        $submissionId: String!,\n        $note: String!,\n        $adminOnly: Boolean!,\n        $updatedAt: String!,\n        $createdAt: String!,\n        $emailToCustomer: Boolean!,\n    ) {\n        createSubmissionNote(input: {\n            clientMutationId: ""\n            submission: $submissionId,\n            note: $note,\n            adminOnly: $adminOnly,\n            updatedAt: $updatedAt,\n            createdAt: $createdAt,\n            emailToCustomer: $emailToCustomer,\n        }) {\n            id\n            note\n            addedBy\n            adminOnly\n            emailToCustomer\n            createdAt\n        }\n    }\n']))),Be=function(){function n(n){this.apollo=n}return n.prototype.create=function(n){return this.apollo.mutate({mutation:Ee,variables:n})},n.\u0275fac=function(e){return new(e||n)(S.oc(ne.b))},n.\u0275prov=S.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),ze=t("G0jp");function je(n,e){1&n&&(S.gc(0,"p"),S.dd(1,"This note is admin only"),S.fc())}function Re(n,e){1&n&&(S.gc(0,"p"),S.dd(1,"This note was sent to the customer"),S.fc())}function Ne(n,e){if(1&n&&(S.gc(0,"div",10),S.gc(1,"b",15),S.dd(2),S.wc(3,"simpleDate"),S.fc(),S.gc(4,"pre",16),S.dd(5),S.fc(),S.bd(6,je,2,0,"p",7),S.bd(7,Re,2,0,"p",7),S.fc()),2&n){var t=e.$implicit;S.Mb(2),S.gd("On ",S.xc(3,5,t.node.createdAt)," ",t.node.addedBy?t.node.addedBy+" wrote:":"",""),S.Mb(3),S.ed(t.node.note),S.Mb(1),S.Cc("ngIf",t.node.adminOnly),S.Mb(1),S.Cc("ngIf",t.node.emailToCustomer)}}function De(n,e){if(1&n&&(S.gc(0,"li"),S.gc(1,"span"),S.dd(2,"Internal Notes"),S.fc(),S.bc(3,"br"),S.gc(4,"div",9),S.bd(5,Ne,8,7,"div",14),S.fc(),S.fc()),2&n){var t=S.vc();S.Mb(5),S.Cc("ngForOf",t._notes)}}function Fe(n,e){if(1&n){var t=S.hc();S.gc(0,"div",10),S.gc(1,"div",17),S.gc(2,"input",18),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc().adminOnly=n})),S.fc(),S.gc(3,"label",19),S.dd(4,"Admin Only"),S.fc(),S.fc(),S.gc(5,"div",17),S.gc(6,"input",20),S.rc("ngModelChange",(function(n){return S.Pc(t),S.vc().emailToCustomer=n})),S.fc(),S.gc(7,"label",21),S.dd(8,"Email Note to Customer"),S.fc(),S.fc(),S.fc()}if(2&n){var i=S.vc();S.Mb(2),S.Cc("ngModel",i.adminOnly),S.Mb(4),S.Cc("ngModel",i.emailToCustomer)}}var Le=function(){function n(n){this.submissionNoteService=n,this._isAdmin=!1,this.adminOnly=!1,this.emailToCustomer=!1,this.newNote=null,this.submitting=!1}return Object.defineProperty(n.prototype,"customerNote",{set:function(n){this._customerNote=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"notes",{set:function(n){this._notes=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submissionId",{set:function(n){this._submissionId=n},enumerable:!1,configurable:!0}),n.prototype.addNote=function(){var n=this;this.submitting=!0;var e=(new Date).toISOString();this.submissionNoteService.create({submissionId:this._submissionId,note:this.newNote,adminOnly:this.adminOnly,emailToCustomer:this.emailToCustomer,createdAt:e,updatedAt:e}).subscribe((function(e){n._notes.push({node:{id:e.data.createSubmissionNote.id,note:e.data.createSubmissionNote.note,adminOnly:e.data.createSubmissionNote.adminOnly,addedBy:e.data.createSubmissionNote.addedBy,emailToCustomer:e.data.createSubmissionNote.emailToCustomer,createdAt:e.data.createSubmissionNote.createdAt,updatedAt:e.data.createSubmissionNote.createdAt}}),n.adminOnly=!1,n.emailToCustomer=!1,n.newNote="",n.submitting=!1}))},n.\u0275fac=function(e){return new(e||n)(S.ac(Be))},n.\u0275cmp=S.Ub({type:n,selectors:[["submission-view-notes"]],inputs:{customerNote:"customerNote",isAdmin:"isAdmin",notes:"notes",submissionId:"submissionId"},decls:24,vars:4,consts:[[1,"row","mt-3"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card-details"],[2,"word-break","break-word"],[4,"ngIf"],[1,"editable"],[1,"row"],[1,"col-12"],["id","newSubmissionNote","maxlength","1023","name","newSubmissionNote",1,"col-12","ta-medium-height","form-control",3,"ngModel","ngModelChange"],["class","col-12",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["class","col-12",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"mb-0",2,"border","dashed 1px"],[1,"form-check"],["id","adminOnlyCheckbox","name","adminOnlyCheckbox","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["for","adminOnlyCheckbox",1,"form-check-label"],["id","emailToCustomerCheckbox","name","emailToCustomerCheckbox","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["for","emailToCustomerCheckbox",1,"form-check-label"]],template:function(n,e){1&n&&(S.gc(0,"div",0),S.gc(1,"div",1),S.gc(2,"div",2),S.gc(3,"div",3),S.gc(4,"h6",4),S.dd(5,"Notes"),S.fc(),S.gc(6,"ul",5),S.gc(7,"li"),S.gc(8,"span"),S.dd(9,"Customer Notes"),S.fc(),S.gc(10,"span",6),S.dd(11),S.fc(),S.fc(),S.bd(12,De,6,1,"li",7),S.bc(13,"hr"),S.gc(14,"li",8),S.gc(15,"div",9),S.gc(16,"span",10),S.dd(17,"Add Note"),S.fc(),S.gc(18,"textarea",11),S.rc("ngModelChange",(function(n){return e.newNote=n})),S.dd(19,"                            "),S.fc(),S.bd(20,Fe,9,2,"div",12),S.gc(21,"div",10),S.gc(22,"button",13),S.rc("click",(function(){return e.addNote()})),S.dd(23,"Add"),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.fc(),S.fc()),2&n&&(S.Mb(11),S.fd(" ",e._customerNote?e._customerNote:"No Customer Notes"," "),S.Mb(1),S.Cc("ngIf",e._notes.length),S.Mb(6),S.Cc("ngModel",e.newNote),S.Mb(2),S.Cc("ngIf",e._isAdmin))},directives:[c.u,o.d,o.g,o.k,o.n,c.t,o.a],pipes:[ze.a],styles:[""]}),n}(),We=t("jmmt"),Ue=t("o973"),Ge=t("aX/C"),qe=t("b44C"),Xe=t("oy+2"),He=t("KWY1"),Ye=t("dkTK"),Qe=function(){function n(){}return n.prototype.transform=function(n,e,t){return n&&e&&t?n.replace(new RegExp(this.escapeStr(e),"g"),t):n},n.prototype.escapeStr=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=S.Zb({name:"replace",type:n,pure:!0}),n}(),Ve=t("RNmn"),Je=t("9WpQ"),Ke=function(){function n(){}return n.\u0275mod=S.Yb({type:n}),n.\u0275inj=S.Xb({factory:function(e){return new(e||n)},imports:[[c.c,o.f,P.g,ce.c,s.a,ge,E.b]]}),n}();S.Tc(On.a,[c.r,c.s,c.t,c.u,c.B,c.x,c.y,c.z,c.A,c.v,c.w,o.z,o.p,o.y,o.d,o.q,o.t,o.a,o.v,o.w,o.s,o.k,o.l,o.u,o.h,o.g,o.r,o.b,o.e,o.n,o.o,o.m,P.c,P.d,P.h,P.f,P.e,P.k,ce.a,ce.g,ce.d,ce.b,ce.e,ce.f,pe,he.a,ve.a,ye.a,Ce.a,j.a,Me.a,Se.a,Pe.a,_e.a,ke.a,T.a,we.a,A.a,Ie.a,xe.a,z.a,O.a,P.m,w.a,r.a,$e.a,B.a,Te.a,Ae.a,Oe.a,Le,We.a,Ue.a,Ge.a,x.a,$.a,I.a,qe.a,_.g,_.c,_.e,_.d,_.h,E.a,E.n,E.d,E.c,E.e,E.f,E.g,E.h,E.i,E.j,E.k,E.l,E.m,An,ue,Fn,Yn,On.a],[c.b,c.I,c.q,c.l,c.F,c.g,c.D,c.G,c.d,c.f,c.j,c.k,c.m,Xe.a,N.a,R.a,F.a,He.a,Ye.a,Qe,ze.a,D.a,Ve.a,Je.a])},dkTK:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n,e,t){void 0===t&&(t="min"),n.length=0;var i=0;"min"===t&&(i=Math.min.apply(Math,e));for(var c=0;c<i;c++)n.push(c);return n},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Zb({name:"range",type:n,pure:!1}),n}()},iUZM:function(n,e,t){"use strict";t.d(e,"a",(function(){return F}));var i=t("f3+V"),c=t("fXoL"),o=t("5eHb"),s=t("3Pt+"),a=t("ofXK"),r=t("PxxC"),d=t("ZOsW");function u(n,e){if(1&n){var t=c.hc();c.gc(0,"span",14),c.dd(1),c.wc(2,"titlecase"),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc();return e.editing(e.keys.fullName,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc();c.Mb(1),c.fd(" ",c.xc(2,1,i._customer.fullName)," ")}}function l(n,e){if(1&n){var t=c.hc();c.gc(0,"span",21),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.fullName,n)})),c.gc(1,"input",22),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.fullName=n})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.Cc("ngModel",i._customer.fullName)}}function g(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.bd(2,l,2,1,"span",18),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc().stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc();c.Mb(2),c.Cc("ngIf",i.currentlyEditing===i.keys.fullName)}}function f(n,e){if(1&n){var t=c.hc();c.gc(0,"span",14),c.gc(1,"a",23),c.dd(2),c.fc(),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.email,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.Ec("href","mailto:",i._customer.email,"",c.Sc),c.Mb(1),c.ed(i._customer.email)}}function b(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.gc(2,"span",24),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.email,n)})),c.gc(3,"input",25),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.email=n})),c.fc(),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(3),c.Cc("ngModel",i._customer.email)}}function m(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Email Address"),c.fc(),c.bd(3,f,4,2,"span",7),c.bd(4,b,6,1,"div",8),c.fc()),2&n){var t=c.vc();c.Sb("editable",t.keys.email&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.email),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.email)}}function p(n,e){if(1&n){var t=c.hc();c.gc(0,"span",14),c.gc(1,"a",23),c.dd(2),c.fc(),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.phone,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.Ec("href","tel:",i._customer.phone,"",c.Sc),c.Mb(1),c.ed(i._customer.phone)}}function h(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",17),c.gc(2,"span",24),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.phone,n)})),c.gc(3,"input",26),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.phone=n})),c.fc(),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(3),c.Cc("ngModel",i._customer.phone)}}function v(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Phone"),c.fc(),c.bd(3,p,4,2,"span",7),c.bd(4,h,6,1,"div",8),c.fc()),2&n){var t=c.vc();c.Sb("editable",t.keys.phone&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.phone),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.phone)}}function y(n,e){if(1&n&&(c.gc(0,"span"),c.dd(1),c.gc(2,"span",27),c.dd(3),c.fc(),c.fc()),2&n){var t=c.vc();c.Mb(1),c.fd(" ",t._customer.castingCode?t._customer.castingCode:"No Code"," "),c.Mb(2),c.ed(t._originalCastingCode?"Existing casting code":"No code submission")}}function C(n,e){1&n&&(c.gc(0,"app-loading-shimmer"),c.gc(1,"div",28),c.gc(2,"div",29),c.bc(3,"div",30),c.fc(),c.fc(),c.gc(4,"div",28),c.gc(5,"div",31),c.bc(6,"div",32),c.fc(),c.fc(),c.fc())}function M(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.address1,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.fd(" ",i._customer.address1," ")}}function S(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.address1,n)})),c.gc(2,"input",34),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.address1=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(2),c.Cc("ngModel",i._customer.address1)}}function P(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(3);return e.editing(e.keys.address2,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(3);c.Mb(1),c.fd(" ",i._customer.address2," ")}}function _(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(3);return e.editing(e.keys.address2,n)})),c.gc(2,"input",35),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(3)._customer.address2=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(3).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(3);c.Mb(2),c.Cc("ngModel",i._customer.address2)}}function k(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"Address Line 2"),c.fc(),c.bd(3,P,3,1,"span",11),c.bd(4,_,5,1,"div",8),c.fc()),2&n){var t=c.vc(2);c.Sb("editable",t.keys.address2&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.address2),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.address2)}}function w(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.city,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.fd(" ",i._customer.city," ")}}function I(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.city,n)})),c.gc(2,"input",36),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.city=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(2),c.Cc("ngModel",i._customer.city)}}function x(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(3);return e.editing(e.keys.county,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(3);c.Mb(1),c.fd(" ",i._customer.county," ")}}function $(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(3);return e.editing(e.keys.county,n)})),c.gc(2,"input",37),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(3)._customer.county=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(3).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(3);c.Mb(2),c.Cc("ngModel",i._customer.county)}}function T(n,e){if(1&n&&(c.gc(0,"li"),c.gc(1,"span"),c.dd(2,"County / State"),c.fc(),c.bd(3,x,3,1,"span",11),c.bd(4,$,5,1,"div",8),c.fc()),2&n){var t=c.vc(2);c.Sb("editable",t.keys.county&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.county),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.county)}}function A(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.wc(2,"uppercase"),c.gc(3,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.postcode,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.fd(" ",c.xc(2,1,i._customer.postcode)," ")}}function O(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.postcode,n)})),c.gc(2,"input",38),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.postcode=n})),c.fc(),c.fc(),c.gc(3,"div",19),c.gc(4,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(2),c.Cc("ngModel",i._customer.postcode)}}function E(n,e){if(1&n){var t=c.hc();c.gc(0,"span"),c.dd(1),c.gc(2,"button",15),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.country,n)})),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(1),c.fd(" ",i._customer.country," ")}}function B(n,e){if(1&n&&(c.gc(0,"ng-option",41),c.dd(1),c.wc(2,"titlecase"),c.fc()),2&n){var t=e.$implicit;c.Cc("value",t.node.name),c.Mb(1),c.fd(" ",c.xc(2,2,t.node.name)," ")}}function z(n,e){if(1&n){var t=c.hc();c.gc(0,"div",16),c.gc(1,"div",33),c.rc("click",(function(n){c.Pc(t);var e=c.vc(2);return e.editing(e.keys.country,n)})),c.gc(2,"ng-select",39),c.rc("ngModelChange",(function(n){return c.Pc(t),c.vc(2)._customer.country=n})),c.bd(3,B,3,4,"ng-option",40),c.fc(),c.fc(),c.gc(4,"div",19),c.gc(5,"button",20),c.rc("click",(function(n){return c.Pc(t),c.vc(2).stopEditing(n)})),c.fc(),c.fc(),c.fc()}if(2&n){var i=c.vc(2);c.Mb(2),c.Cc("ngModel",i._customer.country)("searchable",!0),c.Mb(1),c.Cc("ngForOf",i._countries)}}function j(n,e){if(1&n&&(c.gc(0,"div",2),c.gc(1,"div",3),c.gc(2,"div",4),c.gc(3,"h6",5),c.dd(4,"Address Information"),c.fc(),c.gc(5,"ul",6),c.gc(6,"li"),c.gc(7,"span"),c.dd(8,"Address Line 1"),c.fc(),c.bd(9,M,3,1,"span",11),c.bd(10,S,5,1,"div",8),c.fc(),c.bd(11,k,5,4,"li",9),c.gc(12,"li"),c.gc(13,"span"),c.dd(14,"Town / City"),c.fc(),c.bd(15,w,3,1,"span",11),c.bd(16,I,5,1,"div",8),c.fc(),c.bd(17,T,5,4,"li",9),c.gc(18,"li"),c.gc(19,"span"),c.dd(20,"Postcode"),c.fc(),c.bd(21,A,4,3,"span",11),c.bd(22,O,5,1,"div",8),c.fc(),c.gc(23,"li"),c.gc(24,"span"),c.dd(25,"Country"),c.fc(),c.bd(26,E,3,1,"span",11),c.bd(27,z,6,3,"div",8),c.fc(),c.fc(),c.fc(),c.fc(),c.fc()),2&n){var t=c.vc();c.Mb(6),c.Sb("editable",t.keys.address1&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.address1),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.address1),c.Mb(1),c.Cc("ngIf",t._customer.address2||t._editable),c.Mb(1),c.Sb("editable",t.keys.city&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.city),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.city),c.Mb(1),c.Cc("ngIf",t._customer.county||t._editable),c.Mb(1),c.Sb("editable",t.keys.postcode&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.postcode),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.postcode),c.Mb(1),c.Sb("editable",t.keys.country&&t._editable),c.Mb(3),c.Cc("ngIf",t.currentlyEditing!==t.keys.country),c.Mb(1),c.Cc("ngIf",t.currentlyEditing===t.keys.country)}}function R(n,e){if(1&n){var t=c.hc();c.gc(0,"div",42),c.gc(1,"button",43),c.rc("click",(function(){c.Pc(t);var n=c.vc(),e=c.Mc(1);return n.updateCustomer(e)})),c.dd(2,"Update Customer "),c.fc(),c.fc()}if(2&n){var i=c.vc();c.Mb(1),c.Cc("disabled",i.updating)}}var N=function(){return function(){}}(),D=function(){return function(){this.fullName="fullName",this.address1="address1",this.address2="address2",this.city="city",this.county="county",this.country="country",this.postcode="postcode",this.phone="phone",this.email="email",this.event="event",this.regCode="regCode",this.castingCode="castingCode"}}(),F=function(){function n(n,e){this.customerService=n,this.toastrService=e,this._countries=[],this.currentlyEditing=null,this._customer=new N,this._editable=!1,this._isAdmin=!1,this.keys=new D,this._loadingCastingCode=!1,this._originalCastingCode=null,this.updating=!1}return n.prototype.editing=function(n,e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),this._editable&&(t&&(this._customer[n]=i.find((function(n){return n.node.name===t})).node.name),e.stopPropagation(),this.currentlyEditing=n)},n.prototype.stopEditing=function(n){this.currentlyEditing=null},n.prototype.updateCustomer=function(n){var e=this;this._customer.fullName&&this._customer.email&&this._customer.phone&&this._customer.address1&&this._customer.city&&this._customer.postcode&&this._customer.country?(this.updating=!0,this.toastrService.success("","Updating Customer Information"),this.customerService.updateEdit(this._customer).subscribe((function(t){e.updating=!1,e.toastrService.success("","Customer Information Updated"),n.form.markAsPristine()}))):this.toastrService.error("","Please fill in all required customer data")},Object.defineProperty(n.prototype,"countries",{set:function(n){this._countries=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"customer",{set:function(n){n.node&&(n=n.node),this._customer.id=n.id,this._customer.fullName=n.fullName,this._customer.address1=n.address1,this._customer.address2=n.address2,this._customer.city=n.city,this._customer.county=n.county,this._customer.country=n.country,this._customer.postcode=n.postcode,this._customer.phone=n.phone,this._customer.email=n.email,this._customer.event=n.event?n.event.name:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"editable",{set:function(n){this._editable=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"regCode",{set:function(n){this._customer.regCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"castingCode",{set:function(n){this._customer.castingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"originalCastingCode",{set:function(n){this._originalCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"loadingCastingCode",{set:function(n){this._loadingCastingCode=n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAdmin",{set:function(n){this._isAdmin=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(c.ac(i.a),c.ac(o.b))},n.\u0275cmp=c.Ub({type:n,selectors:[["submission-view-customer"]],hostBindings:function(n,e){1&n&&c.rc("click",(function(n){return e.stopEditing(n)}),!1,c.Nc)("keyup.Enter",(function(n){return e.stopEditing(n)}),!1,c.Nc)},inputs:{countries:"countries",customer:"customer",editable:"editable",regCode:"regCode",castingCode:"castingCode",originalCastingCode:"originalCastingCode",loadingCastingCode:"loadingCastingCode",isAdmin:"isAdmin"},decls:29,vars:11,consts:[[1,"row"],["customerViewForm","ngForm"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card-details"],["class","value",4,"ngIf"],["class","form-row w-100 align-items-center",4,"ngIf"],[3,"editable",4,"ngIf"],[2,"width","35%","margin-left","0"],[4,"ngIf"],["class","col",4,"ngIf"],["class","col-12 tc mt-3",4,"ngIf"],[1,"value"],["type","button",1,"btn","ml-1","icon-btn-outline","hover","icon-btn-small","fas","fa-pencil-alt",3,"click"],[1,"form-row","w-100","align-items-center"],[1,"col","flex-grow-1"],[3,"click",4,"ngIf"],[1,"col-auto"],["type","button",1,"btn","ml-1","icon-btn-outline","icon-btn-small","fas","fa-times",3,"click"],[3,"click"],["name","fullName","type","text",1,"form-control",3,"ngModel","ngModelChange"],[3,"href"],[1,"w-100",3,"click"],["name","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"sub-value"],[1,"row","align-items-center"],[1,"col-6"],[1,"shimmer","py-2"],[1,"col-10"],[1,"shimmer","mt-1","py-1"],[1,"col","flex-grow-1",3,"click"],["name","address1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","address2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","city","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","county","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","postcode","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","country",3,"ngModel","searchable","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-12","tc","mt-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,e){if(1&n&&(c.gc(0,"form",0,1),c.gc(2,"div",2),c.gc(3,"div",3),c.gc(4,"div",4),c.gc(5,"h6",5),c.dd(6,"Customer Details"),c.fc(),c.gc(7,"ul",6),c.gc(8,"li"),c.gc(9,"span"),c.dd(10,"Full Name"),c.fc(),c.bd(11,u,4,3,"span",7),c.bd(12,g,5,1,"div",8),c.fc(),c.bd(13,m,5,4,"li",9),c.bd(14,v,5,4,"li",9),c.gc(15,"li"),c.bc(16,"hr",10),c.fc(),c.gc(17,"li"),c.gc(18,"span"),c.dd(19,"Associated Kit"),c.fc(),c.gc(20,"span"),c.dd(21),c.fc(),c.fc(),c.gc(22,"li"),c.gc(23,"span"),c.dd(24,"Casting Code"),c.fc(),c.bd(25,y,4,2,"span",11),c.bd(26,C,7,0,"app-loading-shimmer",11),c.fc(),c.fc(),c.fc(),c.fc(),c.fc(),c.bd(27,j,28,18,"div",12),c.bd(28,R,3,1,"div",13),c.fc()),2&n){var t=c.Mc(1);c.Mb(8),c.Sb("editable",e.keys.fullName&&e._editable),c.Mb(3),c.Cc("ngIf",e.currentlyEditing!==e.keys.fullName),c.Mb(1),c.Cc("ngIf",e.currentlyEditing===e.keys.fullName),c.Mb(1),c.Cc("ngIf",e._customer.email&&e._isAdmin),c.Mb(1),c.Cc("ngIf",e._customer.phone||e._editable),c.Mb(7),c.ed(e._customer.regCode?e._customer.regCode:"No Kit"),c.Mb(4),c.Cc("ngIf",!e._loadingCastingCode),c.Mb(1),c.Cc("ngIf",e._loadingCastingCode),c.Mb(1),c.Cc("ngIf",e._isAdmin),c.Mb(1),c.Cc("ngIf",t.dirty)}},directives:[s.z,s.l,s.m,a.u,s.d,s.k,s.n,r.a,d.a,a.t,d.n],pipes:[a.G,a.I],styles:[""]}),n}()},jmmt:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var i=t("DHi0"),c=t("fXoL"),o=t("ofXK"),s=t("mm/Q");function a(n,e){if(1&n&&(c.gc(0,"div",2),c.bc(1,"img",3),c.fc()),2&n){var t=e.$implicit,i=e.index;c.Mb(1),c.Cc("lightbox",i)("src",t.data.thumb,c.Sc)("gallery","submissionPhotos")}}var r=function(){function n(n){this.gallery=n,this.items=[],this.galleryId="submissionPhotos"}return Object.defineProperty(n.prototype,"photos",{set:function(n){for(var e=0,t=n;e<t.length;e++){var c=t[e];c.node&&(c=c.node),c.signedMidsizeDownloadUrl||(c.signedMidsizeDownloadUrl=c.signedDownloadUrl),c.signedThumbnailDownloadUrl||(c.signedThumbnailDownloadUrl=c.signedDownloadUrl),this.items.push(new i.d({src:c.signedMidsizeDownloadUrl,thumb:c.signedThumbnailDownloadUrl}))}var o=this.gallery.ref(this.galleryId);o.setConfig({loadingStrategy:"lazy",imageSize:"contain"}),o.load(this.items)},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)(c.ac(i.a))},n.\u0275cmp=c.Ub({type:n,selectors:[["submission-view-photos"]],inputs:{photos:"photos"},decls:2,vars:1,consts:[[1,"row","mb-1"],["class","col-sm-4 mb-1",4,"ngFor","ngForOf"],[1,"col-sm-4","mb-1"],["alt","Reload the page. If you are seeing this, the link may have expired.",3,"lightbox","src","gallery"]],template:function(n,e){1&n&&(c.gc(0,"div",0),c.bd(1,a,2,3,"div",1),c.fc()),2&n&&(c.Mb(1),c.Cc("ngForOf",e.items))},directives:[o.t,s.b],styles:[""]}),n}()},"kvL/":function(n,e,t){"use strict";t.d(e,"c",(function(){return O})),t.d(e,"a",(function(){return x})),t.d(e,"d",(function(){return w})),t.d(e,"b",(function(){return $})),t.d(e,"f",(function(){return A})),t.d(e,"e",(function(){return T})),t.d(e,"g",(function(){return P}));var i=t("Ji7U"),c=t("LK+K"),o=t("o0o1"),s=t.n(o),a=t("vuIU"),r=t("1OyB"),d=t("fXoL"),u=t("mrSG"),l=t("ofXK"),g=t("jhN1");function f(n,e){if(1&n){var t=d.hc();d.gc(0,"ngx-dropzone-remove-badge",1),d.rc("click",(function(n){return d.Pc(t),d.vc()._remove(n)})),d.fc()}}var b=[[["ngx-dropzone-label"]]],m=["ngx-dropzone-label"],p=["fileInput"];function h(n,e){1&n&&d.Ac(0,2,["*ngIf","!_hasPreviews"])}var v=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],y=["ngx-dropzone-preview","*","ngx-dropzone-label"];function C(n,e){if(1&n){var t=d.hc();d.gc(0,"ngx-dropzone-remove-badge",2),d.rc("click",(function(n){return d.Pc(t),d.vc()._remove(n)})),d.fc()}}function M(n,e){if(1&n){var t=d.hc();d.gc(0,"video",2),d.rc("click",(function(n){return d.Pc(t),n.stopPropagation()})),d.bc(1,"source",3),d.fc()}if(2&n){var i=d.vc();d.Mb(1),d.Cc("src",i.sanitizedVideoSrc,d.Sc)}}function S(n,e){if(1&n){var t=d.hc();d.gc(0,"ngx-dropzone-remove-badge",4),d.rc("click",(function(n){return d.Pc(t),d.vc()._remove(n)})),d.fc()}}var P=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.Vb({type:n,selectors:[["ngx-dropzone-label"]]}),n}();function _(n){return null!=n&&"false"!=="".concat(n)}var k=function(){var n={BACKSPACE:8,DELETE:46};return n[n.BACKSPACE]="BACKSPACE",n[n.DELETE]="DELETE",n}(),w=function(){var n=function(){function n(e){Object(r.a)(this,n),this.sanitizer=e,this._removable=!1,this.removed=new d.q,this.tabIndex=0}return Object(a.a)(n,[{key:"keyEvent",value:function(n){switch(n.keyCode){case k.BACKSPACE:case k.DELETE:this.remove()}}},{key:"_remove",value:function(n){n.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:function(){return Object(u.__awaiter)(this,void 0,void 0,s.a.mark((function n(){var e=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,t){var i=new FileReader;if(i.onload=function(e){n(e.target.result)},i.onerror=function(n){console.error("FileReader failed on file ".concat(e.file.name,".")),t(n)},!e.file)return t("No file to read. Please provide a file using the [file] Input property.");i.readAsDataURL(e.file)})));case 1:case"end":return n.stop()}}),n)})))}},{key:"removable",get:function(){return this._removable},set:function(n){this._removable=_(n)}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}}]),n}();return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(n,e){1&n&&d.rc("keyup",(function(n){return e.keyEvent(n)})),2&n&&(d.jc("tabindex",e.tabIndex),d.Xc(e.hostStyle))},inputs:{removable:"removable",file:"file"},outputs:{removed:"removed"},ngContentSelectors:m,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.Ac(0),d.bd(1,f,1,0,"ngx-dropzone-remove-badge",0)),2&n&&(d.Mb(1),d.Cc("ngIf",e.removable))},directives:function(){return[l.u,T]},styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),n}(),I=function(){var n=function(){function n(){Object(r.a)(this,n)}return Object(a.a)(n,[{key:"parseFileList",value:function(n,e,t,i){for(var c=[],o=[],s=0;s<n.length;s++){var a=n.item(s);this.isAccepted(a,e)?t&&a.size>t?this.rejectFile(o,a,"size"):!i&&c.length>=1?this.rejectFile(o,a,"no_multiple"):c.push(a):this.rejectFile(o,a,"type")}return{addedFiles:c,rejectedFiles:o}}},{key:"isAccepted",value:function(n,e){if("*"===e)return!0;var t=e.split(",").map((function(n){return n.toLowerCase().trim()})),i=n.type.toLowerCase(),c=n.name.toLowerCase();return!!t.find((function(n){return n.endsWith("/*")?i.split("/")[0]===n.split("/")[0]:n.startsWith(".")?c.endsWith(n):n==i}))}},{key:"rejectFile",value:function(n,e,t){var i=e;i.reason=t,n.push(i)}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Wb({token:n,factory:n.\u0275fac}),n}(),x=function(){var n=function(){function n(e){Object(r.a)(this,n),this.service=e,this.change=new d.q,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return Object(a.a)(n,[{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(n){this.disabled||(this.preventDefault(n),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(n){this.disabled||(this.preventDefault(n),this._isHovered=!1,this.handleFileDrop(n.dataTransfer.files))}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(n){this.handleFileDrop(n.target.files),this._fileInput.nativeElement.value="",this.preventDefault(n)}},{key:"handleFileDrop",value:function(n){var e=this.service.parseFileList(n,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:e.addedFiles,rejectedFiles:e.rejectedFiles,source:this})}},{key:"preventDefault",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=_(n),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(n){this._multiple=_(n)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(n){this._maxFileSize=function(n){return isNaN(parseFloat(n))||isNaN(Number(n))?null:Number(n)}(n)}},{key:"expandable",get:function(){return this._expandable},set:function(n){this._expandable=_(n)}},{key:"disableClick",get:function(){return this._disableClick},set:function(n){this._disableClick=_(n)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(d.ac(I,2))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(n,e,t){var i;1&n&&d.Tb(t,w,!0),2&n&&d.Lc(i=d.sc())&&(e._previewChildren=i)},viewQuery:function(n,e){var t;1&n&&d.jd(p,!0),2&n&&d.Lc(t=d.sc())&&(e._fileInput=t.first)},hostVars:8,hostBindings:function(n,e){1&n&&d.rc("click",(function(){return e._onClick()}))("dragover",(function(n){return e._onDragOver(n)}))("dragleave",(function(){return e._onDragLeave()}))("drop",(function(n){return e._onDrop(n)})),2&n&&d.Sb("ngx-dz-hovered",e._isHovered)("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[d.Lb([I])],ngContentSelectors:y,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(n,e){1&n&&(d.Bc(v),d.gc(0,"input",0,1),d.rc("change",(function(n){return e._onFilesSelected(n)})),d.fc(),d.bd(2,h,1,0,"ng-content",2),d.Ac(3),d.Ac(4,1)),2&n&&(d.Cc("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),d.Nb("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),d.Mb(2),d.Cc("ngIf",!e._hasPreviews))},directives:[l.u],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:#000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}"]}),n}(),$=function(){var n=function(n){Object(i.a)(t,n);var e=Object(c.a)(t);function t(n){var i;return Object(r.a)(this,t),(i=e.call(this,n)).imageSrc="",i}return Object(a.a)(t,[{key:"ngOnInit",value:function(){var n=this;this.readFile().then((function(e){return setTimeout((function(){return n.imageSrc=e}))})).catch((function(n){return console.error(n)}))}}]),t}(w);return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-image-preview"]],features:[d.Lb([{provide:w,useExisting:n}]),d.Jb],ngContentSelectors:m,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.bc(0,"img",0),d.Ac(1),d.bd(2,C,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(d.Cc("src",e.imageSrc,d.Sc),d.Mb(2),d.Cc("ngIf",e.removable))},directives:function(){return[l.u,T]},styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:focus   img[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),n}(),T=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(n,e){1&n&&(d.uc(),d.gc(0,"svg"),d.bc(1,"line",0),d.bc(2,"line",1),d.fc())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),n}(),A=function(){var n=function(n){Object(i.a)(t,n);var e=Object(c.a)(t);function t(n){return Object(r.a)(this,t),e.call(this,n)}return Object(a.a)(t,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}]),t}(w);return n.\u0275fac=function(e){return new(e||n)(d.ac(g.b))},n.\u0275cmp=d.Ub({type:n,selectors:[["ngx-dropzone-video-preview"]],features:[d.Lb([{provide:w,useExisting:n}]),d.Jb],ngContentSelectors:m,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(n,e){1&n&&(d.Bc(b),d.bd(0,M,2,1,"video",0),d.Ac(1),d.bd(2,S,1,0,"ngx-dropzone-remove-badge",1)),2&n&&(d.Cc("ngIf",e.sanitizedVideoSrc),d.Mb(2),d.Cc("ngIf",e.removable))},directives:[l.u,T],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:focus   video[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),n}(),O=function(){var n=function n(){Object(r.a)(this,n)};return n.\u0275mod=d.Yb({type:n}),n.\u0275inj=d.Xb({factory:function(e){return new(e||n)},imports:[[l.c]]}),n}()},lbMj:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){this._prefix="\xa3"}return Object.defineProperty(n.prototype,"prefix",{set:function(n){this._prefix=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["input-prefix"]],inputs:{prefix:"prefix"},decls:3,vars:1,consts:[[1,"input-group-prepend"],[1,"input-group-text"]],template:function(n,e){1&n&&(i.gc(0,"div",0),i.gc(1,"div",1),i.dd(2),i.fc(),i.fc()),2&n&&(i.Mb(2),i.ed(e._prefix))},encapsulation:2}),n}()},o973:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var i=t("fXoL"),c=t("ofXK");function o(n,e){1&n&&i.bc(0,"hr")}function s(n,e){if(1&n&&(i.gc(0,"div",6),i.gc(1,"ul",7),i.gc(2,"li"),i.dd(3,"Quantity: "),i.gc(4,"strong"),i.dd(5),i.fc(),i.fc(),i.gc(6,"li"),i.dd(7,"Stone: "),i.gc(8,"strong"),i.dd(9),i.wc(10,"titlecase"),i.fc(),i.fc(),i.gc(11,"li"),i.dd(12,"Size: "),i.gc(13,"strong"),i.dd(14),i.fc(),i.fc(),i.fc(),i.bd(15,o,1,0,"hr",9),i.fc()),2&n){var t=e.$implicit,c=e.index,s=i.vc(2);i.Mb(5),i.ed(t.number),i.Mb(4),i.ed(i.xc(10,4,t.type)),i.Mb(5),i.ed(t.size),i.Mb(1),i.Cc("ngIf",c<s._stones.length-1)}}function a(n,e){if(1&n&&(i.gc(0,"div",1),i.gc(1,"div",2),i.gc(2,"div",3),i.gc(3,"h5",4),i.dd(4,"Stones"),i.fc(),i.gc(5,"div",5),i.gc(6,"div",6),i.gc(7,"ul",7),i.gc(8,"li"),i.dd(9,"Stone Description: "),i.gc(10,"strong"),i.dd(11),i.fc(),i.fc(),i.fc(),i.fc(),i.bd(12,s,16,6,"div",8),i.fc(),i.fc(),i.fc(),i.fc()),2&n){var t=i.vc();i.Mb(11),i.ed(t._stoneDescription),i.Mb(1),i.Cc("ngForOf",t._stones)}}var r=function(){return function(){}}(),d=function(){function n(){}return Object.defineProperty(n.prototype,"stones",{set:function(n){this._stones=[];for(var e=0,t=n;e<t.length;e++){var i=t[e],c=new r;i.node&&(i=i.node),c.number=i.number,c.type=i.stoneType.name,c.size=i.stoneSize.name,this._stones.push(c)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stoneDescription",{set:function(n){this._stoneDescription=n},enumerable:!1,configurable:!0}),n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["submission-view-stones"]],inputs:{stones:"stones",stoneDescription:"stoneDescription"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"inner-section"],[1,"card-title"],[1,"row"],[1,"col-sm-12"],[1,"card-details"],["class","col-sm-12",4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(n,e){1&n&&i.bd(0,a,13,2,"div",0),2&n&&i.Cc("ngIf",e._stones&&e._stones.length)},directives:[c.u,c.t],pipes:[c.G],styles:[""]}),n}()},oZ8P:function(n,e,t){"use strict";t.d(e,"b",(function(){return N})),t.d(e,"a",(function(){return D}));var i=t("1uah"),c=t("Nlbt"),o=t("S6Vu"),s=t("CIHE"),a=t("9TxS"),r=t("P7K/"),d=t("mW4X"),u=t("AytR"),l=t("fXoL"),g=t("/IUn"),f=t("tk/3"),b=function(){function n(n,e){this.apollo=n,this.http=e}return n.prototype.list=function(n,e){return this.http.get(u.a.apiNonGraphQLUrl+"audit/App-Entity-"+n+"/"+e)},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b),l.oc(f.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),m=t("1kSV"),p=t("tyNb"),h=["viewAuditsModal"];function v(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"div",18),l.gc(2,"div",19),l.gc(3,"div",20),l.gc(4,"h5",15),l.dd(5,"Submission Photos"),l.fc(),l.bc(6,"submission-view-photos",21),l.fc(),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc(2);l.Mb(6),l.Cc("photos",t.data.submission.submissionPhotos.edges)}}function y(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",15),l.dd(2,"Submission Jobs"),l.fc(),l.bc(3,"app-submission-view-jobs",22),l.fc()),2&n){var t=l.vc(2);l.Mb(3),l.Cc("jobs",t.data.submission.jobs.edges)}}function C(n,e){if(1&n){var t=l.hc();l.gc(0,"div",23),l.gc(1,"div",24),l.gc(2,"button",25),l.rc("click",(function(){return l.Pc(t),l.vc(2).viewAudits()})),l.dd(3," View Submission History "),l.fc(),l.fc(),l.fc()}}function M(n,e){if(1&n){var t=l.hc();l.gc(0,"tr"),l.gc(1,"td"),l.dd(2),l.wc(3,"titlecase"),l.fc(),l.gc(4,"td"),l.dd(5),l.wc(6,"titlecase"),l.fc(),l.gc(7,"td"),l.dd(8),l.wc(9,"simpleDateTime"),l.fc(),l.gc(10,"td"),l.dd(11),l.wc(12,"currency"),l.fc(),l.gc(13,"td",28),l.gc(14,"button",29),l.rc("click",(function(){l.Pc(t);var n=l.vc().$implicit;return l.vc(3).viewSubmission(n.node.id)})),l.bc(15,"span",30),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc().$implicit;l.Mb(2),l.ed(l.xc(3,4,i.node.status.name)),l.Mb(3),l.ed(l.xc(6,6,i.node.kitType.name)),l.Mb(3),l.ed(l.xc(9,8,i.node.submittedAt)),l.Mb(3),l.ed(l.xc(12,10,i.node.amountPaid))}}function S(n,e){if(1&n&&(l.ec(0),l.bd(1,M,16,12,"tr",2),l.dc()),2&n){var t=e.$implicit,i=l.vc(3);l.Mb(1),l.Cc("ngIf",t.node.id!==i.model.id)}}function P(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",15),l.dd(2),l.wc(3,"titlecase"),l.fc(),l.gc(4,"table",26),l.gc(5,"thead"),l.gc(6,"tr"),l.gc(7,"th"),l.dd(8,"Status"),l.fc(),l.gc(9,"th"),l.dd(10,"Type"),l.fc(),l.gc(11,"th"),l.dd(12,"Submitted"),l.fc(),l.gc(13,"th"),l.dd(14,"Price"),l.fc(),l.bc(15,"th"),l.fc(),l.fc(),l.gc(16,"tbody"),l.bd(17,S,2,1,"ng-container",27),l.fc(),l.fc(),l.fc()),2&n){var t=l.vc(2);l.Mb(2),l.fd("Other Submissions by ",l.xc(3,2,t.model.customer.fullName),""),l.Mb(15),l.Cc("ngForOf",t.data.customersOtherSubmissions)}}function _(n,e){if(1&n){var t=l.hc();l.gc(0,"form",5,6),l.rc("submit",(function(){return l.Pc(t),l.vc().onSubmit()})),l.gc(2,"div",7),l.gc(3,"div",8),l.gc(4,"div",9),l.bc(5,"submission-view-customer",10),l.fc(),l.gc(6,"div",9),l.bc(7,"submission-view-submission",11),l.fc(),l.gc(8,"div",12),l.bc(9,"submission-view-stones",13),l.fc(),l.bd(10,v,7,1,"div",14),l.gc(11,"div",9),l.gc(12,"h5",15),l.dd(13,"Submission Notes"),l.fc(),l.bc(14,"submission-view-notes",16),l.fc(),l.bd(15,y,4,1,"div",14),l.bd(16,C,4,0,"div",17),l.bd(17,P,18,4,"div",14),l.fc(),l.fc(),l.fc()}if(2&n){var i=l.vc();l.Mb(5),l.Cc("castingCode",i.data.submission.castingCode)("countries",i.data.countries)("customer",i.model.customer)("editable",i.state.isAdmin)("isAdmin",i.state.isAdmin)("loadingCastingCode",i.state.loadingCastingCode)("originalCastingCode",i.data.castingCode)("regCode",i.model.kit?i.model.kit.regCode:null),l.Mb(2),l.Cc("castingCode",i.data.castingCode)("castingEstimateCode",i.data.castingCode?i.data.castingCode.estimatedCost:null)("editable",i.state.isAdmin)("isAdmin",i.state.isAdmin)("loadingCastingCode",i.state.loadingCastingCode)("submissionData",i.data)("submission",i.model),l.Mb(2),l.Cc("stoneDescription",i.model.stoneDescription)("stones",i.data.stones),l.Mb(1),l.Cc("ngIf",i.data.submission.submissionPhotos.edges.length),l.Mb(4),l.Cc("customerNote",i.data.submission.customerNotes)("isAdmin",i.state.isAdmin)("notes",i.data.submission.notes.edges)("submissionId",i.data.submission.id),l.Mb(1),l.Cc("ngIf",i.data.submission.jobs.edges.length),l.Mb(1),l.Cc("ngIf",i.state.isAdmin),l.Mb(1),l.Cc("ngIf",i.data.customersOtherSubmissions.length>1)}}function k(n,e){1&n&&(l.gc(0,"h3"),l.dd(1,"Submission not Found"),l.fc())}function w(n,e){1&n&&l.bc(0,"loading-ring",31),2&n&&l.Cc("size",60)}function I(n,e){if(1&n&&(l.gc(0,"td"),l.dd(1),l.fc()),2&n){var t=l.vc().$implicit;l.Mb(1),l.ed(t.old)}}function x(n,e){1&n&&(l.gc(0,"td"),l.dd(1,"[Not Set]"),l.fc())}function $(n,e){if(1&n&&(l.gc(0,"td"),l.dd(1),l.fc()),2&n){var t=l.vc().$implicit;l.Mb(1),l.ed(t.new)}}function T(n,e){1&n&&(l.gc(0,"td"),l.dd(1,"[Not Set]"),l.fc())}function A(n,e){if(1&n&&(l.ec(0),l.gc(1,"tr"),l.gc(2,"td"),l.dd(3),l.fc(),l.gc(4,"td"),l.dd(5),l.wc(6,"simpleDateTime"),l.fc(),l.gc(7,"td"),l.dd(8),l.fc(),l.bd(9,I,2,1,"td",2),l.bd(10,x,2,0,"td",2),l.bd(11,$,2,1,"td",2),l.bd(12,T,2,0,"td",2),l.fc(),l.dc()),2&n){var t=e.$implicit,i=l.vc().$implicit;l.Mb(3),l.ed(i.blame_user),l.Mb(2),l.ed(l.xc(6,7,i.created_at)),l.Mb(3),l.ed(t.label),l.Mb(1),l.Cc("ngIf",t.old),l.Mb(1),l.Cc("ngIf",!t.old),l.Mb(1),l.Cc("ngIf",t.new),l.Mb(1),l.Cc("ngIf",!t.new)}}function O(n,e){if(1&n&&(l.ec(0),l.bd(1,A,13,9,"ng-container",27),l.dc()),2&n){var t=e.$implicit;l.Mb(1),l.Cc("ngForOf",t.diffs)}}function E(n,e){if(1&n&&(l.ec(0),l.gc(1,"table",26),l.gc(2,"thead"),l.gc(3,"tr"),l.gc(4,"th"),l.dd(5,"User"),l.fc(),l.gc(6,"th"),l.dd(7,"Date"),l.fc(),l.gc(8,"th"),l.dd(9,"Field"),l.fc(),l.gc(10,"th"),l.dd(11,"Original"),l.fc(),l.gc(12,"th"),l.dd(13,"New"),l.fc(),l.fc(),l.fc(),l.gc(14,"tbody"),l.bd(15,O,2,1,"ng-container",27),l.fc(),l.fc(),l.dc()),2&n){var t=l.vc(3);l.Mb(15),l.Cc("ngForOf",t.data.submissionAudit.paginator.results)}}function B(n,e){if(1&n&&(l.gc(0,"div",9),l.gc(1,"h5",15),l.dd(2,"Submission Edits"),l.fc(),l.bd(3,E,16,1,"ng-container",2),l.fc()),2&n){var t=l.vc(2);l.Mb(3),l.Cc("ngIf",!t.state.loadingAudit)}}function z(n,e){1&n&&l.bc(0,"loading-ring",31),2&n&&l.Cc("size",60)}function j(n,e){if(1&n&&(l.bc(0,"modal-header",32),l.gc(1,"div",33),l.bd(2,B,4,1,"div",14),l.bd(3,z,1,1,"loading-ring",3),l.fc()),2&n){var t=e.$implicit,i=l.vc();l.Cc("modal",t),l.Mb(2),l.Cc("ngIf",i.data.submissionAudit),l.Mb(1),l.Cc("ngIf",i.state.loadingAudit)}}var R=function(){return function(){}}(),N=function(){return function(){this.appUser=null,this.baseMetals=[],this.chainLengths=[],this.chainTypes=[],this.countries=[],this.customersOtherSubmissions=[],this.earringConfigs=[],this.engravingFonts=r.a.list(),this.finishes=[],this.id=null,this.platings=[],this.ringSizeCustoms=[],this.ringThicknesses=[],this.stoneQuantities=[1,2,3,4,5,6,7,8,9],this.stones=[],this.stoneSizes=[],this.stoneTypes=[],this.submission=null,this.submissionAudit=null,this.jobs=[]}}(),D=function(){function n(n,e,t,i,c,o,s,a,r){this.appUserService=n,this.auditService=e,this.castingCodeService=t,this.countryService=i,this.modalService=c,this.route=o,this.router=s,this.stoneSubmissionService=a,this.submissionService=r,this.state={found:!1,loading:!0,loadingAudit:!1,loadingCastingCode:!0,isAdmin:!1},this.model=new R,this.data=new N}return n.prototype.ngOnInit=function(){var n=this;this.route.paramMap.subscribe((function(e){n.data.id=e.get("id"),Object(i.a)(n.appUserService.getMe(),n.submissionService.getById("/submissions/"+n.data.id),n.stoneSubmissionService.listBySubmission(["/submissions/"+n.data.id])).subscribe((function(e){var t=e[0],i=e[1],c=e[2];i.data.submission?(n.state.found=!0,n.model=JSON.parse(JSON.stringify(i.data.submission)),n.data.appUser=t.data.appUser,n.data.submission=i.data.submission,n.data.stones=c.data.stoneSubmissions.edges,n.state.isAdmin=n.appUserService.isAdmin(n.data.appUser.roles),n.submissionService.listByCustomerId(n.data.submission.customer.id).subscribe((function(e){n.data.customersOtherSubmissions=e.data.submissions.edges})),n.data.submission.kit?n.castingCodeService.listByKitIds([n.data.submission.kit.id]).subscribe((function(e){e.data.castingCodes.edges.length&&(n.data.castingCode=e.data.castingCodes.edges[0].node),n.state.loadingCastingCode=!1})):n.state.loadingCastingCode=!1,n.state.loading=!1):n.state.loading=!1})),n.submissionService.getKitSubmissionData().subscribe((function(e){n.data.baseMetals=e.data.baseMetals.edges,n.data.chainLengths=e.data.chainLengths.edges,n.data.chainTypes=e.data.chainTypes.edges,n.data.earringConfigs=e.data.earringConfigs.edges,n.data.finishes=e.data.finishes.edges,n.data.platings=e.data.platings.edges,n.data.ringThicknesses=e.data.ringThicknesses.edges,n.data.ringSizeCustoms=e.data.ringSizeCustoms.edges,n.data.stoneSizes=e.data.stoneSizes.edges,n.data.stoneTypes=e.data.stoneTypes.edges})),n.countryService.list().subscribe((function(e){n.data.countries=e.data.countries.edges}))}))},n.prototype.viewSubmission=function(n){this.router.navigate(["submission","view",n.replace(/\D/g,"")])},n.prototype.viewAudits=function(){var n=this;this.state.loadingAudit=!0,this.modalService.open(this.viewAuditsModal,{size:"lg"}),this.auditService.list("Submission",this.data.id).subscribe((function(e){n.data.submissionAudit=e,n.state.loadingAudit=!1}))},n.prototype.onSubmit=function(){},n.\u0275fac=function(e){return new(e||n)(l.ac(c.a),l.ac(b),l.ac(a.a),l.ac(d.a),l.ac(m.i),l.ac(p.a),l.ac(p.b),l.ac(s.a),l.ac(o.a))},n.\u0275cmp=l.Ub({type:n,selectors:[["ng-component"]],viewQuery:function(n,e){var t;1&n&&l.jd(h,!0),2&n&&l.Lc(t=l.sc())&&(e.viewAuditsModal=t.first)},decls:6,vars:3,consts:[["subtitle","View Submission Details","title","Submission Info"],["novalidate","",3,"submit",4,"ngIf"],[4,"ngIf"],[3,"size",4,"ngIf"],["viewAuditsModal",""],["novalidate","",3,"submit"],["viewSubmissionForm","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","my-2"],[3,"castingCode","countries","customer","editable","isAdmin","loadingCastingCode","originalCastingCode","regCode"],[3,"castingCode","castingEstimateCode","editable","isAdmin","loadingCastingCode","submissionData","submission"],[1,"col-12","my-2"],[3,"stoneDescription","stones"],["class","col-md-12 my-2",4,"ngIf"],[1,"card-title"],[3,"customerNote","isAdmin","notes","submissionId"],["class","row tc",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"inner-section"],[3,"photos"],[3,"jobs"],[1,"row","tc"],[1,"col-12","tc"],["type","button",1,"btn","btn-primary",3,"click"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"tr"],["type","button",1,"small-button","btn-outline-secondary","round",3,"click"],[1,"fa","fa-eye"],[3,"size"],["title","View Submission History",3,"modal"],[1,"modal-body"]],template:function(n,e){1&n&&(l.bc(0,"page-title",0),l.bd(1,_,18,25,"form",1),l.bd(2,k,2,0,"h3",2),l.bd(3,w,1,1,"loading-ring",3),l.bd(4,j,4,3,"ng-template",null,4,l.cd)),2&n&&(l.Mb(1),l.Cc("ngIf",!e.state.loading&&e.state.found),l.Mb(1),l.Cc("ngIf",!e.state.loading&&!e.state.found),l.Mb(1),l.Cc("ngIf",e.state.loading))},styles:[""]}),n}()},"oy+2":function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){}return n.prototype.transform=function(n){if(n.hasOwnProperty("line1")){var e=Object.assign({},n);delete e.__typename,delete e.postcode,n=Object.values(e)}if(Array.isArray(n)){for(var t="",i=0,c=n;i<c.length;i++){var o=c[i];o&&(t+=", "+o)}return t.substr(2,t.length)}},n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=i.Zb({name:"address",type:n,pure:!0}),n}()},rYPC:function(n,e,t){"use strict";t.d(e,"a",(function(){return m}));var i,c,o,s,a=t("lTCR"),r=t.n(a),d=r()(i||(o=['\nmutation createImageLoggingSession(\n  $startTime: String!\n  $submission: String!\n) {\n  createImageLoggingSession(input: {\n    clientMutationId: ""\n    startTime: $startTime\n    submission: $submission\n  }) {\n  id\n  }\n}\n'],s=['\nmutation createImageLoggingSession(\n  $startTime: String!\n  $submission: String!\n) {\n  createImageLoggingSession(input: {\n    clientMutationId: ""\n    startTime: $startTime\n    submission: $submission\n  }) {\n  id\n  }\n}\n'],Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,i=o)),u=r()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateImageLoggingSessionEndTime(\n        $id: ID!\n        $endTime: String!\n    ) {\n        updateImageLoggingSession(input: {\n            id: $id,\n            endTime: $endTime,\n            clientMutationId: ""\n        }) {\n            id\n        }\n    }\n'],['\n    mutation updateImageLoggingSessionEndTime(\n        $id: ID!\n        $endTime: String!\n    ) {\n        updateImageLoggingSession(input: {\n            id: $id,\n            endTime: $endTime,\n            clientMutationId: ""\n        }) {\n            id\n        }\n    }\n']))),l=t("fXoL"),g=t("/IUn"),f=function(n,e,t,i){return new(t||(t=Promise))((function(c,o){function s(n){try{r(i.next(n))}catch(e){o(e)}}function a(n){try{r(i.throw(n))}catch(e){o(e)}}function r(n){var e;n.done?c(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}r((i=i.apply(n,e||[])).next())}))},b=function(n,e){var t,i,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,i&&(c=2&o[0]?i.return:o[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,o[1])).done)return c;switch(i=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(a){o=[6,a],i=0}finally{t=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},m=function(){function n(n){this.apollo=n}return n.prototype.create=function(n){return f(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:d,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.prototype.updateEndTime=function(n){return f(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this.apollo.mutate({mutation:u,variables:n}).toPromise()];case 1:return[2,e.sent().data]}}))}))},n.\u0275fac=function(e){return new(e||n)(l.oc(g.b))},n.\u0275prov=l.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},uA1o:function(n,e,t){"use strict";t.d(e,"a",(function(){return y}));var i,c,o,s,a,r,d,u=t("lTCR"),l=t.n(u),g=l()(i||(r=['\n    mutation createSubmissionBatch(\n        $status: String!\n        $partner: String\n        $createdAt: String!\n        $updatedAt: String!\n        $supplier: String\n        $notes: String\n    ) {\n        createSubmissionBatch(input: {\n            clientMutationId: ""\n            status: $status\n            partner: $partner\n            createdAt: $createdAt\n            updatedAt: $updatedAt\n            supplier: $supplier\n            notes: $notes\n        }) {\n            id\n            status {\n                id\n                name\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            updatedAt\n            createdAt\n        }\n    }\n'],d=['\n    mutation createSubmissionBatch(\n        $status: String!\n        $partner: String\n        $createdAt: String!\n        $updatedAt: String!\n        $supplier: String\n        $notes: String\n    ) {\n        createSubmissionBatch(input: {\n            clientMutationId: ""\n            status: $status\n            partner: $partner\n            createdAt: $createdAt\n            updatedAt: $updatedAt\n            supplier: $supplier\n            notes: $notes\n        }) {\n            id\n            status {\n                id\n                name\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            updatedAt\n            createdAt\n        }\n    }\n'],Object.defineProperty?Object.defineProperty(r,"raw",{value:d}):r.raw=d,i=r)),f=l()(c||(c=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query submissionBatchList(\n        $after: String,\n        $partnerComplete: Boolean,\n        $manufacturerComplete: Boolean,\n        $supplierExists: Boolean\n        $order: String,\n        $inProduction: Boolean,\n        $inQualityControl: Boolean,\n    ) {\n        submissionBatches (\n            after: $after,\n            status_partnerComplete: $partnerComplete,\n            status_manufacturerComplete: $manufacturerComplete,\n            status_inProduction: $inProduction,\n            status_inQualityControl: $inQualityControl\n            order: {createdAt: $order}\n            supplier: {exists: $supplierExists},\n        ) {\n            edges  {\n                node {\n                    id\n                    invoice\n                    status {\n                        id\n                        name\n                    }\n                    partner {\n                        id\n                        name\n                    }\n                    supplier {\n                        id\n                        company\n                    }\n                    updatedAt\n                    createdAt\n                    dateSent\n                }\n                cursor\n            }\n            pageInfo {\n                hasNextPage\n            }\n        }\n    }\n"],["\n    query submissionBatchList(\n        $after: String,\n        $partnerComplete: Boolean,\n        $manufacturerComplete: Boolean,\n        $supplierExists: Boolean\n        $order: String,\n        $inProduction: Boolean,\n        $inQualityControl: Boolean,\n    ) {\n        submissionBatches (\n            after: $after,\n            status_partnerComplete: $partnerComplete,\n            status_manufacturerComplete: $manufacturerComplete,\n            status_inProduction: $inProduction,\n            status_inQualityControl: $inQualityControl\n            order: {createdAt: $order}\n            supplier: {exists: $supplierExists},\n        ) {\n            edges  {\n                node {\n                    id\n                    invoice\n                    status {\n                        id\n                        name\n                    }\n                    partner {\n                        id\n                        name\n                    }\n                    supplier {\n                        id\n                        company\n                    }\n                    updatedAt\n                    createdAt\n                    dateSent\n                }\n                cursor\n            }\n            pageInfo {\n                hasNextPage\n            }\n        }\n    }\n"]))),b=l()(o||(o=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(["\n    query submissionBatchById($id: ID!) {\n        submissionBatch(id: $id) {\n            id\n            status {\n                id\n                name\n                incomingBatched\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            dateSent\n            notes\n            createdAt\n            updatedAt\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n    \n"],["\n    query submissionBatchById($id: ID!) {\n        submissionBatch(id: $id) {\n            id\n            status {\n                id\n                name\n                incomingBatched\n            }\n            partner {\n                id\n                name\n            }\n            supplier {\n                id\n                company\n            }\n            dateSent\n            notes\n            createdAt\n            updatedAt\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n    \n"]))),m=l()(s||(s=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation updateSubmissionBatch(\n        $id: ID!,\n        $updatedAt: String!,\n        $status: String,\n        $dateSent: String,\n        $invoice: String,\n        $invoiceLabourCost: Int,\n        $invoiceSilverCost: Int,\n        $invoice9ctYellowGoldCost: Int,\n        $invoice9ctRoseGoldCost: Int,\n        $invoice9ctWhiteGoldCost: Int,\n        $invoice14ctYellowGoldCost: Int,\n        $invoice14ctRoseGoldCost: Int,\n        $invoice14ctWhiteGoldCost: Int,\n        $invoice18ctYellowGoldCost: Int,\n        $invoice18ctRoseGoldCost: Int,\n        $invoice18ctWhiteGoldCost: Int,\n        $invoicePlatinumCost: Int\n    ) {\n        updateSubmissionBatch(input: {\n            id: $id,\n            updatedAt: $updatedAt,\n            status: $status,\n            dateSent: $dateSent,\n            invoice: $invoice,\n            invoiceLabourCost: $invoiceLabourCost,\n            invoiceSilverCost: $invoiceSilverCost,\n            invoice9ctYellowGoldCost: $invoice9ctYellowGoldCost,\n            invoice9ctRoseGoldCost: $invoice9ctRoseGoldCost,\n            invoice9ctWhiteGoldCost: $invoice9ctWhiteGoldCost,\n            invoice14ctYellowGoldCost: $invoice14ctYellowGoldCost,\n            invoice14ctRoseGoldCost: $invoice14ctRoseGoldCost,\n            invoice14ctWhiteGoldCost: $invoice14ctWhiteGoldCost,\n            invoice18ctYellowGoldCost: $invoice18ctYellowGoldCost,\n            invoice18ctRoseGoldCost: $invoice18ctRoseGoldCost,\n            invoice18ctWhiteGoldCost: $invoice18ctWhiteGoldCost,\n            invoicePlatinumCost: $invoicePlatinumCost,\n            clientMutationId: "",\n        }) {\n            id\n            dateSent\n            status {\n                id\n                name\n                incomingBatched\n            }\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n'],['\n    mutation updateSubmissionBatch(\n        $id: ID!,\n        $updatedAt: String!,\n        $status: String,\n        $dateSent: String,\n        $invoice: String,\n        $invoiceLabourCost: Int,\n        $invoiceSilverCost: Int,\n        $invoice9ctYellowGoldCost: Int,\n        $invoice9ctRoseGoldCost: Int,\n        $invoice9ctWhiteGoldCost: Int,\n        $invoice14ctYellowGoldCost: Int,\n        $invoice14ctRoseGoldCost: Int,\n        $invoice14ctWhiteGoldCost: Int,\n        $invoice18ctYellowGoldCost: Int,\n        $invoice18ctRoseGoldCost: Int,\n        $invoice18ctWhiteGoldCost: Int,\n        $invoicePlatinumCost: Int\n    ) {\n        updateSubmissionBatch(input: {\n            id: $id,\n            updatedAt: $updatedAt,\n            status: $status,\n            dateSent: $dateSent,\n            invoice: $invoice,\n            invoiceLabourCost: $invoiceLabourCost,\n            invoiceSilverCost: $invoiceSilverCost,\n            invoice9ctYellowGoldCost: $invoice9ctYellowGoldCost,\n            invoice9ctRoseGoldCost: $invoice9ctRoseGoldCost,\n            invoice9ctWhiteGoldCost: $invoice9ctWhiteGoldCost,\n            invoice14ctYellowGoldCost: $invoice14ctYellowGoldCost,\n            invoice14ctRoseGoldCost: $invoice14ctRoseGoldCost,\n            invoice14ctWhiteGoldCost: $invoice14ctWhiteGoldCost,\n            invoice18ctYellowGoldCost: $invoice18ctYellowGoldCost,\n            invoice18ctRoseGoldCost: $invoice18ctRoseGoldCost,\n            invoice18ctWhiteGoldCost: $invoice18ctWhiteGoldCost,\n            invoicePlatinumCost: $invoicePlatinumCost,\n            clientMutationId: "",\n        }) {\n            id\n            dateSent\n            status {\n                id\n                name\n                incomingBatched\n            }\n            invoice\n            invoiceLabourCost\n            invoiceSilverCost\n            invoice9ctYellowGoldCost\n            invoice9ctRoseGoldCost\n            invoice9ctWhiteGoldCost\n            invoice14ctYellowGoldCost\n            invoice14ctRoseGoldCost\n            invoice14ctWhiteGoldCost\n            invoice18ctYellowGoldCost\n            invoice18ctRoseGoldCost\n            invoice18ctWhiteGoldCost\n            invoicePlatinumCost\n        }\n    }\n']))),p=l()(a||(a=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}(['\n    mutation deleteSubmissionBatch($id: ID!) {\n        deleteSubmissionBatch (\n            input: {\n                id: $id,\n                clientMutationId: ""\n            }\n        ) {\n            id\n        }\n    }\n'],['\n    mutation deleteSubmissionBatch($id: ID!) {\n        deleteSubmissionBatch (\n            input: {\n                id: $id,\n                clientMutationId: ""\n            }\n        ) {\n            id\n        }\n    }\n']))),h=t("fXoL"),v=t("/IUn"),y=function(){function n(n){this.apollo=n}return n.prototype.list=function(n,e,t,i,c,o,s){return void 0===n&&(n=null),void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===c&&(c="DESC"),void 0===o&&(o=null),void 0===s&&(s=null),this.apollo.query({query:f,variables:{after:n,partnerComplete:e,manufacturerComplete:t,supplierExists:i,order:c,inProduction:o,inQualityControl:s},fetchPolicy:"network-only"})},n.prototype.get=function(n){return this.apollo.query({query:b,variables:{id:n}})},n.prototype.create=function(n){return this.apollo.mutate({mutation:g,variables:n})},n.prototype.update=function(n){return this.apollo.mutate({mutation:m,variables:n})},n.prototype.delete=function(n){return this.apollo.mutate({mutation:p,variables:{id:n}})},n.\u0275fac=function(e){return new(e||n)(h.oc(v.b))},n.\u0275prov=h.Wb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},zoH9:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var i=t("fXoL"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Ub({type:n,selectors:[["app-loading-spinner"]],decls:2,vars:0,template:function(n,e){1&n&&(i.gc(0,"p"),i.dd(1," loading-spinner works!\n"),i.fc())},styles:[""]}),n}()}}]);